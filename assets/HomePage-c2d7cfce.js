import{r as n,S as N,A as v,d as L,P as E,u as R,j as s,e as q,f as P,E as k,h as $,_ as m,i as u,R as x,k as f,x as h,l as p,L as b,m as S,n as w}from"./index-d0fee1c6.js";const F=()=>{const[o,j]=n.useState(null),[d,y]=n.useState(!0);N.use([v,L,E]);const g=R();return n.useEffect(()=>{async function a(){const e=m(u,"listings"),t=x(e,h("timestamp","desc"),f(7)),c=await p(t);let l=[];c.forEach(i=>l.push({id:i.id,data:i.data()})),j(l),y(!1)}a()},[]),d?s.jsx(q,{}):o.length===0?s.jsx(s.Fragment,{}):s.jsx(s.Fragment,{children:o&&s.jsx(s.Fragment,{children:s.jsx(P,{slidesPerView:1,navigation:!0,pagination:{type:"progressbar"},effect:"fade",modules:[k],autoplay:{delay:3e3},children:o.map(({data:a,id:e})=>s.jsxs($,{onClick:()=>g(`/category/${a.type}/${e}`),children:[s.jsx("div",{style:{background:`url(${a.imgUrls[0]}) center no-repeat`,backgroundSize:"cover"},className:" relative w-full h-[300px] overflow-hidden"}),s.jsx("p",{className:"absolute left-1 top-3  text-[#f1faee] font-medium max-w-[90%] bg-[#159cef] shadow-lg opacity-90 p-2 rounded-br-3xl",children:a.name}),s.jsxs("p",{className:"absolute left-1 bottom-1  text-[#f1faee] font-semibold max-w-[90%] bg-[#850d17] shadow-lg opacity-90 p-2 rounded-tr-3xl",children:["$",a.discountedPrice??a.regularPrice,a.type==="rent"&&" / month"]})]},e))})})})},I=()=>{const[o,j]=n.useState(null);n.useEffect(()=>{async function e(){try{const t=m(u,"listings"),c=x(t,w("offer","==",!0),h("timestamp","desc"),f(4)),l=await p(c),i=[];l.forEach(r=>i.push({id:r.id,data:r.data()})),j(i)}catch(t){console.log(t)}}e()},[]);const[d,y]=n.useState(null);n.useEffect(()=>{async function e(){try{const t=m(u,"listings"),c=x(t,w("type","==","rent"),h("timestamp","desc"),f(4)),l=await p(c),i=[];l.forEach(r=>i.push({id:r.id,data:r.data()})),y(i)}catch(t){console.log(t)}}e()},[]);const[g,a]=n.useState(null);return n.useEffect(()=>{async function e(){try{const t=m(u,"listings"),c=x(t,w("type","==","sale"),h("timestamp","desc"),f(4)),l=await p(c),i=[];l.forEach(r=>i.push({id:r.id,data:r.data()})),a(i)}catch(t){console.log(t)}}e()},[]),s.jsxs("div",{children:[s.jsx(F,{}),s.jsxs("div",{className:"max-w-6xl mx-auto pt-4 space-y-6",children:[o&&o.length>0&&s.jsxs("div",{className:"m-2 mb-6",children:[s.jsx("h2",{className:"px-3 text-2xl mt-6 font-semibold",children:"Recent offers"}),s.jsx(b,{to:"/offers",children:s.jsx("p",{className:"px-3 text-sm text-blue-600 hover:text-blue-800 transition duration-200 ease-in-out",children:"Show more offers"})}),s.jsx("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:o.map(({id:e,data:t})=>s.jsx(S,{listing:t,id:e},e))})]}),d&&d.length>0&&s.jsxs("div",{className:"m-2 mb-6",children:[s.jsx("h2",{className:"px-3 text-2xl mt-6 font-semibold",children:"Places for rent"}),s.jsx(b,{to:"/category/rent",children:s.jsx("p",{className:"px-3 text-sm text-blue-600 hover:text-blue-800 transition duration-200 ease-in-out",children:"Show more places for rent"})}),s.jsx("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.map(({id:e,data:t})=>s.jsx(S,{listing:t,id:e},e))})]}),g&&g.length>0&&s.jsxs("div",{className:"m-2 mb-6",children:[s.jsx("h2",{className:"px-3 text-2xl mt-6 font-semibold",children:"Places for sale"}),s.jsx(b,{to:"/category/sale",children:s.jsx("p",{className:"px-3 text-sm text-blue-600 hover:text-blue-800 transition duration-200 ease-in-out",children:"Show more places for sale"})}),s.jsx("ul",{className:"sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:g.map(({id:e,data:t})=>s.jsx(S,{listing:t,id:e},e))})]})]})]})};export{I as default};
