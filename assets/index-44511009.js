(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ih(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H1={exports:{}},bh={},W1={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Symbol.for("react.element"),a2=Symbol.for("react.portal"),l2=Symbol.for("react.fragment"),u2=Symbol.for("react.strict_mode"),c2=Symbol.for("react.profiler"),h2=Symbol.for("react.provider"),d2=Symbol.for("react.context"),f2=Symbol.for("react.forward_ref"),p2=Symbol.for("react.suspense"),m2=Symbol.for("react.memo"),g2=Symbol.for("react.lazy"),j_=Symbol.iterator;function v2(t){return t===null||typeof t!="object"?null:(t=j_&&t[j_]||t["@@iterator"],typeof t=="function"?t:null)}var q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G1=Object.assign,Z1={};function Ao(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||q1}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function K1(){}K1.prototype=Ao.prototype;function ag(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||q1}var lg=ag.prototype=new K1;lg.constructor=ag;G1(lg,Ao.prototype);lg.isPureReactComponent=!0;var V_=Array.isArray,Y1=Object.prototype.hasOwnProperty,ug={current:null},Q1={key:!0,ref:!0,__self:!0,__source:!0};function X1(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Y1.call(e,i)&&!Q1.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Ll,type:t,key:s,ref:a,props:r,_owner:ug.current}}function y2(t,e){return{$$typeof:Ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ll}function _2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var H_=/\/+/g;function pf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_2(""+t.key):e.toString(36)}function sc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ll:case a2:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+pf(a,0):i,V_(r)?(n="",t!=null&&(n=t.replace(H_,"$&/")+"/"),sc(r,e,n,"",function(d){return d})):r!=null&&(cg(r)&&(r=y2(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(H_,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",V_(t))for(var u=0;u<t.length;u++){s=t[u];var c=i+pf(s,u);a+=sc(s,e,n,c,r)}else if(c=v2(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=i+pf(s,u++),a+=sc(s,e,n,c,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Cu(t,e,n){if(t==null)return t;var i=[],r=0;return sc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function w2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},oc={transition:null},E2={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:oc,ReactCurrentOwner:ug};Ce.Children={map:Cu,forEach:function(t,e,n){Cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cu(t,function(){e++}),e},toArray:function(t){return Cu(t,function(e){return e})||[]},only:function(t){if(!cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Ao;Ce.Fragment=l2;Ce.Profiler=c2;Ce.PureComponent=ag;Ce.StrictMode=u2;Ce.Suspense=p2;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E2;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=G1({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ug.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)Y1.call(e,c)&&!Q1.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:Ll,type:t.type,key:r,ref:s,props:i,_owner:a}};Ce.createContext=function(t){return t={$$typeof:d2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h2,_context:t},t.Consumer=t};Ce.createElement=X1;Ce.createFactory=function(t){var e=X1.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:f2,render:t}};Ce.isValidElement=cg;Ce.lazy=function(t){return{$$typeof:g2,_payload:{_status:-1,_result:t},_init:w2}};Ce.memo=function(t,e){return{$$typeof:m2,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=oc.transition;oc.transition={};try{t()}finally{oc.transition=e}};Ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ce.useCallback=function(t,e){return Gt.current.useCallback(t,e)};Ce.useContext=function(t){return Gt.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return Gt.current.useEffect(t,e)};Ce.useId=function(){return Gt.current.useId()};Ce.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return Gt.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};Ce.useRef=function(t){return Gt.current.useRef(t)};Ce.useState=function(t){return Gt.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return Gt.current.useTransition()};Ce.version="18.2.0";W1.exports=Ce;var O=W1.exports;const le=Ih(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2=O,T2=Symbol.for("react.element"),S2=Symbol.for("react.fragment"),C2=Object.prototype.hasOwnProperty,I2=x2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b2={key:!0,ref:!0,__self:!0,__source:!0};function J1(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)C2.call(e,i)&&!b2.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:T2,type:t,key:s,ref:a,props:r,_owner:I2.current}}bh.Fragment=S2;bh.jsx=J1;bh.jsxs=J1;H1.exports=bh;var b=H1.exports,Tp={},eE={exports:{}},pn={},tE={exports:{}},nE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,j){var $=R.length;R.push(j);e:for(;0<$;){var ee=$-1>>>1,re=R[ee];if(0<r(re,j))R[ee]=j,R[$]=re,$=ee;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var j=R[0],$=R.pop();if($!==j){R[0]=$;e:for(var ee=0,re=R.length,de=re>>>1;ee<de;){var we=2*(ee+1)-1,me=R[we],oe=we+1,Ke=R[oe];if(0>r(me,$))oe<re&&0>r(Ke,me)?(R[ee]=Ke,R[oe]=$,ee=oe):(R[ee]=me,R[we]=$,ee=we);else if(oe<re&&0>r(Ke,$))R[ee]=Ke,R[oe]=$,ee=oe;else break e}}return j}function r(R,j){var $=R.sortIndex-j.sortIndex;return $!==0?$:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],p=1,m=null,_=3,w=!1,T=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var j=n(d);j!==null;){if(j.callback===null)i(d);else if(j.startTime<=R)i(d),j.sortIndex=j.expirationTime,e(c,j);else break;j=n(d)}}function C(R){if(S=!1,x(R),!T)if(n(c)!==null)T=!0,W(P);else{var j=n(d);j!==null&&Z(C,j.startTime-R)}}function P(R,j){T=!1,S&&(S=!1,v(A),A=-1),w=!0;var $=_;try{for(x(j),m=n(c);m!==null&&(!(m.expirationTime>j)||R&&!H());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,_=m.priorityLevel;var re=ee(m.expirationTime<=j);j=t.unstable_now(),typeof re=="function"?m.callback=re:m===n(c)&&i(c),x(j)}else i(c);m=n(c)}if(m!==null)var de=!0;else{var we=n(d);we!==null&&Z(C,we.startTime-j),de=!1}return de}finally{m=null,_=$,w=!1}}var N=!1,F=null,A=-1,z=5,K=-1;function H(){return!(t.unstable_now()-K<z)}function U(){if(F!==null){var R=t.unstable_now();K=R;var j=!0;try{j=F(!0,R)}finally{j?V():(N=!1,F=null)}}else N=!1}var V;if(typeof y=="function")V=function(){y(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=U,V=function(){G.postMessage(null)}}else V=function(){I(U,0)};function W(R){F=R,N||(N=!0,V())}function Z(R,j){A=I(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){T||w||(T=!0,W(P))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(_){case 1:case 2:case 3:var j=3;break;default:j=_}var $=_;_=j;try{return R()}finally{_=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=_;_=R;try{return j()}finally{_=$}},t.unstable_scheduleCallback=function(R,j,$){var ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=$+re,R={id:p++,callback:j,priorityLevel:R,startTime:$,expirationTime:re,sortIndex:-1},$>ee?(R.sortIndex=$,e(d,R),n(c)===null&&R===n(d)&&(S?(v(A),A=-1):S=!0,Z(C,$-ee))):(R.sortIndex=re,e(c,R),T||w||(T=!0,W(P))),R},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(R){var j=_;return function(){var $=_;_=j;try{return R.apply(this,arguments)}finally{_=$}}}})(nE);tE.exports=nE;var k2=tE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE=O,dn=k2;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rE=new Set,Ga={};function gs(t,e){po(t,e),po(t+"Capture",e)}function po(t,e){for(Ga[t]=e,t=0;t<e.length;t++)rE.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sp=Object.prototype.hasOwnProperty,P2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W_={},q_={};function L2(t){return Sp.call(q_,t)?!0:Sp.call(W_,t)?!1:P2.test(t)?q_[t]=!0:(W_[t]=!0,!1)}function N2(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function A2(t,e,n,i){if(e===null||typeof e>"u"||N2(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var hg=/[\-:]([a-z])/g;function dg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hg,dg);Ct[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hg,dg);Ct[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hg,dg);Ct[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fg(t,e,n,i){var r=Ct.hasOwnProperty(e)?Ct[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(A2(e,n,r,i)&&(n=null),i||r===null?L2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Di=iE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iu=Symbol.for("react.element"),Us=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),sE=Symbol.for("react.provider"),oE=Symbol.for("react.context"),mg=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),bp=Symbol.for("react.suspense_list"),gg=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),aE=Symbol.for("react.offscreen"),G_=Symbol.iterator;function sa(t){return t===null||typeof t!="object"?null:(t=G_&&t[G_]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,mf;function va(t){if(mf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mf=e&&e[1]||""}return`
`+mf+t}var gf=!1;function vf(t,e){if(!t||gf)return"";gf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,u=s.length-1;1<=a&&0<=u&&r[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||r[a]!==s[u]){var c=`
`+r[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{gf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function O2(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=vf(t.type,!1),t;case 11:return t=vf(t.type.render,!1),t;case 1:return t=vf(t.type,!0),t;default:return""}}function kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case js:return"Fragment";case Us:return"Portal";case Cp:return"Profiler";case pg:return"StrictMode";case Ip:return"Suspense";case bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oE:return(t.displayName||"Context")+".Consumer";case sE:return(t._context.displayName||"Context")+".Provider";case mg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gg:return e=t.displayName||null,e!==null?e:kp(t.type)||"Memo";case Ui:e=t._payload,t=t._init;try{return kp(t(e))}catch{}}return null}function R2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kp(e);case 8:return e===pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M2(t){var e=lE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bu(t){t._valueTracker||(t._valueTracker=M2(t))}function uE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=lE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pp(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Z_(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cE(t,e){e=e.checked,e!=null&&fg(t,"checked",e,!1)}function Lp(t,e){cE(t,e);var n=vr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Np(t,e.type,n):e.hasOwnProperty("defaultValue")&&Np(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function K_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Np(t,e,n){(e!=="number"||bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ya=Array.isArray;function eo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+vr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ap(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Y_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(ya(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vr(n)}}function hE(t,e){var n=vr(e.value),i=vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Q_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ku,fE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ku=ku||document.createElement("div"),ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D2=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){D2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function pE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function mE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=pE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var $2=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rp(t,e){if(e){if($2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dp=null;function vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $p=null,to=null,no=null;function X_(t){if(t=Ol(t)){if(typeof $p!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Ah(e),$p(t.stateNode,t.type,e))}}function gE(t){to?no?no.push(t):no=[t]:to=t}function vE(){if(to){var t=to,e=no;if(no=to=null,X_(t),e)for(t=0;t<e.length;t++)X_(e[t])}}function yE(t,e){return t(e)}function _E(){}var yf=!1;function wE(t,e,n){if(yf)return t(e,n);yf=!0;try{return yE(t,e,n)}finally{yf=!1,(to!==null||no!==null)&&(_E(),vE())}}function Ka(t,e){var n=t.stateNode;if(n===null)return null;var i=Ah(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var zp=!1;if(bi)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){zp=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{zp=!1}function z2(t,e,n,i,r,s,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var La=!1,kc=null,Pc=!1,Bp=null,B2={onError:function(t){La=!0,kc=t}};function F2(t,e,n,i,r,s,a,u,c){La=!1,kc=null,z2.apply(B2,arguments)}function U2(t,e,n,i,r,s,a,u,c){if(F2.apply(this,arguments),La){if(La){var d=kc;La=!1,kc=null}else throw Error(Q(198));Pc||(Pc=!0,Bp=d)}}function vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function J_(t){if(vs(t)!==t)throw Error(Q(188))}function j2(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return J_(r),t;if(s===i)return J_(r),e;s=s.sibling}throw Error(Q(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=s;break}if(u===i){a=!0,i=r,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,i=r;break}if(u===i){a=!0,i=s,n=r;break}u=u.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==i)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function xE(t){return t=j2(t),t!==null?TE(t):null}function TE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=TE(t);if(e!==null)return e;t=t.sibling}return null}var SE=dn.unstable_scheduleCallback,e0=dn.unstable_cancelCallback,V2=dn.unstable_shouldYield,H2=dn.unstable_requestPaint,et=dn.unstable_now,W2=dn.unstable_getCurrentPriorityLevel,yg=dn.unstable_ImmediatePriority,CE=dn.unstable_UserBlockingPriority,Lc=dn.unstable_NormalPriority,q2=dn.unstable_LowPriority,IE=dn.unstable_IdlePriority,kh=null,ni=null;function G2(t){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(kh,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:Y2,Z2=Math.log,K2=Math.LN2;function Y2(t){return t>>>=0,t===0?32:31-(Z2(t)/K2|0)|0}var Pu=64,Lu=4194304;function _a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~r;u!==0?i=_a(u):(s&=a,s!==0&&(i=_a(s)))}else a=n&~r,a!==0?i=_a(a):s!==0&&(i=_a(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-$n(e),r=1<<n,i|=t[n],e&=~r;return i}function Q2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X2(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-$n(s),u=1<<a,c=r[a];c===-1?(!(u&n)||u&i)&&(r[a]=Q2(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bE(){var t=Pu;return Pu<<=1,!(Pu&4194240)&&(Pu=64),t}function _f(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function J2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-$n(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function _g(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-$n(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ae=0;function kE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PE,wg,LE,NE,AE,Up=!1,Nu=[],ir=null,rr=null,sr=null,Ya=new Map,Qa=new Map,Vi=[],eP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t0(t,e){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(e.pointerId)}}function aa(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ol(e),e!==null&&wg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function tP(t,e,n,i,r){switch(e){case"focusin":return ir=aa(ir,t,e,n,i,r),!0;case"dragenter":return rr=aa(rr,t,e,n,i,r),!0;case"mouseover":return sr=aa(sr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ya.set(s,aa(Ya.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Qa.set(s,aa(Qa.get(s)||null,t,e,n,i,r)),!0}return!1}function OE(t){var e=jr(t.target);if(e!==null){var n=vs(e);if(n!==null){if(e=n.tag,e===13){if(e=EE(n),e!==null){t.blockedOn=e,AE(t.priority,function(){LE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Dp=i,n.target.dispatchEvent(i),Dp=null}else return e=Ol(n),e!==null&&wg(e),t.blockedOn=n,!1;e.shift()}return!0}function n0(t,e,n){ac(t)&&n.delete(e)}function nP(){Up=!1,ir!==null&&ac(ir)&&(ir=null),rr!==null&&ac(rr)&&(rr=null),sr!==null&&ac(sr)&&(sr=null),Ya.forEach(n0),Qa.forEach(n0)}function la(t,e){t.blockedOn===e&&(t.blockedOn=null,Up||(Up=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,nP)))}function Xa(t){function e(r){return la(r,t)}if(0<Nu.length){la(Nu[0],t);for(var n=1;n<Nu.length;n++){var i=Nu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ir!==null&&la(ir,t),rr!==null&&la(rr,t),sr!==null&&la(sr,t),Ya.forEach(e),Qa.forEach(e),n=0;n<Vi.length;n++)i=Vi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)OE(n),n.blockedOn===null&&Vi.shift()}var io=Di.ReactCurrentBatchConfig,Ac=!0;function iP(t,e,n,i){var r=Ae,s=io.transition;io.transition=null;try{Ae=1,Eg(t,e,n,i)}finally{Ae=r,io.transition=s}}function rP(t,e,n,i){var r=Ae,s=io.transition;io.transition=null;try{Ae=4,Eg(t,e,n,i)}finally{Ae=r,io.transition=s}}function Eg(t,e,n,i){if(Ac){var r=jp(t,e,n,i);if(r===null)Pf(t,e,i,Oc,n),t0(t,i);else if(tP(r,t,e,n,i))i.stopPropagation();else if(t0(t,i),e&4&&-1<eP.indexOf(t)){for(;r!==null;){var s=Ol(r);if(s!==null&&PE(s),s=jp(t,e,n,i),s===null&&Pf(t,e,i,Oc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Pf(t,e,i,null,n)}}var Oc=null;function jp(t,e,n,i){if(Oc=null,t=vg(i),t=jr(t),t!==null)if(e=vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oc=t,null}function RE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W2()){case yg:return 1;case CE:return 4;case Lc:case q2:return 16;case IE:return 536870912;default:return 16}default:return 16}}var Yi=null,xg=null,lc=null;function ME(){if(lc)return lc;var t,e=xg,n=e.length,i,r="value"in Yi?Yi.value:Yi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return lc=r.slice(t,1<i?1-i:void 0)}function uc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Au(){return!0}function i0(){return!1}function mn(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Au:i0,this.isPropagationStopped=i0,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Au)},persist:function(){},isPersistent:Au}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tg=mn(Oo),Al=qe({},Oo,{view:0,detail:0}),sP=mn(Al),wf,Ef,ua,Ph=qe({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(wf=t.screenX-ua.screenX,Ef=t.screenY-ua.screenY):Ef=wf=0,ua=t),wf)},movementY:function(t){return"movementY"in t?t.movementY:Ef}}),r0=mn(Ph),oP=qe({},Ph,{dataTransfer:0}),aP=mn(oP),lP=qe({},Al,{relatedTarget:0}),xf=mn(lP),uP=qe({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),cP=mn(uP),hP=qe({},Oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dP=mn(hP),fP=qe({},Oo,{data:0}),s0=mn(fP),pP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gP[t])?!!e[t]:!1}function Sg(){return vP}var yP=qe({},Al,{key:function(t){if(t.key){var e=pP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sg,charCode:function(t){return t.type==="keypress"?uc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_P=mn(yP),wP=qe({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o0=mn(wP),EP=qe({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sg}),xP=mn(EP),TP=qe({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),SP=mn(TP),CP=qe({},Ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IP=mn(CP),bP=[9,13,27,32],Cg=bi&&"CompositionEvent"in window,Na=null;bi&&"documentMode"in document&&(Na=document.documentMode);var kP=bi&&"TextEvent"in window&&!Na,DE=bi&&(!Cg||Na&&8<Na&&11>=Na),a0=String.fromCharCode(32),l0=!1;function $E(t,e){switch(t){case"keyup":return bP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vs=!1;function PP(t,e){switch(t){case"compositionend":return zE(e);case"keypress":return e.which!==32?null:(l0=!0,a0);case"textInput":return t=e.data,t===a0&&l0?null:t;default:return null}}function LP(t,e){if(Vs)return t==="compositionend"||!Cg&&$E(t,e)?(t=ME(),lc=xg=Yi=null,Vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DE&&e.locale!=="ko"?null:e.data;default:return null}}var NP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NP[t.type]:e==="textarea"}function BE(t,e,n,i){gE(i),e=Rc(e,"onChange"),0<e.length&&(n=new Tg("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Aa=null,Ja=null;function AP(t){YE(t,0)}function Lh(t){var e=qs(t);if(uE(e))return t}function OP(t,e){if(t==="change")return e}var FE=!1;if(bi){var Tf;if(bi){var Sf="oninput"in document;if(!Sf){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),Sf=typeof c0.oninput=="function"}Tf=Sf}else Tf=!1;FE=Tf&&(!document.documentMode||9<document.documentMode)}function h0(){Aa&&(Aa.detachEvent("onpropertychange",UE),Ja=Aa=null)}function UE(t){if(t.propertyName==="value"&&Lh(Ja)){var e=[];BE(e,Ja,t,vg(t)),wE(AP,e)}}function RP(t,e,n){t==="focusin"?(h0(),Aa=e,Ja=n,Aa.attachEvent("onpropertychange",UE)):t==="focusout"&&h0()}function MP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lh(Ja)}function DP(t,e){if(t==="click")return Lh(e)}function $P(t,e){if(t==="input"||t==="change")return Lh(e)}function zP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:zP;function el(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Sp.call(e,r)||!Bn(t[r],e[r]))return!1}return!0}function d0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function f0(t,e){var n=d0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d0(n)}}function jE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VE(){for(var t=window,e=bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bc(t.document)}return e}function Ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BP(t){var e=VE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jE(n.ownerDocument.documentElement,n)){if(i!==null&&Ig(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=f0(n,s);var a=f0(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FP=bi&&"documentMode"in document&&11>=document.documentMode,Hs=null,Vp=null,Oa=null,Hp=!1;function p0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hp||Hs==null||Hs!==bc(i)||(i=Hs,"selectionStart"in i&&Ig(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oa&&el(Oa,i)||(Oa=i,i=Rc(Vp,"onSelect"),0<i.length&&(e=new Tg("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Hs)))}function Ou(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},Cf={},HE={};bi&&(HE=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Nh(t){if(Cf[t])return Cf[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HE)return Cf[t]=e[n];return t}var WE=Nh("animationend"),qE=Nh("animationiteration"),GE=Nh("animationstart"),ZE=Nh("transitionend"),KE=new Map,m0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(t,e){KE.set(t,e),gs(e,[t])}for(var If=0;If<m0.length;If++){var bf=m0[If],UP=bf.toLowerCase(),jP=bf[0].toUpperCase()+bf.slice(1);Tr(UP,"on"+jP)}Tr(WE,"onAnimationEnd");Tr(qE,"onAnimationIteration");Tr(GE,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(ZE,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VP=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function g0(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,U2(i,e,void 0,t),t.currentTarget=null}function YE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&r.isPropagationStopped())break e;g0(r,u,d),s=c}else for(a=0;a<i.length;a++){if(u=i[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&r.isPropagationStopped())break e;g0(r,u,d),s=c}}}if(Pc)throw t=Bp,Pc=!1,Bp=null,t}function De(t,e){var n=e[Kp];n===void 0&&(n=e[Kp]=new Set);var i=t+"__bubble";n.has(i)||(QE(e,t,2,!1),n.add(i))}function kf(t,e,n){var i=0;e&&(i|=4),QE(n,t,i,e)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function tl(t){if(!t[Ru]){t[Ru]=!0,rE.forEach(function(n){n!=="selectionchange"&&(VP.has(n)||kf(n,!1,t),kf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ru]||(e[Ru]=!0,kf("selectionchange",!1,e))}}function QE(t,e,n,i){switch(RE(e)){case 1:var r=iP;break;case 4:r=rP;break;default:r=Eg}n=r.bind(null,e,n,t),r=void 0,!zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Pf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;u!==null;){if(a=jr(u),a===null)return;if(c=a.tag,c===5||c===6){i=s=a;continue e}u=u.parentNode}}i=i.return}wE(function(){var d=s,p=vg(n),m=[];e:{var _=KE.get(t);if(_!==void 0){var w=Tg,T=t;switch(t){case"keypress":if(uc(n)===0)break e;case"keydown":case"keyup":w=_P;break;case"focusin":T="focus",w=xf;break;case"focusout":T="blur",w=xf;break;case"beforeblur":case"afterblur":w=xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=r0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=aP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=xP;break;case WE:case qE:case GE:w=cP;break;case ZE:w=SP;break;case"scroll":w=sP;break;case"wheel":w=IP;break;case"copy":case"cut":case"paste":w=dP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=o0}var S=(e&4)!==0,I=!S&&t==="scroll",v=S?_!==null?_+"Capture":null:_;S=[];for(var y=d,x;y!==null;){x=y;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,v!==null&&(C=Ka(y,v),C!=null&&S.push(nl(y,C,x)))),I)break;y=y.return}0<S.length&&(_=new w(_,T,null,n,p),m.push({event:_,listeners:S}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",_&&n!==Dp&&(T=n.relatedTarget||n.fromElement)&&(jr(T)||T[ki]))break e;if((w||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,w?(T=n.relatedTarget||n.toElement,w=d,T=T?jr(T):null,T!==null&&(I=vs(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(w=null,T=d),w!==T)){if(S=r0,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=o0,C="onPointerLeave",v="onPointerEnter",y="pointer"),I=w==null?_:qs(w),x=T==null?_:qs(T),_=new S(C,y+"leave",w,n,p),_.target=I,_.relatedTarget=x,C=null,jr(p)===d&&(S=new S(v,y+"enter",T,n,p),S.target=x,S.relatedTarget=I,C=S),I=C,w&&T)t:{for(S=w,v=T,y=0,x=S;x;x=Ms(x))y++;for(x=0,C=v;C;C=Ms(C))x++;for(;0<y-x;)S=Ms(S),y--;for(;0<x-y;)v=Ms(v),x--;for(;y--;){if(S===v||v!==null&&S===v.alternate)break t;S=Ms(S),v=Ms(v)}S=null}else S=null;w!==null&&v0(m,_,w,S,!1),T!==null&&I!==null&&v0(m,I,T,S,!0)}}e:{if(_=d?qs(d):window,w=_.nodeName&&_.nodeName.toLowerCase(),w==="select"||w==="input"&&_.type==="file")var P=OP;else if(u0(_))if(FE)P=$P;else{P=MP;var N=RP}else(w=_.nodeName)&&w.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(P=DP);if(P&&(P=P(t,d))){BE(m,P,n,p);break e}N&&N(t,_,d),t==="focusout"&&(N=_._wrapperState)&&N.controlled&&_.type==="number"&&Np(_,"number",_.value)}switch(N=d?qs(d):window,t){case"focusin":(u0(N)||N.contentEditable==="true")&&(Hs=N,Vp=d,Oa=null);break;case"focusout":Oa=Vp=Hs=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,p0(m,n,p);break;case"selectionchange":if(FP)break;case"keydown":case"keyup":p0(m,n,p)}var F;if(Cg)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Vs?$E(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(DE&&n.locale!=="ko"&&(Vs||A!=="onCompositionStart"?A==="onCompositionEnd"&&Vs&&(F=ME()):(Yi=p,xg="value"in Yi?Yi.value:Yi.textContent,Vs=!0)),N=Rc(d,A),0<N.length&&(A=new s0(A,t,null,n,p),m.push({event:A,listeners:N}),F?A.data=F:(F=zE(n),F!==null&&(A.data=F)))),(F=kP?PP(t,n):LP(t,n))&&(d=Rc(d,"onBeforeInput"),0<d.length&&(p=new s0("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=F))}YE(m,e)})}function nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ka(t,n),s!=null&&i.unshift(nl(t,s,r)),s=Ka(t,e),s!=null&&i.push(nl(t,s,r))),t=t.return}return i}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v0(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&d!==null&&(u=d,r?(c=Ka(n,s),c!=null&&a.unshift(nl(n,c,u))):r||(c=Ka(n,s),c!=null&&a.push(nl(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var HP=/\r\n?/g,WP=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(HP,`
`).replace(WP,"")}function Mu(t,e,n){if(e=y0(e),y0(t)!==e&&n)throw Error(Q(425))}function Mc(){}var Wp=null,qp=null;function Gp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,qP=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,GP=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(t){return _0.resolve(null).then(t).catch(ZP)}:Zp;function ZP(t){setTimeout(function(){throw t})}function Lf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Xa(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Xa(e)}function or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function w0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Ro,il="__reactProps$"+Ro,ki="__reactContainer$"+Ro,Kp="__reactEvents$"+Ro,KP="__reactListeners$"+Ro,YP="__reactHandles$"+Ro;function jr(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ki]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=w0(t);t!==null;){if(n=t[Yn])return n;t=w0(t)}return e}t=n,n=t.parentNode}return null}function Ol(t){return t=t[Yn]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Ah(t){return t[il]||null}var Yp=[],Gs=-1;function Sr(t){return{current:t}}function Be(t){0>Gs||(t.current=Yp[Gs],Yp[Gs]=null,Gs--)}function Me(t,e){Gs++,Yp[Gs]=t.current,t.current=e}var yr={},Dt=Sr(yr),nn=Sr(!1),es=yr;function mo(t,e){var n=t.type.contextTypes;if(!n)return yr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function rn(t){return t=t.childContextTypes,t!=null}function Dc(){Be(nn),Be(Dt)}function E0(t,e,n){if(Dt.current!==yr)throw Error(Q(168));Me(Dt,e),Me(nn,n)}function XE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Q(108,R2(t)||"Unknown",r));return qe({},n,i)}function $c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,es=Dt.current,Me(Dt,t),Me(nn,nn.current),!0}function x0(t,e,n){var i=t.stateNode;if(!i)throw Error(Q(169));n?(t=XE(t,e,es),i.__reactInternalMemoizedMergedChildContext=t,Be(nn),Be(Dt),Me(Dt,t)):Be(nn),Me(nn,n)}var yi=null,Oh=!1,Nf=!1;function JE(t){yi===null?yi=[t]:yi.push(t)}function QP(t){Oh=!0,JE(t)}function Cr(){if(!Nf&&yi!==null){Nf=!0;var t=0,e=Ae;try{var n=yi;for(Ae=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}yi=null,Oh=!1}catch(r){throw yi!==null&&(yi=yi.slice(t+1)),SE(yg,Cr),r}finally{Ae=e,Nf=!1}}return null}var Zs=[],Ks=0,zc=null,Bc=0,xn=[],Tn=0,ts=null,_i=1,wi="";function zr(t,e){Zs[Ks++]=Bc,Zs[Ks++]=zc,zc=t,Bc=e}function ex(t,e,n){xn[Tn++]=_i,xn[Tn++]=wi,xn[Tn++]=ts,ts=t;var i=_i;t=wi;var r=32-$n(i)-1;i&=~(1<<r),n+=1;var s=32-$n(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,_i=1<<32-$n(e)+r|n<<r|i,wi=s+t}else _i=1<<s|n<<r|i,wi=t}function bg(t){t.return!==null&&(zr(t,1),ex(t,1,0))}function kg(t){for(;t===zc;)zc=Zs[--Ks],Zs[Ks]=null,Bc=Zs[--Ks],Zs[Ks]=null;for(;t===ts;)ts=xn[--Tn],xn[Tn]=null,wi=xn[--Tn],xn[Tn]=null,_i=xn[--Tn],xn[Tn]=null}var hn=null,ln=null,je=!1,Dn=null;function tx(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function T0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,ln=or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ts!==null?{id:_i,overflow:wi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,ln=null,!0):!1;default:return!1}}function Qp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xp(t){if(je){var e=ln;if(e){var n=e;if(!T0(t,e)){if(Qp(t))throw Error(Q(418));e=or(n.nextSibling);var i=hn;e&&T0(t,e)?tx(i,n):(t.flags=t.flags&-4097|2,je=!1,hn=t)}}else{if(Qp(t))throw Error(Q(418));t.flags=t.flags&-4097|2,je=!1,hn=t}}}function S0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Du(t){if(t!==hn)return!1;if(!je)return S0(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gp(t.type,t.memoizedProps)),e&&(e=ln)){if(Qp(t))throw nx(),Error(Q(418));for(;e;)tx(t,e),e=or(e.nextSibling)}if(S0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=hn?or(t.stateNode.nextSibling):null;return!0}function nx(){for(var t=ln;t;)t=or(t.nextSibling)}function go(){ln=hn=null,je=!1}function Pg(t){Dn===null?Dn=[t]:Dn.push(t)}var XP=Di.ReactCurrentBatchConfig;function Rn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fc=Sr(null),Uc=null,Ys=null,Lg=null;function Ng(){Lg=Ys=Uc=null}function Ag(t){var e=Fc.current;Be(Fc),t._currentValue=e}function Jp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){Uc=t,Lg=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(Lg!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(Uc===null)throw Error(Q(308));Ys=t,Uc.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var Vr=null;function Og(t){Vr===null?Vr=[t]:Vr.push(t)}function ix(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Og(e)):(n.next=r.next,r.next=n),e.interleaved=n,Pi(t,i)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function Rg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ar(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ke&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Pi(t,n)}return r=i.interleaved,r===null?(e.next=e,Og(i)):(e.next=r.next,r.next=e),i.interleaved=e,Pi(t,n)}function cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,_g(t,n)}}function C0(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jc(t,e,n,i){var r=t.updateQueue;ji=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=c))}if(s!==null){var m=r.baseState;a=0,p=d=c=null,u=s;do{var _=u.lane,w=u.eventTime;if((i&_)===_){p!==null&&(p=p.next={eventTime:w,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var T=t,S=u;switch(_=e,w=n,S.tag){case 1:if(T=S.payload,typeof T=="function"){m=T.call(w,m,_);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,_=typeof T=="function"?T.call(w,m,_):T,_==null)break e;m=qe({},m,_);break e;case 2:ji=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,_=r.effects,_===null?r.effects=[u]:_.push(u))}else w={eventTime:w,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(d=p=w,c=m):p=p.next=w,a|=_;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;_=u,u=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(1);if(p===null&&(c=m),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=p,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);is|=a,t.lanes=a,t.memoizedState=m}}function I0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Q(191,r));r.call(i)}}}var sx=new iE.Component().refs;function em(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rh={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Wt(),r=ur(t),s=Si(i,r);s.payload=e,n!=null&&(s.callback=n),e=ar(t,s,r),e!==null&&(zn(e,t,r,i),cc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Wt(),r=ur(t),s=Si(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ar(t,s,r),e!==null&&(zn(e,t,r,i),cc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),i=ur(t),r=Si(n,i);r.tag=2,e!=null&&(r.callback=e),e=ar(t,r,i),e!==null&&(zn(e,t,i,n),cc(e,t,i))}};function b0(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!el(n,i)||!el(r,s):!0}function ox(t,e,n){var i=!1,r=yr,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(r=rn(e)?es:Dt.current,i=e.contextTypes,s=(i=i!=null)?mo(t,r):yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function k0(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Rh.enqueueReplaceState(e,e.state,null)}function tm(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=sx,Rg(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=kn(s):(s=rn(e)?es:Dt.current,r.context=mo(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(em(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Rh.enqueueReplaceState(r,r.state,null),jc(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var i=n.stateNode}if(!i)throw Error(Q(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=r.refs;u===sx&&(u=r.refs={}),a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function $u(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P0(t){var e=t._init;return e(t._payload)}function ax(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=cr(v,y),v.index=0,v.sibling=null,v}function s(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function u(v,y,x,C){return y===null||y.tag!==6?(y=zf(x,v.mode,C),y.return=v,y):(y=r(y,x),y.return=v,y)}function c(v,y,x,C){var P=x.type;return P===js?p(v,y,x.props.children,C,x.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ui&&P0(P)===y.type)?(C=r(y,x.props),C.ref=ca(v,y,x),C.return=v,C):(C=gc(x.type,x.key,x.props,null,v.mode,C),C.ref=ca(v,y,x),C.return=v,C)}function d(v,y,x,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Bf(x,v.mode,C),y.return=v,y):(y=r(y,x.children||[]),y.return=v,y)}function p(v,y,x,C,P){return y===null||y.tag!==7?(y=Yr(x,v.mode,C,P),y.return=v,y):(y=r(y,x),y.return=v,y)}function m(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=zf(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Iu:return x=gc(y.type,y.key,y.props,null,v.mode,x),x.ref=ca(v,null,y),x.return=v,x;case Us:return y=Bf(y,v.mode,x),y.return=v,y;case Ui:var C=y._init;return m(v,C(y._payload),x)}if(ya(y)||sa(y))return y=Yr(y,v.mode,x,null),y.return=v,y;$u(v,y)}return null}function _(v,y,x,C){var P=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:u(v,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Iu:return x.key===P?c(v,y,x,C):null;case Us:return x.key===P?d(v,y,x,C):null;case Ui:return P=x._init,_(v,y,P(x._payload),C)}if(ya(x)||sa(x))return P!==null?null:p(v,y,x,C,null);$u(v,x)}return null}function w(v,y,x,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(x)||null,u(y,v,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Iu:return v=v.get(C.key===null?x:C.key)||null,c(y,v,C,P);case Us:return v=v.get(C.key===null?x:C.key)||null,d(y,v,C,P);case Ui:var N=C._init;return w(v,y,x,N(C._payload),P)}if(ya(C)||sa(C))return v=v.get(x)||null,p(y,v,C,P,null);$u(y,C)}return null}function T(v,y,x,C){for(var P=null,N=null,F=y,A=y=0,z=null;F!==null&&A<x.length;A++){F.index>A?(z=F,F=null):z=F.sibling;var K=_(v,F,x[A],C);if(K===null){F===null&&(F=z);break}t&&F&&K.alternate===null&&e(v,F),y=s(K,y,A),N===null?P=K:N.sibling=K,N=K,F=z}if(A===x.length)return n(v,F),je&&zr(v,A),P;if(F===null){for(;A<x.length;A++)F=m(v,x[A],C),F!==null&&(y=s(F,y,A),N===null?P=F:N.sibling=F,N=F);return je&&zr(v,A),P}for(F=i(v,F);A<x.length;A++)z=w(F,v,A,x[A],C),z!==null&&(t&&z.alternate!==null&&F.delete(z.key===null?A:z.key),y=s(z,y,A),N===null?P=z:N.sibling=z,N=z);return t&&F.forEach(function(H){return e(v,H)}),je&&zr(v,A),P}function S(v,y,x,C){var P=sa(x);if(typeof P!="function")throw Error(Q(150));if(x=P.call(x),x==null)throw Error(Q(151));for(var N=P=null,F=y,A=y=0,z=null,K=x.next();F!==null&&!K.done;A++,K=x.next()){F.index>A?(z=F,F=null):z=F.sibling;var H=_(v,F,K.value,C);if(H===null){F===null&&(F=z);break}t&&F&&H.alternate===null&&e(v,F),y=s(H,y,A),N===null?P=H:N.sibling=H,N=H,F=z}if(K.done)return n(v,F),je&&zr(v,A),P;if(F===null){for(;!K.done;A++,K=x.next())K=m(v,K.value,C),K!==null&&(y=s(K,y,A),N===null?P=K:N.sibling=K,N=K);return je&&zr(v,A),P}for(F=i(v,F);!K.done;A++,K=x.next())K=w(F,v,A,K.value,C),K!==null&&(t&&K.alternate!==null&&F.delete(K.key===null?A:K.key),y=s(K,y,A),N===null?P=K:N.sibling=K,N=K);return t&&F.forEach(function(U){return e(v,U)}),je&&zr(v,A),P}function I(v,y,x,C){if(typeof x=="object"&&x!==null&&x.type===js&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Iu:e:{for(var P=x.key,N=y;N!==null;){if(N.key===P){if(P=x.type,P===js){if(N.tag===7){n(v,N.sibling),y=r(N,x.props.children),y.return=v,v=y;break e}}else if(N.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ui&&P0(P)===N.type){n(v,N.sibling),y=r(N,x.props),y.ref=ca(v,N,x),y.return=v,v=y;break e}n(v,N);break}else e(v,N);N=N.sibling}x.type===js?(y=Yr(x.props.children,v.mode,C,x.key),y.return=v,v=y):(C=gc(x.type,x.key,x.props,null,v.mode,C),C.ref=ca(v,y,x),C.return=v,v=C)}return a(v);case Us:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=r(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Bf(x,v.mode,C),y.return=v,v=y}return a(v);case Ui:return N=x._init,I(v,y,N(x._payload),C)}if(ya(x))return T(v,y,x,C);if(sa(x))return S(v,y,x,C);$u(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=r(y,x),y.return=v,v=y):(n(v,y),y=zf(x,v.mode,C),y.return=v,v=y),a(v)):n(v,y)}return I}var vo=ax(!0),lx=ax(!1),Rl={},ii=Sr(Rl),rl=Sr(Rl),sl=Sr(Rl);function Hr(t){if(t===Rl)throw Error(Q(174));return t}function Mg(t,e){switch(Me(sl,e),Me(rl,t),Me(ii,Rl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Op(e,t)}Be(ii),Me(ii,e)}function yo(){Be(ii),Be(rl),Be(sl)}function ux(t){Hr(sl.current);var e=Hr(ii.current),n=Op(e,t.type);e!==n&&(Me(rl,t),Me(ii,n))}function Dg(t){rl.current===t&&(Be(ii),Be(rl))}var He=Sr(0);function Vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Af=[];function $g(){for(var t=0;t<Af.length;t++)Af[t]._workInProgressVersionPrimary=null;Af.length=0}var hc=Di.ReactCurrentDispatcher,Of=Di.ReactCurrentBatchConfig,ns=0,We=null,lt=null,ft=null,Hc=!1,Ra=!1,ol=0,JP=0;function It(){throw Error(Q(321))}function zg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function Bg(t,e,n,i,r,s){if(ns=s,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hc.current=t===null||t.memoizedState===null?iL:rL,t=n(i,r),Ra){s=0;do{if(Ra=!1,ol=0,25<=s)throw Error(Q(301));s+=1,ft=lt=null,e.updateQueue=null,hc.current=sL,t=n(i,r)}while(Ra)}if(hc.current=Wc,e=lt!==null&&lt.next!==null,ns=0,ft=lt=We=null,Hc=!1,e)throw Error(Q(300));return t}function Fg(){var t=ol!==0;return ol=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?We.memoizedState=ft=t:ft=ft.next=t,ft}function Pn(){if(lt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=ft===null?We.memoizedState:ft.next;if(e!==null)ft=e,lt=t;else{if(t===null)throw Error(Q(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?We.memoizedState=ft=t:ft=ft.next=t}return ft}function al(t,e){return typeof e=="function"?e(t):e}function Rf(t){var e=Pn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var i=lt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var u=a=null,c=null,d=s;do{var p=d.lane;if((ns&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,a=i):c=c.next=m,We.lanes|=p,is|=p}d=d.next}while(d!==null&&d!==s);c===null?a=i:c.next=u,Bn(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,We.lanes|=s,is|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mf(t){var e=Pn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);Bn(s,e.memoizedState)||(en=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function cx(){}function hx(t,e){var n=We,i=Pn(),r=e(),s=!Bn(i.memoizedState,r);if(s&&(i.memoizedState=r,en=!0),i=i.queue,Ug(px.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,ll(9,fx.bind(null,n,i,r,e),void 0,null),pt===null)throw Error(Q(349));ns&30||dx(n,e,r)}return r}function dx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fx(t,e,n,i){e.value=n,e.getSnapshot=i,mx(e)&&gx(t)}function px(t,e,n){return n(function(){mx(e)&&gx(t)})}function mx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function gx(t){var e=Pi(t,1);e!==null&&zn(e,t,1,-1)}function L0(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:t},e.queue=t,t=t.dispatch=nL.bind(null,We,t),[e.memoizedState,t]}function ll(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function vx(){return Pn().memoizedState}function dc(t,e,n,i){var r=Kn();We.flags|=t,r.memoizedState=ll(1|e,n,void 0,i===void 0?null:i)}function Mh(t,e,n,i){var r=Pn();i=i===void 0?null:i;var s=void 0;if(lt!==null){var a=lt.memoizedState;if(s=a.destroy,i!==null&&zg(i,a.deps)){r.memoizedState=ll(e,n,s,i);return}}We.flags|=t,r.memoizedState=ll(1|e,n,s,i)}function N0(t,e){return dc(8390656,8,t,e)}function Ug(t,e){return Mh(2048,8,t,e)}function yx(t,e){return Mh(4,2,t,e)}function _x(t,e){return Mh(4,4,t,e)}function wx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ex(t,e,n){return n=n!=null?n.concat([t]):null,Mh(4,4,wx.bind(null,e,t),n)}function jg(){}function xx(t,e){var n=Pn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&zg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Tx(t,e){var n=Pn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&zg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Sx(t,e,n){return ns&21?(Bn(n,e)||(n=bE(),We.lanes|=n,is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function eL(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var i=Of.transition;Of.transition={};try{t(!1),e()}finally{Ae=n,Of.transition=i}}function Cx(){return Pn().memoizedState}function tL(t,e,n){var i=ur(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ix(t))bx(e,n);else if(n=ix(t,e,n,i),n!==null){var r=Wt();zn(n,t,i,r),kx(n,e,i)}}function nL(t,e,n){var i=ur(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ix(t))bx(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(r.hasEagerState=!0,r.eagerState=u,Bn(u,a)){var c=e.interleaved;c===null?(r.next=r,Og(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=ix(t,e,r,i),n!==null&&(r=Wt(),zn(n,t,i,r),kx(n,e,i))}}function Ix(t){var e=t.alternate;return t===We||e!==null&&e===We}function bx(t,e){Ra=Hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kx(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,_g(t,n)}}var Wc={readContext:kn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},iL={readContext:kn,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:N0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dc(4194308,4,wx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return dc(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Kn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=tL.bind(null,We,t),[i.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:L0,useDebugValue:jg,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=L0(!1),e=t[0];return t=eL.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=We,r=Kn();if(je){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),pt===null)throw Error(Q(349));ns&30||dx(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,N0(px.bind(null,i,s,t),[t]),i.flags|=2048,ll(9,fx.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Kn(),e=pt.identifierPrefix;if(je){var n=wi,i=_i;n=(i&~(1<<32-$n(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rL={readContext:kn,useCallback:xx,useContext:kn,useEffect:Ug,useImperativeHandle:Ex,useInsertionEffect:yx,useLayoutEffect:_x,useMemo:Tx,useReducer:Rf,useRef:vx,useState:function(){return Rf(al)},useDebugValue:jg,useDeferredValue:function(t){var e=Pn();return Sx(e,lt.memoizedState,t)},useTransition:function(){var t=Rf(al)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:cx,useSyncExternalStore:hx,useId:Cx,unstable_isNewReconciler:!1},sL={readContext:kn,useCallback:xx,useContext:kn,useEffect:Ug,useImperativeHandle:Ex,useInsertionEffect:yx,useLayoutEffect:_x,useMemo:Tx,useReducer:Mf,useRef:vx,useState:function(){return Mf(al)},useDebugValue:jg,useDeferredValue:function(t){var e=Pn();return lt===null?e.memoizedState=t:Sx(e,lt.memoizedState,t)},useTransition:function(){var t=Mf(al)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:cx,useSyncExternalStore:hx,useId:Cx,unstable_isNewReconciler:!1};function _o(t,e){try{var n="",i=e;do n+=O2(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Df(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oL=typeof WeakMap=="function"?WeakMap:Map;function Px(t,e,n){n=Si(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Gc||(Gc=!0,dm=i),nm(t,e)},n}function Lx(t,e,n){n=Si(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){nm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nm(t,e),typeof i!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function A0(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new oL;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=wL.bind(null,t,e,n),e.then(t,t))}function O0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R0(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Si(-1,1),e.tag=2,ar(n,e,1))),n.lanes|=1),t)}var aL=Di.ReactCurrentOwner,en=!1;function Vt(t,e,n,i){e.child=t===null?lx(e,null,n,i):vo(e,t.child,n,i)}function M0(t,e,n,i,r){n=n.render;var s=e.ref;return ro(e,r),i=Bg(t,e,n,i,s,r),n=Fg(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Li(t,e,r)):(je&&n&&bg(e),e.flags|=1,Vt(t,e,i,r),e.child)}function D0(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Yg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Nx(t,e,s,i,r)):(t=gc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(a,i)&&t.ref===e.ref)return Li(t,e,r)}return e.flags|=1,t=cr(s,i),t.ref=e.ref,t.return=e,e.child=t}function Nx(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(el(s,i)&&t.ref===e.ref)if(en=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Li(t,e,r)}return im(t,e,n,i,r)}function Ax(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Xs,on),on|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Xs,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Me(Xs,on),on|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Me(Xs,on),on|=i;return Vt(t,e,r,n),e.child}function Ox(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function im(t,e,n,i,r){var s=rn(n)?es:Dt.current;return s=mo(e,s),ro(e,r),n=Bg(t,e,n,i,s,r),i=Fg(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Li(t,e,r)):(je&&i&&bg(e),e.flags|=1,Vt(t,e,n,r),e.child)}function $0(t,e,n,i,r){if(rn(n)){var s=!0;$c(e)}else s=!1;if(ro(e,r),e.stateNode===null)fc(t,e),ox(e,n,i),tm(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=kn(d):(d=rn(n)?es:Dt.current,d=mo(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||c!==d)&&k0(e,a,i,d),ji=!1;var _=e.memoizedState;a.state=_,jc(e,i,a,r),c=e.memoizedState,u!==i||_!==c||nn.current||ji?(typeof p=="function"&&(em(e,n,p,i),c=e.memoizedState),(u=ji||b0(e,n,u,i,_,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=d,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,rx(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Rn(e.type,u),a.props=d,m=e.pendingProps,_=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=kn(c):(c=rn(n)?es:Dt.current,c=mo(e,c));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||_!==c)&&k0(e,a,i,c),ji=!1,_=e.memoizedState,a.state=_,jc(e,i,a,r);var T=e.memoizedState;u!==m||_!==T||nn.current||ji?(typeof w=="function"&&(em(e,n,w,i),T=e.memoizedState),(d=ji||b0(e,n,d,i,_,T,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,T,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,T,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=T),a.props=i,a.state=T,a.context=c,i=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),i=!1)}return rm(t,e,n,i,s,r)}function rm(t,e,n,i,r,s){Ox(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&x0(e,n,!1),Li(t,e,s);i=e.stateNode,aL.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=vo(e,t.child,null,s),e.child=vo(e,null,u,s)):Vt(t,e,u,s),e.memoizedState=i.state,r&&x0(e,n,!0),e.child}function Rx(t){var e=t.stateNode;e.pendingContext?E0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E0(t,e.context,!1),Mg(t,e.containerInfo)}function z0(t,e,n,i,r){return go(),Pg(r),e.flags|=256,Vt(t,e,n,i),e.child}var sm={dehydrated:null,treeContext:null,retryLane:0};function om(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mx(t,e,n){var i=e.pendingProps,r=He.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Me(He,r&1),t===null)return Xp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=zh(a,i,0,null),t=Yr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=om(n),e.memoizedState=sm,t):Vg(e,a));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return lL(t,e,a,i,u,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=cr(r,c),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?s=cr(u,s):(s=Yr(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?om(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=sm,i}return s=t.child,t=s.sibling,i=cr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Vg(t,e){return e=zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zu(t,e,n,i){return i!==null&&Pg(i),vo(e,t.child,null,n),t=Vg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lL(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=Df(Error(Q(422))),zu(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=zh({mode:"visible",children:i.children},r,0,null),s=Yr(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&vo(e,t.child,null,a),e.child.memoizedState=om(a),e.memoizedState=sm,s);if(!(e.mode&1))return zu(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,s=Error(Q(419)),i=Df(s,i,void 0),zu(t,e,a,i)}if(u=(a&t.childLanes)!==0,en||u){if(i=pt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Pi(t,r),zn(i,t,r,-1))}return Kg(),i=Df(Error(Q(421))),zu(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=EL.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,ln=or(r.nextSibling),hn=e,je=!0,Dn=null,t!==null&&(xn[Tn++]=_i,xn[Tn++]=wi,xn[Tn++]=ts,_i=t.id,wi=t.overflow,ts=e),e=Vg(e,i.children),e.flags|=4096,e)}function B0(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Jp(t.return,e,n)}function $f(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Dx(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Vt(t,e,i.children,n),i=He.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B0(t,n,e);else if(t.tag===19)B0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Me(He,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),$f(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}$f(e,!0,n,null,s);break;case"together":$f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uL(t,e,n){switch(e.tag){case 3:Rx(e),go();break;case 5:ux(e);break;case 1:rn(e.type)&&$c(e);break;case 4:Mg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Me(Fc,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Me(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?Mx(t,e,n):(Me(He,He.current&1),t=Li(t,e,n),t!==null?t.sibling:null);Me(He,He.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Dx(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Me(He,He.current),i)break;return null;case 22:case 23:return e.lanes=0,Ax(t,e,n)}return Li(t,e,n)}var $x,am,zx,Bx;$x=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};am=function(){};zx=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Hr(ii.current);var s=null;switch(n){case"input":r=Pp(t,r),i=Pp(t,i),s=[];break;case"select":r=qe({},r,{value:void 0}),i=qe({},i,{value:void 0}),s=[];break;case"textarea":r=Ap(t,r),i=Ap(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Mc)}Rp(n,i);var a;n=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ga.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(u=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&De("scroll",t),s||u===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};Bx=function(t,e,n,i){n!==i&&(e.flags|=4)};function ha(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function cL(t,e,n){var i=e.pendingProps;switch(kg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return rn(e.type)&&Dc(),bt(e),null;case 3:return i=e.stateNode,yo(),Be(nn),Be(Dt),$g(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(mm(Dn),Dn=null))),am(t,e),bt(e),null;case 5:Dg(e);var r=Hr(sl.current);if(n=e.type,t!==null&&e.stateNode!=null)zx(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Q(166));return bt(e),null}if(t=Hr(ii.current),Du(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Yn]=e,i[il]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(r=0;r<wa.length;r++)De(wa[r],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":Z_(i,s),De("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},De("invalid",i);break;case"textarea":Y_(i,s),De("invalid",i)}Rp(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?i.textContent!==u&&(s.suppressHydrationWarning!==!0&&Mu(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Mu(i.textContent,u,t),r=["children",""+u]):Ga.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&De("scroll",i)}switch(n){case"input":bu(i),K_(i,s,!0);break;case"textarea":bu(i),Q_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Mc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Yn]=e,t[il]=i,$x(t,e,!1,!1),e.stateNode=t;e:{switch(a=Mp(n,i),n){case"dialog":De("cancel",t),De("close",t),r=i;break;case"iframe":case"object":case"embed":De("load",t),r=i;break;case"video":case"audio":for(r=0;r<wa.length;r++)De(wa[r],t);r=i;break;case"source":De("error",t),r=i;break;case"img":case"image":case"link":De("error",t),De("load",t),r=i;break;case"details":De("toggle",t),r=i;break;case"input":Z_(t,i),r=Pp(t,i),De("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=qe({},i,{value:void 0}),De("invalid",t);break;case"textarea":Y_(t,i),r=Ap(t,i),De("invalid",t);break;default:r=i}Rp(n,r),u=r;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?mE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Za(t,c):typeof c=="number"&&Za(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ga.hasOwnProperty(s)?c!=null&&s==="onScroll"&&De("scroll",t):c!=null&&fg(t,s,c,a))}switch(n){case"input":bu(t),K_(t,i,!1);break;case"textarea":bu(t),Q_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+vr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?eo(t,!!i.multiple,s,!1):i.defaultValue!=null&&eo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Mc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)Bx(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Hr(sl.current),Hr(ii.current),Du(e)){if(i=e.stateNode,n=e.memoizedProps,i[Yn]=e,(s=i.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:Mu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mu(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Yn]=e,e.stateNode=i}return bt(e),null;case 13:if(Be(He),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&ln!==null&&e.mode&1&&!(e.flags&128))nx(),go(),e.flags|=98560,s=!1;else if(s=Du(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[Yn]=e}else go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else Dn!==null&&(mm(Dn),Dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ut===0&&(ut=3):Kg())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return yo(),am(t,e),t===null&&tl(e.stateNode.containerInfo),bt(e),null;case 10:return Ag(e.type._context),bt(e),null;case 17:return rn(e.type)&&Dc(),bt(e),null;case 19:if(Be(He),s=e.memoizedState,s===null)return bt(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)ha(s,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Vc(t),a!==null){for(e.flags|=128,ha(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(He,He.current&1|2),e.child}t=t.sibling}s.tail!==null&&et()>wo&&(e.flags|=128,i=!0,ha(s,!1),e.lanes=4194304)}else{if(!i)if(t=Vc(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ha(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!je)return bt(e),null}else 2*et()-s.renderingStartTime>wo&&n!==1073741824&&(e.flags|=128,i=!0,ha(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=et(),e.sibling=null,n=He.current,Me(He,i?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Zg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?on&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function hL(t,e){switch(kg(e),e.tag){case 1:return rn(e.type)&&Dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),Be(nn),Be(Dt),$g(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dg(e),null;case 13:if(Be(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(He),null;case 4:return yo(),null;case 10:return Ag(e.type._context),null;case 22:case 23:return Zg(),null;case 24:return null;default:return null}}var Bu=!1,Lt=!1,dL=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ye(t,e,i)}else n.current=null}function lm(t,e,n){try{n()}catch(i){Ye(t,e,i)}}var F0=!1;function fL(t,e){if(Wp=Ac,t=VE(),Ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,d=0,p=0,m=t,_=null;t:for(;;){for(var w;m!==n||r!==0&&m.nodeType!==3||(u=a+r),m!==s||i!==0&&m.nodeType!==3||(c=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(w=m.firstChild)!==null;)_=m,m=w;for(;;){if(m===t)break t;if(_===n&&++d===r&&(u=a),_===s&&++p===i&&(c=a),(w=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=w}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qp={focusedElem:t,selectionRange:n},Ac=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var S=T.memoizedProps,I=T.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?S:Rn(e.type,S),I);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(C){Ye(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return T=F0,F0=!1,T}function Ma(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&lm(e,n,s)}r=r.next}while(r!==i)}}function Dh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function um(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fx(t){var e=t.alternate;e!==null&&(t.alternate=null,Fx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yn],delete e[il],delete e[Kp],delete e[KP],delete e[YP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ux(t){return t.tag===5||t.tag===3||t.tag===4}function U0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ux(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mc));else if(i!==4&&(t=t.child,t!==null))for(cm(t,e,n),t=t.sibling;t!==null;)cm(t,e,n),t=t.sibling}function hm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(hm(t,e,n),t=t.sibling;t!==null;)hm(t,e,n),t=t.sibling}var wt=null,Mn=!1;function Bi(t,e,n){for(n=n.child;n!==null;)jx(t,e,n),n=n.sibling}function jx(t,e,n){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(kh,n)}catch{}switch(n.tag){case 5:Lt||Qs(n,e);case 6:var i=wt,r=Mn;wt=null,Bi(t,e,n),wt=i,Mn=r,wt!==null&&(Mn?(t=wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Mn?(t=wt,n=n.stateNode,t.nodeType===8?Lf(t.parentNode,n):t.nodeType===1&&Lf(t,n),Xa(t)):Lf(wt,n.stateNode));break;case 4:i=wt,r=Mn,wt=n.stateNode.containerInfo,Mn=!0,Bi(t,e,n),wt=i,Mn=r;break;case 0:case 11:case 14:case 15:if(!Lt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&lm(n,e,a),r=r.next}while(r!==i)}Bi(t,e,n);break;case 1:if(!Lt&&(Qs(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){Ye(n,e,u)}Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:n.mode&1?(Lt=(i=Lt)||n.memoizedState!==null,Bi(t,e,n),Lt=i):Bi(t,e,n);break;default:Bi(t,e,n)}}function j0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dL),e.forEach(function(i){var r=xL.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function On(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:wt=u.stateNode,Mn=!1;break e;case 3:wt=u.stateNode.containerInfo,Mn=!0;break e;case 4:wt=u.stateNode.containerInfo,Mn=!0;break e}u=u.return}if(wt===null)throw Error(Q(160));jx(s,a,r),wt=null,Mn=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){Ye(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vx(e,t),e=e.sibling}function Vx(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),Zn(t),i&4){try{Ma(3,t,t.return),Dh(3,t)}catch(S){Ye(t,t.return,S)}try{Ma(5,t,t.return)}catch(S){Ye(t,t.return,S)}}break;case 1:On(e,t),Zn(t),i&512&&n!==null&&Qs(n,n.return);break;case 5:if(On(e,t),Zn(t),i&512&&n!==null&&Qs(n,n.return),t.flags&32){var r=t.stateNode;try{Za(r,"")}catch(S){Ye(t,t.return,S)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&cE(r,s),Mp(u,a);var d=Mp(u,s);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?mE(r,m):p==="dangerouslySetInnerHTML"?fE(r,m):p==="children"?Za(r,m):fg(r,p,m,d)}switch(u){case"input":Lp(r,s);break;case"textarea":hE(r,s);break;case"select":var _=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?eo(r,!!s.multiple,w,!1):_!==!!s.multiple&&(s.defaultValue!=null?eo(r,!!s.multiple,s.defaultValue,!0):eo(r,!!s.multiple,s.multiple?[]:"",!1))}r[il]=s}catch(S){Ye(t,t.return,S)}}break;case 6:if(On(e,t),Zn(t),i&4){if(t.stateNode===null)throw Error(Q(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(S){Ye(t,t.return,S)}}break;case 3:if(On(e,t),Zn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Xa(e.containerInfo)}catch(S){Ye(t,t.return,S)}break;case 4:On(e,t),Zn(t);break;case 13:On(e,t),Zn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(qg=et())),i&4&&j0(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(d=Lt)||p,On(e,t),Lt=d):On(e,t),Zn(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(ie=t,p=t.child;p!==null;){for(m=ie=p;ie!==null;){switch(_=ie,w=_.child,_.tag){case 0:case 11:case 14:case 15:Ma(4,_,_.return);break;case 1:Qs(_,_.return);var T=_.stateNode;if(typeof T.componentWillUnmount=="function"){i=_,n=_.return;try{e=i,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(S){Ye(i,n,S)}}break;case 5:Qs(_,_.return);break;case 22:if(_.memoizedState!==null){H0(m);continue}}w!==null?(w.return=_,ie=w):H0(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{r=m.stateNode,d?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=pE("display",a))}catch(S){Ye(t,t.return,S)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(S){Ye(t,t.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:On(e,t),Zn(t),i&4&&j0(t);break;case 21:break;default:On(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ux(n)){var i=n;break e}n=n.return}throw Error(Q(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Za(r,""),i.flags&=-33);var s=U0(t);hm(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,u=U0(t);cm(t,u,a);break;default:throw Error(Q(161))}}catch(c){Ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pL(t,e,n){ie=t,Hx(t)}function Hx(t,e,n){for(var i=(t.mode&1)!==0;ie!==null;){var r=ie,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Bu;if(!a){var u=r.alternate,c=u!==null&&u.memoizedState!==null||Lt;u=Bu;var d=Lt;if(Bu=a,(Lt=c)&&!d)for(ie=r;ie!==null;)a=ie,c=a.child,a.tag===22&&a.memoizedState!==null?W0(r):c!==null?(c.return=a,ie=c):W0(r);for(;s!==null;)ie=s,Hx(s),s=s.sibling;ie=r,Bu=u,Lt=d}V0(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ie=s):V0(t)}}function V0(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Dh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Lt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&I0(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}I0(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Xa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Lt||e.flags&512&&um(e)}catch(_){Ye(e,e.return,_)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function H0(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function W0(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dh(4,e)}catch(c){Ye(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){Ye(e,r,c)}}var s=e.return;try{um(e)}catch(c){Ye(e,s,c)}break;case 5:var a=e.return;try{um(e)}catch(c){Ye(e,a,c)}}}catch(c){Ye(e,e.return,c)}if(e===t){ie=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ie=u;break}ie=e.return}}var mL=Math.ceil,qc=Di.ReactCurrentDispatcher,Hg=Di.ReactCurrentOwner,In=Di.ReactCurrentBatchConfig,ke=0,pt=null,ot=null,Tt=0,on=0,Xs=Sr(0),ut=0,ul=null,is=0,$h=0,Wg=0,Da=null,Xt=null,qg=0,wo=1/0,vi=null,Gc=!1,dm=null,lr=null,Fu=!1,Qi=null,Zc=0,$a=0,fm=null,pc=-1,mc=0;function Wt(){return ke&6?et():pc!==-1?pc:pc=et()}function ur(t){return t.mode&1?ke&2&&Tt!==0?Tt&-Tt:XP.transition!==null?(mc===0&&(mc=bE()),mc):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:RE(t.type)),t):1}function zn(t,e,n,i){if(50<$a)throw $a=0,fm=null,Error(Q(185));Nl(t,n,i),(!(ke&2)||t!==pt)&&(t===pt&&(!(ke&2)&&($h|=n),ut===4&&Hi(t,Tt)),sn(t,i),n===1&&ke===0&&!(e.mode&1)&&(wo=et()+500,Oh&&Cr()))}function sn(t,e){var n=t.callbackNode;X2(t,e);var i=Nc(t,t===pt?Tt:0);if(i===0)n!==null&&e0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&e0(n),e===1)t.tag===0?QP(q0.bind(null,t)):JE(q0.bind(null,t)),GP(function(){!(ke&6)&&Cr()}),n=null;else{switch(kE(i)){case 1:n=yg;break;case 4:n=CE;break;case 16:n=Lc;break;case 536870912:n=IE;break;default:n=Lc}n=Xx(n,Wx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wx(t,e){if(pc=-1,mc=0,ke&6)throw Error(Q(327));var n=t.callbackNode;if(so()&&t.callbackNode!==n)return null;var i=Nc(t,t===pt?Tt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Kc(t,i);else{e=i;var r=ke;ke|=2;var s=Gx();(pt!==t||Tt!==e)&&(vi=null,wo=et()+500,Kr(t,e));do try{yL();break}catch(u){qx(t,u)}while(1);Ng(),qc.current=s,ke=r,ot!==null?e=0:(pt=null,Tt=0,e=ut)}if(e!==0){if(e===2&&(r=Fp(t),r!==0&&(i=r,e=pm(t,r))),e===1)throw n=ul,Kr(t,0),Hi(t,i),sn(t,et()),n;if(e===6)Hi(t,i);else{if(r=t.current.alternate,!(i&30)&&!gL(r)&&(e=Kc(t,i),e===2&&(s=Fp(t),s!==0&&(i=s,e=pm(t,s))),e===1))throw n=ul,Kr(t,0),Hi(t,i),sn(t,et()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Q(345));case 2:Br(t,Xt,vi);break;case 3:if(Hi(t,i),(i&130023424)===i&&(e=qg+500-et(),10<e)){if(Nc(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Wt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Zp(Br.bind(null,t,Xt,vi),e);break}Br(t,Xt,vi);break;case 4:if(Hi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-$n(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=et()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mL(i/1960))-i,10<i){t.timeoutHandle=Zp(Br.bind(null,t,Xt,vi),i);break}Br(t,Xt,vi);break;case 5:Br(t,Xt,vi);break;default:throw Error(Q(329))}}}return sn(t,et()),t.callbackNode===n?Wx.bind(null,t):null}function pm(t,e){var n=Da;return t.current.memoizedState.isDehydrated&&(Kr(t,e).flags|=256),t=Kc(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&mm(e)),t}function mm(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function gL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Bn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hi(t,e){for(e&=~Wg,e&=~$h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),i=1<<n;t[n]=-1,e&=~i}}function q0(t){if(ke&6)throw Error(Q(327));so();var e=Nc(t,0);if(!(e&1))return sn(t,et()),null;var n=Kc(t,e);if(t.tag!==0&&n===2){var i=Fp(t);i!==0&&(e=i,n=pm(t,i))}if(n===1)throw n=ul,Kr(t,0),Hi(t,e),sn(t,et()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,Xt,vi),sn(t,et()),null}function Gg(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(wo=et()+500,Oh&&Cr())}}function rs(t){Qi!==null&&Qi.tag===0&&!(ke&6)&&so();var e=ke;ke|=1;var n=In.transition,i=Ae;try{if(In.transition=null,Ae=1,t)return t()}finally{Ae=i,In.transition=n,ke=e,!(ke&6)&&Cr()}}function Zg(){on=Xs.current,Be(Xs)}function Kr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qP(n)),ot!==null)for(n=ot.return;n!==null;){var i=n;switch(kg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Dc();break;case 3:yo(),Be(nn),Be(Dt),$g();break;case 5:Dg(i);break;case 4:yo();break;case 13:Be(He);break;case 19:Be(He);break;case 10:Ag(i.type._context);break;case 22:case 23:Zg()}n=n.return}if(pt=t,ot=t=cr(t.current,null),Tt=on=e,ut=0,ul=null,Wg=$h=is=0,Xt=Da=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}Vr=null}return t}function qx(t,e){do{var n=ot;try{if(Ng(),hc.current=Wc,Hc){for(var i=We.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hc=!1}if(ns=0,ft=lt=We=null,Ra=!1,ol=0,Hg.current=null,n===null||n.return===null){ut=1,ul=e,ot=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=Tt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=O0(a);if(w!==null){w.flags&=-257,R0(w,a,u,s,e),w.mode&1&&A0(s,d,e),e=w,c=d;var T=e.updateQueue;if(T===null){var S=new Set;S.add(c),e.updateQueue=S}else T.add(c);break e}else{if(!(e&1)){A0(s,d,e),Kg();break e}c=Error(Q(426))}}else if(je&&u.mode&1){var I=O0(a);if(I!==null){!(I.flags&65536)&&(I.flags|=256),R0(I,a,u,s,e),Pg(_o(c,u));break e}}s=c=_o(c,u),ut!==4&&(ut=2),Da===null?Da=[s]:Da.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Px(s,c,e);C0(s,v);break e;case 1:u=c;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(lr===null||!lr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=Lx(s,u,e);C0(s,C);break e}}s=s.return}while(s!==null)}Kx(n)}catch(P){e=P,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(1)}function Gx(){var t=qc.current;return qc.current=Wc,t===null?Wc:t}function Kg(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||!(is&268435455)&&!($h&268435455)||Hi(pt,Tt)}function Kc(t,e){var n=ke;ke|=2;var i=Gx();(pt!==t||Tt!==e)&&(vi=null,Kr(t,e));do try{vL();break}catch(r){qx(t,r)}while(1);if(Ng(),ke=n,qc.current=i,ot!==null)throw Error(Q(261));return pt=null,Tt=0,ut}function vL(){for(;ot!==null;)Zx(ot)}function yL(){for(;ot!==null&&!V2();)Zx(ot)}function Zx(t){var e=Qx(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?Kx(t):ot=e,Hg.current=null}function Kx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hL(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,ot=null;return}}else if(n=cL(n,e,on),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ut===0&&(ut=5)}function Br(t,e,n){var i=Ae,r=In.transition;try{In.transition=null,Ae=1,_L(t,e,n,i)}finally{In.transition=r,Ae=i}return null}function _L(t,e,n,i){do so();while(Qi!==null);if(ke&6)throw Error(Q(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(J2(t,s),t===pt&&(ot=pt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fu||(Fu=!0,Xx(Lc,function(){return so(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var a=Ae;Ae=1;var u=ke;ke|=4,Hg.current=null,fL(t,n),Vx(n,t),BP(qp),Ac=!!Wp,qp=Wp=null,t.current=n,pL(n),H2(),ke=u,Ae=a,In.transition=s}else t.current=n;if(Fu&&(Fu=!1,Qi=t,Zc=r),s=t.pendingLanes,s===0&&(lr=null),G2(n.stateNode),sn(t,et()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gc)throw Gc=!1,t=dm,dm=null,t;return Zc&1&&t.tag!==0&&so(),s=t.pendingLanes,s&1?t===fm?$a++:($a=0,fm=t):$a=0,Cr(),null}function so(){if(Qi!==null){var t=kE(Zc),e=In.transition,n=Ae;try{if(In.transition=null,Ae=16>t?16:t,Qi===null)var i=!1;else{if(t=Qi,Qi=null,Zc=0,ke&6)throw Error(Q(331));var r=ke;for(ke|=4,ie=t.current;ie!==null;){var s=ie,a=s.child;if(ie.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(ie=d;ie!==null;){var p=ie;switch(p.tag){case 0:case 11:case 15:Ma(8,p,s)}var m=p.child;if(m!==null)m.return=p,ie=m;else for(;ie!==null;){p=ie;var _=p.sibling,w=p.return;if(Fx(p),p===d){ie=null;break}if(_!==null){_.return=w,ie=_;break}ie=w}}}var T=s.alternate;if(T!==null){var S=T.child;if(S!==null){T.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}ie=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ie=a;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ma(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ie=v;break e}ie=s.return}}var y=t.current;for(ie=y;ie!==null;){a=ie;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ie=x;else e:for(a=y;ie!==null;){if(u=ie,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Dh(9,u)}}catch(P){Ye(u,u.return,P)}if(u===a){ie=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,ie=C;break e}ie=u.return}}if(ke=r,Cr(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(kh,t)}catch{}i=!0}return i}finally{Ae=n,In.transition=e}}return!1}function G0(t,e,n){e=_o(n,e),e=Px(t,e,1),t=ar(t,e,1),e=Wt(),t!==null&&(Nl(t,1,e),sn(t,e))}function Ye(t,e,n){if(t.tag===3)G0(t,t,n);else for(;e!==null;){if(e.tag===3){G0(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(lr===null||!lr.has(i))){t=_o(n,t),t=Lx(e,t,1),e=ar(e,t,1),t=Wt(),e!==null&&(Nl(e,1,t),sn(e,t));break}}e=e.return}}function wL(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(Tt&n)===n&&(ut===4||ut===3&&(Tt&130023424)===Tt&&500>et()-qg?Kr(t,0):Wg|=n),sn(t,e)}function Yx(t,e){e===0&&(t.mode&1?(e=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):e=1);var n=Wt();t=Pi(t,e),t!==null&&(Nl(t,e,n),sn(t,n))}function EL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Yx(t,n)}function xL(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Q(314))}i!==null&&i.delete(e),Yx(t,n)}var Qx;Qx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,uL(t,e,n);en=!!(t.flags&131072)}else en=!1,je&&e.flags&1048576&&ex(e,Bc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;fc(t,e),t=e.pendingProps;var r=mo(e,Dt.current);ro(e,n),r=Bg(null,e,i,t,r,n);var s=Fg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(i)?(s=!0,$c(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Rg(e),r.updater=Rh,e.stateNode=r,r._reactInternals=e,tm(e,i,t,n),e=rm(null,e,i,!0,s,n)):(e.tag=0,je&&s&&bg(e),Vt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(fc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=SL(i),t=Rn(i,t),r){case 0:e=im(null,e,i,t,n);break e;case 1:e=$0(null,e,i,t,n);break e;case 11:e=M0(null,e,i,t,n);break e;case 14:e=D0(null,e,i,Rn(i.type,t),n);break e}throw Error(Q(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Rn(i,r),im(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Rn(i,r),$0(t,e,i,r,n);case 3:e:{if(Rx(e),t===null)throw Error(Q(387));i=e.pendingProps,s=e.memoizedState,r=s.element,rx(t,e),jc(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=_o(Error(Q(423)),e),e=z0(t,e,i,n,r);break e}else if(i!==r){r=_o(Error(Q(424)),e),e=z0(t,e,i,n,r);break e}else for(ln=or(e.stateNode.containerInfo.firstChild),hn=e,je=!0,Dn=null,n=lx(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(go(),i===r){e=Li(t,e,n);break e}Vt(t,e,i,n)}e=e.child}return e;case 5:return ux(e),t===null&&Xp(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,Gp(i,r)?a=null:s!==null&&Gp(i,s)&&(e.flags|=32),Ox(t,e),Vt(t,e,a,n),e.child;case 6:return t===null&&Xp(e),null;case 13:return Mx(t,e,n);case 4:return Mg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=vo(e,null,i,n):Vt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Rn(i,r),M0(t,e,i,r,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Me(Fc,i._currentValue),i._currentValue=a,s!==null)if(Bn(s.value,a)){if(s.children===r.children&&!nn.current){e=Li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=Si(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Jp(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Jp(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ro(e,n),r=kn(r),i=i(r),e.flags|=1,Vt(t,e,i,n),e.child;case 14:return i=e.type,r=Rn(i,e.pendingProps),r=Rn(i.type,r),D0(t,e,i,r,n);case 15:return Nx(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Rn(i,r),fc(t,e),e.tag=1,rn(i)?(t=!0,$c(e)):t=!1,ro(e,n),ox(e,i,r),tm(e,i,r,n),rm(null,e,i,!0,t,n);case 19:return Dx(t,e,n);case 22:return Ax(t,e,n)}throw Error(Q(156,e.tag))};function Xx(t,e){return SE(t,e)}function TL(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,i){return new TL(t,e,n,i)}function Yg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SL(t){if(typeof t=="function")return Yg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mg)return 11;if(t===gg)return 14}return 2}function cr(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gc(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")Yg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case js:return Yr(n.children,r,s,e);case pg:a=8,r|=8;break;case Cp:return t=Cn(12,n,e,r|2),t.elementType=Cp,t.lanes=s,t;case Ip:return t=Cn(13,n,e,r),t.elementType=Ip,t.lanes=s,t;case bp:return t=Cn(19,n,e,r),t.elementType=bp,t.lanes=s,t;case aE:return zh(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sE:a=10;break e;case oE:a=9;break e;case mg:a=11;break e;case gg:a=14;break e;case Ui:a=16,i=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Cn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Yr(t,e,n,i){return t=Cn(7,t,i,e),t.lanes=n,t}function zh(t,e,n,i){return t=Cn(22,t,i,e),t.elementType=aE,t.lanes=n,t.stateNode={isHidden:!1},t}function zf(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function Bf(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CL(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Qg(t,e,n,i,r,s,a,u,c){return t=new CL(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rg(s),t}function IL(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Jx(t){if(!t)return yr;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(rn(n))return XE(t,n,e)}return e}function eT(t,e,n,i,r,s,a,u,c){return t=Qg(n,i,!0,t,r,s,a,u,c),t.context=Jx(null),n=t.current,i=Wt(),r=ur(n),s=Si(i,r),s.callback=e??null,ar(n,s,r),t.current.lanes=r,Nl(t,r,i),sn(t,i),t}function Bh(t,e,n,i){var r=e.current,s=Wt(),a=ur(r);return n=Jx(n),e.context===null?e.context=n:e.pendingContext=n,e=Si(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ar(r,e,a),t!==null&&(zn(t,r,a,s),cc(t,r,a)),a}function Yc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Z0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xg(t,e){Z0(t,e),(t=t.alternate)&&Z0(t,e)}function bL(){return null}var tT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jg(t){this._internalRoot=t}Fh.prototype.render=Jg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Bh(t,e,null,null)};Fh.prototype.unmount=Jg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){Bh(null,t,null,null)}),e[ki]=null}};function Fh(t){this._internalRoot=t}Fh.prototype.unstable_scheduleHydration=function(t){if(t){var e=NE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vi.length&&e!==0&&e<Vi[n].priority;n++);Vi.splice(n,0,t),n===0&&OE(t)}};function ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function K0(){}function kL(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var d=Yc(a);s.call(d)}}var a=eT(e,i,t,0,null,!1,!1,"",K0);return t._reactRootContainer=a,t[ki]=a.current,tl(t.nodeType===8?t.parentNode:t),rs(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var d=Yc(c);u.call(d)}}var c=Qg(t,0,!1,null,null,!1,!1,"",K0);return t._reactRootContainer=c,t[ki]=c.current,tl(t.nodeType===8?t.parentNode:t),rs(function(){Bh(e,c,n,i)}),c}function jh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var u=r;r=function(){var c=Yc(a);u.call(c)}}Bh(e,a,t,r)}else a=kL(n,e,t,r,i);return Yc(a)}PE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_a(e.pendingLanes);n!==0&&(_g(e,n|1),sn(e,et()),!(ke&6)&&(wo=et()+500,Cr()))}break;case 13:rs(function(){var i=Pi(t,1);if(i!==null){var r=Wt();zn(i,t,1,r)}}),Xg(t,1)}};wg=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=Wt();zn(e,t,134217728,n)}Xg(t,134217728)}};LE=function(t){if(t.tag===13){var e=ur(t),n=Pi(t,e);if(n!==null){var i=Wt();zn(n,t,e,i)}Xg(t,e)}};NE=function(){return Ae};AE=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};$p=function(t,e,n){switch(e){case"input":if(Lp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Ah(i);if(!r)throw Error(Q(90));uE(i),Lp(i,r)}}}break;case"textarea":hE(t,n);break;case"select":e=n.value,e!=null&&eo(t,!!n.multiple,e,!1)}};yE=Gg;_E=rs;var PL={usingClientEntryPoint:!1,Events:[Ol,qs,Ah,gE,vE,Gg]},da={findFiberByHostInstance:jr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LL={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xE(t),t===null?null:t.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||bL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{kh=Uu.inject(LL),ni=Uu}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PL;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ev(e))throw Error(Q(200));return IL(t,e,null,n)};pn.createRoot=function(t,e){if(!ev(t))throw Error(Q(299));var n=!1,i="",r=tT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Qg(t,1,!1,null,null,n,!1,i,r),t[ki]=e.current,tl(t.nodeType===8?t.parentNode:t),new Jg(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=xE(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return rs(t)};pn.hydrate=function(t,e,n){if(!Uh(e))throw Error(Q(200));return jh(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!ev(t))throw Error(Q(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=tT;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=eT(e,null,t,1,n??null,r,!1,s,a),t[ki]=e.current,tl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Fh(e)};pn.render=function(t,e,n){if(!Uh(e))throw Error(Q(200));return jh(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!Uh(t))throw Error(Q(40));return t._reactRootContainer?(rs(function(){jh(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1};pn.unstable_batchedUpdates=Gg;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Uh(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return jh(t,e,n,!1,i)};pn.version="18.2.0-next-9e3b772b8-20220608";function nT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nT)}catch(t){console.error(t)}}nT(),eE.exports=pn;var iT=eE.exports,Y0=iT;Tp.createRoot=Y0.createRoot,Tp.hydrateRoot=Y0.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cl.apply(this,arguments)}var Xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xi||(Xi={}));const Q0="popstate";function NL(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:u}=i.location;return gm("",{pathname:s,search:a,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Qc(r)}return OL(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AL(){return Math.random().toString(36).substr(2,8)}function X0(t,e){return{usr:t.state,key:t.key,idx:e}}function gm(t,e,n,i){return n===void 0&&(n=null),cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mo(e):e,{state:n,key:e&&e.key||i||AL()})}function Qc(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function OL(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,u=Xi.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(cl({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){u=Xi.Pop;let I=p(),v=I==null?null:I-d;d=I,c&&c({action:u,location:S.location,delta:v})}function _(I,v){u=Xi.Push;let y=gm(S.location,I,v);n&&n(y,I),d=p()+1;let x=X0(y,d),C=S.createHref(y);try{a.pushState(x,"",C)}catch{r.location.assign(C)}s&&c&&c({action:u,location:S.location,delta:1})}function w(I,v){u=Xi.Replace;let y=gm(S.location,I,v);n&&n(y,I),d=p();let x=X0(y,d),C=S.createHref(y);a.replaceState(x,"",C),s&&c&&c({action:u,location:S.location,delta:0})}function T(I){let v=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof I=="string"?I:Qc(I);return tt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let S={get action(){return u},get location(){return t(r,a)},listen(I){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Q0,m),c=I,()=>{r.removeEventListener(Q0,m),c=null}},createHref(I){return e(r,I)},createURL:T,encodeLocation(I){let v=T(I);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:_,replace:w,go(I){return a.go(I)}};return S}var J0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(J0||(J0={}));function RL(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Mo(e):e,r=nv(i.pathname||"/",n);if(r==null)return null;let s=rT(t);ML(s);let a=null;for(let u=0;a==null&&u<s.length;++u)a=HL(s[u],GL(r));return a}function rT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=hr([i,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),rT(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:jL(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,a);else for(let c of sT(s.path))r(s,a,c)}),e}function sT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=sT(i.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function ML(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VL(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const DL=/^:\w+$/,$L=3,zL=2,BL=1,FL=10,UL=-2,ew=t=>t==="*";function jL(t,e){let n=t.split("/"),i=n.length;return n.some(ew)&&(i+=UL),e&&(i+=zL),n.filter(r=>!ew(r)).reduce((r,s)=>r+(DL.test(s)?$L:s===""?BL:FL),i)}function VL(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function HL(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let a=0;a<n.length;++a){let u=n[a],c=a===n.length-1,d=r==="/"?e:e.slice(r.length)||"/",p=WL({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d);if(!p)return null;Object.assign(i,p.params);let m=u.route;s.push({params:i,pathname:hr([r,p.pathname]),pathnameBase:QL(hr([r,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(r=hr([r,p.pathnameBase]))}return s}function WL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=qL(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,p,m)=>{if(p==="*"){let _=u[m]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}return d[p]=ZL(u[m]||"",p),d},{}),pathname:s,pathnameBase:a,pattern:t}}function qL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,u)=>(i.push(u),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function GL(t){try{return decodeURI(t)}catch(e){return tv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ZL(t,e){try{return decodeURIComponent(t)}catch(n){return tv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function nv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function KL(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Mo(t):t;return{pathname:n?n.startsWith("/")?n:YL(n,e):e,search:XL(i),hash:JL(r)}}function YL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ff(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rv(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Mo(t):(r=cl({},t),tt(!r.pathname||!r.pathname.includes("?"),Ff("?","pathname","search",r)),tt(!r.pathname||!r.pathname.includes("#"),Ff("#","pathname","hash",r)),tt(!r.search||!r.search.includes("#"),Ff("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,u;if(i||a==null)u=n;else{let m=e.length-1;if(a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),m-=1;r.pathname=_.join("/")}u=m>=0?e[m]:"/"}let c=KL(r,u),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const hr=t=>t.join("/").replace(/\/\/+/g,"/"),QL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oT=["post","put","patch","delete"];new Set(oT);const tN=["get",...oT];new Set(tN);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xc.apply(this,arguments)}const sv=O.createContext(null),aT=O.createContext(null),ys=O.createContext(null),Vh=O.createContext(null),ci=O.createContext({outlet:null,matches:[],isDataRoute:!1}),lT=O.createContext(null);function nN(t,e){let{relative:n}=e===void 0?{}:e;Do()||tt(!1);let{basename:i,navigator:r}=O.useContext(ys),{hash:s,pathname:a,search:u}=ov(t,{relative:n}),c=a;return i!=="/"&&(c=a==="/"?i:hr([i,a])),r.createHref({pathname:c,search:u,hash:s})}function Do(){return O.useContext(Vh)!=null}function $o(){return Do()||tt(!1),O.useContext(Vh).location}function uT(t){O.useContext(ys).static||O.useLayoutEffect(t)}function Ml(){let{isDataRoute:t}=O.useContext(ci);return t?vN():iN()}function iN(){Do()||tt(!1);let t=O.useContext(sv),{basename:e,navigator:n}=O.useContext(ys),{matches:i}=O.useContext(ci),{pathname:r}=$o(),s=JSON.stringify(iv(i).map(c=>c.pathnameBase)),a=O.useRef(!1);return uT(()=>{a.current=!0}),O.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let p=rv(c,JSON.parse(s),r,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:hr([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,s,r,t])}const rN=O.createContext(null);function sN(t){let e=O.useContext(ci).outlet;return e&&O.createElement(rN.Provider,{value:t},e)}function cT(){let{matches:t}=O.useContext(ci),e=t[t.length-1];return e?e.params:{}}function ov(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=O.useContext(ci),{pathname:r}=$o(),s=JSON.stringify(iv(i).map(a=>a.pathnameBase));return O.useMemo(()=>rv(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}function oN(t,e){return aN(t,e)}function aN(t,e,n){Do()||tt(!1);let{navigator:i}=O.useContext(ys),{matches:r}=O.useContext(ci),s=r[r.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=$o(),d;if(e){var p;let S=typeof e=="string"?Mo(e):e;u==="/"||(p=S.pathname)!=null&&p.startsWith(u)||tt(!1),d=S}else d=c;let m=d.pathname||"/",_=u==="/"?m:m.slice(u.length)||"/",w=RL(t,{pathname:_}),T=dN(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:hr([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:hr([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),r,n);return e&&T?O.createElement(Vh.Provider,{value:{location:Xc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xi.Pop}},T):T}function lN(){let t=gN(),e=eN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:r},n):null,s)}const uN=O.createElement(lN,null);class cN extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?O.createElement(ci.Provider,{value:this.props.routeContext},O.createElement(lT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hN(t){let{routeContext:e,match:n,children:i}=t,r=O.useContext(sv);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(ci.Provider,{value:e},i)}function dN(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));u>=0||tt(!1),s=s.slice(0,Math.min(s.length,u+1))}return s.reduceRight((u,c,d)=>{let p=c.route.id?a==null?void 0:a[c.route.id]:null,m=null;n&&(m=c.route.errorElement||uN);let _=e.concat(s.slice(0,d+1)),w=()=>{let T;return p?T=m:c.route.Component?T=O.createElement(c.route.Component,null):c.route.element?T=c.route.element:T=u,O.createElement(hN,{match:c,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:T})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?O.createElement(cN,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var vm;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(vm||(vm={}));var hl;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(hl||(hl={}));function fN(t){let e=O.useContext(sv);return e||tt(!1),e}function pN(t){let e=O.useContext(aT);return e||tt(!1),e}function mN(t){let e=O.useContext(ci);return e||tt(!1),e}function hT(t){let e=mN(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function gN(){var t;let e=O.useContext(lT),n=pN(hl.UseRouteError),i=hT(hl.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function vN(){let{router:t}=fN(vm.UseNavigateStable),e=hT(hl.UseNavigateStable),n=O.useRef(!1);return uT(()=>{n.current=!0}),O.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Xc({fromRouteId:e},s)))},[t,e])}function wB(t){let{to:e,replace:n,state:i,relative:r}=t;Do()||tt(!1);let{matches:s}=O.useContext(ci),{pathname:a}=$o(),u=Ml(),c=rv(e,iv(s).map(p=>p.pathnameBase),a,r==="path"),d=JSON.stringify(c);return O.useEffect(()=>u(JSON.parse(d),{replace:n,state:i,relative:r}),[u,d,r,n,i]),null}function EB(t){return sN(t.context)}function jt(t){tt(!1)}function yN(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Xi.Pop,navigator:s,static:a=!1}=t;Do()&&tt(!1);let u=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:u,navigator:s,static:a}),[u,s,a]);typeof i=="string"&&(i=Mo(i));let{pathname:d="/",search:p="",hash:m="",state:_=null,key:w="default"}=i,T=O.useMemo(()=>{let S=nv(d,u);return S==null?null:{location:{pathname:S,search:p,hash:m,state:_,key:w},navigationType:r}},[u,d,p,m,_,w,r]);return T==null?null:O.createElement(ys.Provider,{value:c},O.createElement(Vh.Provider,{children:n,value:T}))}function _N(t){let{children:e,location:n}=t;return oN(ym(e),n)}var tw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(tw||(tw={}));new Promise(()=>{});function ym(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(i,r)=>{if(!O.isValidElement(i))return;let s=[...e,r];if(i.type===O.Fragment){n.push.apply(n,ym(i.props.children,s));return}i.type!==jt&&tt(!1),!i.props.index||!i.props.children||tt(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=ym(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jc.apply(this,arguments)}function dT(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function wN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EN(t,e){return t.button===0&&(!e||e==="_self")&&!wN(t)}const xN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],TN=["aria-current","caseSensitive","className","end","style","to","children"];function SN(t){let{basename:e,children:n,window:i}=t,r=O.useRef();r.current==null&&(r.current=NL({window:i,v5Compat:!0}));let s=r.current,[a,u]=O.useState({action:s.action,location:s.location});return O.useLayoutEffect(()=>s.listen(u),[s]),O.createElement(yN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const CN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,av=O.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:u,target:c,to:d,preventScrollReset:p}=e,m=dT(e,xN),{basename:_}=O.useContext(ys),w,T=!1;if(typeof d=="string"&&IN.test(d)&&(w=d,CN))try{let y=new URL(window.location.href),x=d.startsWith("//")?new URL(y.protocol+d):new URL(d),C=nv(x.pathname,_);x.origin===y.origin&&C!=null?d=C+x.search+x.hash:T=!0}catch{}let S=nN(d,{relative:r}),I=bN(d,{replace:a,state:u,target:c,preventScrollReset:p,relative:r});function v(y){i&&i(y),y.defaultPrevented||I(y)}return O.createElement("a",Jc({},m,{href:w||S,onClick:T||s?i:v,ref:n,target:c}))}),xB=O.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:a=!1,style:u,to:c,children:d}=e,p=dT(e,TN),m=ov(c,{relative:p.relative}),_=$o(),w=O.useContext(aT),{navigator:T}=O.useContext(ys),S=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,I=_.pathname,v=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(I=I.toLowerCase(),v=v?v.toLowerCase():null,S=S.toLowerCase());let y=I===S||!a&&I.startsWith(S)&&I.charAt(S.length)==="/",x=v!=null&&(v===S||!a&&v.startsWith(S)&&v.charAt(S.length)==="/"),C=y?i:void 0,P;typeof s=="function"?P=s({isActive:y,isPending:x}):P=[s,y?"active":null,x?"pending":null].filter(Boolean).join(" ");let N=typeof u=="function"?u({isActive:y,isPending:x}):u;return O.createElement(av,Jc({},p,{"aria-current":C,className:P,ref:n,style:N,to:c}),typeof d=="function"?d({isActive:y,isPending:x}):d)});var nw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(nw||(nw={}));var iw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iw||(iw={}));function bN(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a}=e===void 0?{}:e,u=Ml(),c=$o(),d=ov(t,{relative:a});return O.useCallback(p=>{if(EN(p,n)){p.preventDefault();let m=i!==void 0?i:Qc(c)===Qc(d);u(t,{replace:m,state:r,preventScrollReset:s,relative:a})}},[c,u,d,i,r,n,t,s,a])}const kN="modulepreload",PN=function(t){return"/RealEstate/"+t},rw={},Ir=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=PN(s),s in rw)return;rw[s]=!0;const a=s.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(!!i)for(let p=r.length-1;p>=0;p--){const m=r[p];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${u}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":kN,a||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),a)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},LN="/RealEstate/assets/spinner-6bbdf916.svg",Hh=()=>b.jsx("div",{className:"fixed left-0 right-0 bottom-0 top-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:b.jsx("div",{className:"",children:b.jsx("img",{src:LN,alt:"Loading...",className:"h-24"})})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},NN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],u=t[n++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,u=a?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,p=s>>2,m=(s&3)<<4|u>>4;let _=(u&15)<<2|d>>6,w=d&63;c||(w=64,a||(_=64)),i.push(n[p],n[m],n[_],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||u==null||d==null||m==null)throw new AN;const _=s<<2|u>>4;if(i.push(_),d!==64){const w=u<<4&240|d>>2;if(i.push(w),m!==64){const T=d<<6&192|m;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ON=function(t){const e=fT(t);return pT.encodeByteArray(e,!0)},eh=function(t){return ON(t).replace(/\./g,"")},mT=function(t){try{return pT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=()=>RN().__FIREBASE_DEFAULTS__,DN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$N=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mT(t[1]);return e&&JSON.parse(e)},Wh=()=>{try{return MN()||DN()||$N()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gT=t=>{var e,n;return(n=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vT=t=>{const e=gT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},yT=()=>{var t;return(t=Wh())===null||t===void 0?void 0:t.config},_T=t=>{var e;return(e=Wh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[eh(JSON.stringify(n)),eh(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function FN(){var t;const e=(t=Wh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VN(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HN(){try{return typeof indexedDB=="object"}catch{return!1}}function WN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="FirebaseError";class hi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=qN,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?GN(s,i):"Error",u=`${this.serviceName}: ${a} (${r}).`;return new hi(r,u,i)}}function GN(t,e){return t.replace(ZN,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const ZN=/\{\$([^}]+)}/g;function KN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function th(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(sw(s)&&sw(a)){if(!th(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function sw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YN(t,e){const n=new QN(t,e);return n.subscribe.bind(n)}class QN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");XN(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Uf),r.error===void 0&&(r.error=Uf),r.complete===void 0&&(r.complete=Uf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class _r{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new zN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tA(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);i===u&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eA(t){return t===Fr?void 0:t}function tA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const iA={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},rA=Le.INFO,sA={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},oA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=sA[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=rA,this._logHandler=oA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const aA=(t,e)=>e.some(n=>t instanceof n);let ow,aw;function lA(){return ow||(ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return aw||(aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ET=new WeakMap,_m=new WeakMap,xT=new WeakMap,jf=new WeakMap,uv=new WeakMap;function cA(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(dr(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ET.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function hA(t){if(_m.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});_m.set(t,e)}let wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _m.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dA(t){wm=t(wm)}function fA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Vf(this),e,...n);return xT.set(i,e.sort?e.sort():[e]),dr(i)}:uA().includes(t)?function(...e){return t.apply(Vf(this),e),dr(ET.get(this))}:function(...e){return dr(t.apply(Vf(this),e))}}function pA(t){return typeof t=="function"?fA(t):(t instanceof IDBTransaction&&hA(t),aA(t,lA())?new Proxy(t,wm):t)}function dr(t){if(t instanceof IDBRequest)return cA(t);if(jf.has(t))return jf.get(t);const e=pA(t);return e!==t&&(jf.set(t,e),uv.set(e,t)),e}const Vf=t=>uv.get(t);function mA(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),u=dr(a);return i&&a.addEventListener("upgradeneeded",c=>{i(dr(a.result),c.oldVersion,c.newVersion,dr(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const gA=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],Hf=new Map;function lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hf.get(e))return Hf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=vA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gA.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,r?"readwrite":"readonly");let d=c.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),r&&c.done]))[0]};return Hf.set(e,s),s}dA(t=>({...t,get:(e,n,i)=>lw(e,n)||t.get(e,n,i),has:(e,n)=>!!lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_A(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function _A(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Em="@firebase/app",uw="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new lv("@firebase/app"),wA="@firebase/app-compat",EA="@firebase/analytics-compat",xA="@firebase/analytics",TA="@firebase/app-check-compat",SA="@firebase/app-check",CA="@firebase/auth",IA="@firebase/auth-compat",bA="@firebase/database",kA="@firebase/database-compat",PA="@firebase/functions",LA="@firebase/functions-compat",NA="@firebase/installations",AA="@firebase/installations-compat",OA="@firebase/messaging",RA="@firebase/messaging-compat",MA="@firebase/performance",DA="@firebase/performance-compat",$A="@firebase/remote-config",zA="@firebase/remote-config-compat",BA="@firebase/storage",FA="@firebase/storage-compat",UA="@firebase/firestore",jA="@firebase/firestore-compat",VA="firebase",HA="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",WA={[Em]:"fire-core",[wA]:"fire-core-compat",[xA]:"fire-analytics",[EA]:"fire-analytics-compat",[SA]:"fire-app-check",[TA]:"fire-app-check-compat",[CA]:"fire-auth",[IA]:"fire-auth-compat",[bA]:"fire-rtdb",[kA]:"fire-rtdb-compat",[PA]:"fire-fn",[LA]:"fire-fn-compat",[NA]:"fire-iid",[AA]:"fire-iid-compat",[OA]:"fire-fcm",[RA]:"fire-fcm-compat",[MA]:"fire-perf",[DA]:"fire-perf-compat",[$A]:"fire-rc",[zA]:"fire-rc-compat",[BA]:"fire-gcs",[FA]:"fire-gcs-compat",[UA]:"fire-fst",[jA]:"fire-fst-compat","fire-js":"fire-js",[VA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,Tm=new Map;function qA(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function os(t){const e=t.name;if(Tm.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,t);for(const n of nh.values())qA(n,t);return!0}function qh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fr=new Dl("app","Firebase",GA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=HA;function TT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:xm,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw fr.create("bad-app-name",{appName:String(r)});if(n||(n=yT()),!n)throw fr.create("no-options");const s=nh.get(r);if(s){if(th(n,s.options)&&th(i,s.config))return s;throw fr.create("duplicate-app",{appName:r})}const a=new nA(r);for(const c of Tm.values())a.addComponent(c);const u=new ZA(n,i,a);return nh.set(r,u),u}function cv(t=xm){const e=nh.get(t);if(!e&&t===xm&&yT())return TT();if(!e)throw fr.create("no-app",{appName:t});return e}function ri(t,e,n){var i;let r=(i=WA[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(u.join(" "));return}os(new _r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebase-heartbeat-database",YA=1,dl="firebase-heartbeat-store";let Wf=null;function ST(){return Wf||(Wf=mA(KA,YA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dl)}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),Wf}async function QA(t){try{return await(await ST()).transaction(dl).objectStore(dl).get(CT(t))}catch(e){if(e instanceof hi)ss.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(n.message)}}}async function cw(t,e){try{const i=(await ST()).transaction(dl,"readwrite");await i.objectStore(dl).put(e,CT(t)),await i.done}catch(n){if(n instanceof hi)ss.warn(n.message);else{const i=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ss.warn(i.message)}}}function CT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=1024,JA=30*24*60*60*1e3;class eO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=JA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hw(),{heartbeatsToSend:n,unsentEntries:i}=tO(this._heartbeatsCache.heartbeats),r=eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function hw(){return new Date().toISOString().substring(0,10)}function tO(t,e=XA){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),dw(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),dw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class nO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HN()?WN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await QA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dw(t){return eh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){os(new _r("platform-logger",e=>new yA(e),"PRIVATE")),os(new _r("heartbeat",e=>new eO(e),"PRIVATE")),ri(Em,uw,t),ri(Em,uw,"esm2017"),ri("fire-js","")}iO("");function hv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function IT(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rO=IT,bT=new Dl("auth","Firebase",IT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new lv("@firebase/auth");function sO(t,...e){ih.logLevel<=Le.WARN&&ih.warn(`Auth (${_s}): ${t}`,...e)}function vc(t,...e){ih.logLevel<=Le.ERROR&&ih.error(`Auth (${_s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw dv(t,...e)}function si(t,...e){return dv(t,...e)}function kT(t,e,n){const i=Object.assign(Object.assign({},rO()),{[e]:n});return new Dl("auth","Firebase",i).create(e,{appName:t.name})}function oO(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ln(t,"argument-error"),kT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return bT.create(t,...e)}function ce(t,e,...n){if(!t)throw dv(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vc(e),new Error(e)}function Ni(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aO(){return fw()==="http:"||fw()==="https:"}function fw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aO()||UN()||"connection"in navigator)?navigator.onLine:!0}function uO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=BN()||jN()}get(){return lO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new zl(3e4,6e4);function ws(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function br(t,e,n,i,r={}){return LT(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const u=$l(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),PT.fetch()(NT(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function LT(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},cO),e);try{const r=new dO(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw ju(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const u=s.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw ju(t,"user-disabled",a);const p=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw kT(t,p,d);Ln(t,p)}}catch(r){if(r instanceof hi)throw r;Ln(t,"network-request-failed",{message:String(r)})}}async function Bl(t,e,n,i,r={}){const s=await br(t,e,n,i,r);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function NT(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?fv(t.config,r):`${t.config.apiScheme}://${r}`}class dO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(si(this.auth,"network-request-failed")),hO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ju(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=si(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){return br(t,"POST","/v1/accounts:delete",e)}async function pO(t,e){return br(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mO(t,e=!1){const n=Qe(t),i=await n.getIdToken(e),r=pv(i);ce(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:za(qf(r.auth_time)),issuedAtTime:za(qf(r.iat)),expirationTime:za(qf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function qf(t){return Number(t)*1e3}function pv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const r=mT(n);return r?JSON.parse(r):(vc("Failed to decode base64 JWT payload"),null)}catch(r){return vc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function gO(t){const e=pv(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof hi&&vO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function vO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Eo(t,pO(n,{idToken:i}));ce(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EO(s.providerUserInfo):[],u=wO(t.providerData,a),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new AT(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function _O(t){const e=Qe(t);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wO(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function EO(t){return t.map(e=>{var{providerId:n}=e,i=hv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e){const n=await LT(t,{},async()=>{const i=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=NT(t,r,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",PT.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await xO(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new fl;return i&&(ce(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(ce(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(ce(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=hv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new AT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mO(this,e)}reload(){return _O(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Eo(this,fO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,a,u,c,d,p;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(r=n.email)!==null&&r!==void 0?r:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(u=n.tenantId)!==null&&u!==void 0?u:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:x,emailVerified:C,isAnonymous:P,providerData:N,stsTokenManager:F}=n;ce(x&&F,e,"internal-error");const A=fl.fromJSON(this.name,F);ce(typeof x=="string",e,"internal-error"),Fi(m,e.name),Fi(_,e.name),ce(typeof C=="boolean",e,"internal-error"),ce(typeof P=="boolean",e,"internal-error"),Fi(w,e.name),Fi(T,e.name),Fi(S,e.name),Fi(I,e.name),Fi(v,e.name),Fi(y,e.name);const z=new Qr({uid:x,auth:e,email:_,emailVerified:C,displayName:m,isAnonymous:P,photoURL:T,phoneNumber:w,tenantId:S,stsTokenManager:A,createdAt:v,lastLoginAt:y});return N&&Array.isArray(N)&&(z.providerData=N.map(K=>Object.assign({},K))),I&&(z._redirectEventId=I),z}static async _fromIdTokenResponse(e,n,i=!1){const r=new fl;r.updateFromServerResponse(n);const s=new Qr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await rh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;function xi(t){Ni(t instanceof Function,"Expected a class definition");let e=pw.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OT.type="NONE";const mw=OT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,e,n){return`firebase:${t}:${e}:${n}`}class oo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=yc(this.userKey,r.apiKey,s),this.fullPersistenceKey=yc("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new oo(xi(mw),e,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||xi(mw);const a=yc(i,e.config.apiKey,e.name);let u=null;for(const d of n)try{const p=await d._get(a);if(p){const m=Qr._fromJSON(e,p);d!==s&&(u=m),s=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new oo(s,e,i):(s=c[0],u&&await s._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new oo(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zT(e))return"Blackberry";if(BT(e))return"Webos";if(mv(e))return"Safari";if((e.includes("chrome/")||MT(e))&&!e.includes("edge/"))return"Chrome";if($T(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function RT(t=$t()){return/firefox\//i.test(t)}function mv(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MT(t=$t()){return/crios\//i.test(t)}function DT(t=$t()){return/iemobile/i.test(t)}function $T(t=$t()){return/android/i.test(t)}function zT(t=$t()){return/blackberry/i.test(t)}function BT(t=$t()){return/webos/i.test(t)}function Gh(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TO(t=$t()){var e;return Gh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SO(){return VN()&&document.documentMode===10}function FT(t=$t()){return Gh(t)||$T(t)||BT(t)||zT(t)||/windows phone/i.test(t)||DT(t)}function CO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e=[]){let n;switch(t){case"Browser":n=gw($t());break;case"Worker":n=`${gw($t())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_s}/${i}`}async function jT(t,e){return br(t,"GET","/v2/recaptchaConfig",ws(t,e))}function vw(t){return t!==void 0&&t.enterprise!==void 0}class VT{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function HT(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=si("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",IO().appendChild(i)})}function bO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kO="https://www.google.com/recaptcha/enterprise.js?render=",PO="recaptcha-enterprise",LO="NO_RECAPTCHA";class WT{constructor(e){this.type=PO,this.auth=kr(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,u)=>{jT(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new VT(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{u(c)})})}function r(s,a,u){const c=window.grecaptcha;vw(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(LO)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{i(this.auth).then(u=>{if(!n&&vw(window.grecaptcha))r(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}HT(kO+u).then(()=>{r(u,s,a)}).catch(c=>{a(c)})}}).catch(u=>{a(u)})})}}async function xo(t,e,n,i=!1){const r=new WT(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,u)=>{try{const c=e(s);a(c)}catch(c){u(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yw(this),this.idTokenSubscription=new yw(this),this.beforeStateQueue=new NO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Qe(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}async initializeRecaptchaConfig(){const e=await jT(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new VT(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new WT(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xi(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,i,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kr(t){return Qe(t)}class yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=YN(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e){const n=qh(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(th(s,e??{}))return r;Ln(r,"already-initialized")}return n.initialize({options:e})}function RO(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function MO(t,e,n){const i=kr(t);ce(i._canInitEmulator,i,"emulator-config-failed"),ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=qT(e),{host:a,port:u}=DO(e),c=u===null?"":`:${u}`;i.config.emulator={url:`${s}//${a}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||$O()}function qT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DO(t){const e=qT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:_w(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:_w(a)}}}function _w(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $O(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function zO(t,e){return br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t,e){return Bl(t,"POST","/v1/accounts:signInWithPassword",ws(t,e))}async function BO(t,e){return br(t,"POST","/v1/accounts:sendOobCode",ws(t,e))}async function Zf(t,e){return BO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){return Bl(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}async function UO(t,e){return Bl(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends gv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new pl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new pl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const r=await xo(e,i,"signInWithPassword");return Gf(e,r)}else return Gf(e,i).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await xo(e,i,"signInWithPassword");return Gf(e,s)}else return Promise.reject(r)});case"emailLink":return FO(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return zO(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return UO(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e){return Bl(t,"POST","/v1/accounts:signInWithIdp",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="http://localhost";class as extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=hv(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new as(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ao(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:jO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HO(t){const e=Ea(xa(t)).link,n=e?Ea(xa(e)).deep_link_id:null,i=Ea(xa(t)).deep_link_id;return(i?Ea(xa(i)).link:null)||i||n||e||t}class vv{constructor(e){var n,i,r,s,a,u;const c=Ea(xa(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(i=c.oobCode)!==null&&i!==void 0?i:null,m=VO((r=c.mode)!==null&&r!==void 0?r:null);ce(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=HO(e);try{return new vv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return pl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=vv.parseLink(n);return ce(i,"argument-error"),pl._fromEmailAndCode(e,i.code,i.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends yv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Fl{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qi.credential(n,i)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Fl{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Fl{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Zi.credential(n,i)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t,e){return Bl(t,"POST","/v1/accounts:signUp",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Qr._fromIdTokenResponse(e,i,r),a=ww(i);return new ls({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=ww(i);return new ls({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function ww(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends hi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new sh(e,n,i,r)}}function GT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(t,s,e,i):s})}async function WO(t,e,n=!1){const i=await Eo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ls._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await Eo(t,GT(i,r,e,t),n);ce(s.idToken,i,"internal-error");const a=pv(s.idToken);ce(a,i,"internal-error");const{sub:u}=a;return ce(t.uid===u,i,"user-mismatch"),ls._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(t,e,n=!1){const i="signIn",r=await GT(t,i,e),s=await ls._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function GO(t,e){return ZT(kr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t,e,n){var i;ce(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),ce(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ce(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ce(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(t,e,n){var i;const r=kr(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const a=await xo(r,s,"getOobCode",!0);n&&Yf(r,a,n),await Zf(r,a)}else n&&Yf(r,s,n),await Zf(r,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const u=await xo(r,s,"getOobCode",!0);n&&Yf(r,u,n),await Zf(r,u)}else return Promise.reject(a)})}async function SB(t,e,n){var i;const r=kr(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const d=await xo(r,s,"signUpPassword");a=Kf(r,d)}else a=Kf(r,s).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const p=await xo(r,s,"signUpPassword");return Kf(r,p)}else return Promise.reject(d)});const u=await a.catch(d=>Promise.reject(d)),c=await ls._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function CB(t,e,n){return GO(Qe(t),zo.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e){return br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Qe(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Eo(i,ZO(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const u=i.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function YO(t,e,n,i){return Qe(t).onIdTokenChanged(e,n,i)}function QO(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function IB(t,e,n,i){return Qe(t).onAuthStateChanged(e,n,i)}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){const t=$t();return mv(t)||Gh(t)}const JO=1e3,eR=10;class YT extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XO()&&CO(),this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);SO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,eR):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},JO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YT.type="LOCAL";const tR=YT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QT.type="SESSION";const XT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Zh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(a).map(async d=>d(n.origin,s)),c=await nR(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const d=_v("",20);r.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const _=m;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function rR(t){oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function sR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aR(){return JT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebaseLocalStorageDb",lR=1,ah="firebaseLocalStorage",tS="fbase_key";class Ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(t,e){return t.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function uR(){const t=indexedDB.deleteDatabase(eS);return new Ul(t).toPromise()}function Cm(){const t=indexedDB.open(eS,lR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ah,{keyPath:tS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ah)?e(i):(i.close(),await uR(),e(await Cm()))})})}async function Ew(t,e,n){const i=Kh(t,!0).put({[tS]:e,value:n});return new Ul(i).toPromise()}async function cR(t,e){const n=Kh(t,!1).get(e),i=await new Ul(n).toPromise();return i===void 0?null:i.value}function xw(t,e){const n=Kh(t,!0).delete(e);return new Ul(n).toPromise()}const hR=800,dR=3;class nS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>dR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(aR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sR(),!this.activeServiceWorker)return;this.sender=new iR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await Ew(e,oh,"1"),await xw(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ew(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>cR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Kh(r,!1).getAll();return new Ul(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nS.type="LOCAL";const fR=nS;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e){return e?xi(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pR(t){return ZT(t.auth,new wv(t),t.bypassAuthState)}function mR(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),qO(n,new wv(t),t.bypassAuthState)}async function gR(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),WO(n,new wv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pR;case"linkViaPopup":case"linkViaRedirect":return gR;case"reauthViaPopup":case"reauthViaRedirect":return mR;default:Ln(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new zl(2e3,1e4);async function bB(t,e,n){const i=kr(t);oO(t,e,yv);const r=iS(i,n);return new Wr(i,"signInViaPopup",e,r).executeNotNull()}class Wr extends rS{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=_v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vR.get())};e()}}Wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="pendingRedirect",_c=new Map;class _R extends rS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=_c.get(this.auth._key());if(!e){try{const i=await wR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_c.set(this.auth._key(),e)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wR(t,e){const n=TR(e),i=xR(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function ER(t,e){_c.set(t._key(),e)}function xR(t){return xi(t._redirectPersistence)}function TR(t){return yc(yR,t.config.apiKey,t.name)}async function SR(t,e,n=!1){const i=kr(t),r=iS(i,e),a=await new _R(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=10*60*1e3;class IR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!sS(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(si(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tw(e))}saveEventToCache(e){this.cachedEventUids.add(Tw(e)),this.lastProcessedEventTime=Date.now()}}function Tw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e={}){return br(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LR=/^https?/;async function NR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kR(t);for(const n of e)try{if(AR(n))return}catch{}Ln(t,"unauthorized-domain")}function AR(t){const e=Sm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!LR.test(n))return!1;if(PR.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new zl(3e4,6e4);function Sw(){const t=oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RR(t){return new Promise((e,n)=>{var i,r,s;function a(){Sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sw(),n(si(t,"network-request-failed"))},timeout:OR.get()})}if(!((r=(i=oi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=oi().gapi)===null||s===void 0)&&s.load)a();else{const u=bO("iframefcb");return oi()[u]=()=>{gapi.load?a():n(si(t,"network-request-failed"))},HT(`https://apis.google.com/js/api.js?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw wc=null,e})}let wc=null;function MR(t){return wc=wc||RR(t),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new zl(5e3,15e3),$R="__/auth/iframe",zR="emulator/auth/iframe",BR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UR(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fv(e,zR):`https://${t.config.authDomain}/${$R}`,i={apiKey:e.apiKey,appName:t.name,v:_s},r=FR.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${$l(i).slice(1)}`}async function jR(t){const e=await MR(t),n=oi().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:UR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BR,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=si(t,"network-request-failed"),u=oi().setTimeout(()=>{s(a)},DR.get());function c(){oi().clearTimeout(u),r(i)}i.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HR=500,WR=600,qR="_blank",GR="http://localhost";class Cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZR(t,e,n,i=HR,r=WR){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},VR),{width:i.toString(),height:r.toString(),top:s,left:a}),d=$t().toLowerCase();n&&(u=MT(d)?qR:n),RT(d)&&(e=e||GR,c.scrollbars="yes");const p=Object.entries(c).reduce((_,[w,T])=>`${_}${w}=${T},`,"");if(TO(d)&&u!=="_self")return KR(e||"",u),new Cw(null);const m=window.open(e||"",u,p);ce(m,t,"popup-blocked");try{m.focus()}catch{}return new Cw(m)}function KR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="__/auth/handler",QR="emulator/auth/handler",XR=encodeURIComponent("fac");async function Iw(t,e,n,i,r,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:_s,eventId:r};if(e instanceof yv){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",KN(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(e instanceof Fl){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),d=c?`#${XR}=${encodeURIComponent(c)}`:"";return`${JR(t)}?${$l(u).slice(1)}${d}`}function JR({config:t}){return t.emulator?fv(t,QR):`https://${t.authDomain}/${YR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="webStorageSupport";class eM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XT,this._completeRedirectFn=SR,this._overrideRedirectResult=ER}async _openPopup(e,n,i,r){var s;Ni((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Iw(e,n,i,Sm(),r);return ZR(e,a,_v())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await Iw(e,n,i,Sm(),r);return rR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ni(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await jR(e),i=new IR(e);return n.register("authEvent",r=>(ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qf,{type:Qf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Qf];a!==void 0&&n(!!a),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||mv()||Gh()}}const tM=eM;var bw="@firebase/auth",kw="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function rM(t){os(new _r("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=i.options;ce(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(t)},d=new AO(i,r,s,c);return RO(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),os(new _r("auth-internal",e=>{const n=kr(e.getProvider("auth").getImmediate());return(i=>new nM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(bw,kw,iM(t)),ri(bw,kw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=5*60,oM=_T("authIdTokenMaxAge")||sM;let Pw=null;const aM=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>oM)return;const r=n==null?void 0:n.token;Pw!==r&&(Pw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Yh(t=cv()){const e=qh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OO(t,{popupRedirectResolver:tM,persistence:[fR,tR,XT]}),i=_T("authTokenSyncURL");if(i){const s=aM(i);QO(n,s,()=>s(n.currentUser)),YO(n,a=>s(a))}const r=gT("auth");return r&&MO(n,`http://${r}`),n}rM("Browser");var lM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,Ev=Ev||{},ge=lM||self;function Qh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function jl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function uM(t){return Object.prototype.hasOwnProperty.call(t,Xf)&&t[Xf]||(t[Xf]=++cM)}var Xf="closure_uid_"+(1e9*Math.random()>>>0),cM=0;function hM(t,e,n){return t.call.apply(t.bind,arguments)}function dM(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ot=hM:Ot=dM,Ot.apply(null,arguments)}function Vu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[r].apply(i,a)}}function Pr(){this.s=this.s,this.o=this.o}var fM=0;Pr.prototype.s=!1;Pr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),fM!=0)&&uM(this)};Pr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xv(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Lw(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Qh(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let a=0;a<s;a++)t[r+a]=i[a]}else t.push(i)}}function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var pM=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function ml(t){return/^[\s\xa0]*$/.test(t)}function Xh(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function Qn(t){return Xh().indexOf(t)!=-1}function Tv(t){return Tv[" "](t),t}Tv[" "]=function(){};function mM(t,e){var n=aD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var gM=Qn("Opera"),To=Qn("Trident")||Qn("MSIE"),aS=Qn("Edge"),Im=aS||To,lS=Qn("Gecko")&&!(Xh().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),vM=Xh().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge");function uS(){var t=ge.document;return t?t.documentMode:void 0}var bm;e:{var Jf="",ep=function(){var t=Xh();if(lS)return/rv:([^\);]+)(\)|;)/.exec(t);if(aS)return/Edge\/([\d\.]+)/.exec(t);if(To)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vM)return/WebKit\/(\S+)/.exec(t);if(gM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ep&&(Jf=ep?ep[1]:""),To){var tp=uS();if(tp!=null&&tp>parseFloat(Jf)){bm=String(tp);break e}}bm=Jf}var km;if(ge.document&&To){var Nw=uS();km=Nw||parseInt(bm,10)||void 0}else km=void 0;var yM=km;function gl(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lS){e:{try{Tv(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_M[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gl.$.h.call(this)}}gt(gl,Rt);var _M={2:"touch",3:"pen",4:"mouse"};gl.prototype.h=function(){gl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vl="closure_listenable_"+(1e6*Math.random()|0),wM=0;function EM(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++wM,this.fa=this.ia=!1}function Jh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Sv(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function xM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function cS(t){const e={};for(const n in t)e[n]=t[n];return e}const Aw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hS(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<Aw.length;s++)n=Aw[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function ed(t){this.src=t,this.g={},this.h=0}ed.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=Lm(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new EM(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function Pm(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=oS(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Jh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Lm(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var Cv="closure_lm_"+(1e6*Math.random()|0),np={};function dS(t,e,n,i,r){if(i&&i.once)return pS(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dS(t,e[s],n,i,r);return null}return n=kv(n),t&&t[Vl]?t.O(e,n,jl(i)?!!i.capture:!!i,r):fS(t,e,n,!1,i,r)}function fS(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var a=jl(r)?!!r.capture:!!r,u=bv(t);if(u||(t[Cv]=u=new ed(t)),n=u.add(e,n,i,a,s),n.proxy)return n;if(i=TM(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)pM||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(gS(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function TM(){function t(n){return e.call(t.src,t.listener,n)}const e=SM;return t}function pS(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)pS(t,e[s],n,i,r);return null}return n=kv(n),t&&t[Vl]?t.P(e,n,jl(i)?!!i.capture:!!i,r):fS(t,e,n,!0,i,r)}function mS(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)mS(t,e[s],n,i,r);else i=jl(i)?!!i.capture:!!i,n=kv(n),t&&t[Vl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Lm(s,n,i,r),-1<n&&(Jh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=bv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lm(e,n,i,r)),(n=-1<t?e[t]:null)&&Iv(n))}function Iv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Vl])Pm(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(gS(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=bv(e))?(Pm(n,t),n.h==0&&(n.src=null,e[Cv]=null)):Jh(t)}}}function gS(t){return t in np?np[t]:np[t]="on"+t}function SM(t,e){if(t.fa)t=!0;else{e=new gl(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Iv(t),t=n.call(i,e)}return t}function bv(t){return t=t[Cv],t instanceof ed?t:null}var ip="__closure_events_fn_"+(1e9*Math.random()>>>0);function kv(t){return typeof t=="function"?t:(t[ip]||(t[ip]=function(e){return t.handleEvent(e)}),t[ip])}function mt(){Pr.call(this),this.i=new ed(this),this.S=this,this.J=null}gt(mt,Pr);mt.prototype[Vl]=!0;mt.prototype.removeEventListener=function(t,e,n,i){mS(this,t,e,n,i)};function St(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var r=e;e=new Rt(i,t),hS(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];r=Hu(a,i,!0,e)&&r}if(a=e.g=t,r=Hu(a,i,!0,e)&&r,r=Hu(a,i,!1,e)&&r,n)for(s=0;s<n.length;s++)a=e.g=n[s],r=Hu(a,i,!1,e)&&r}mt.prototype.N=function(){if(mt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Jh(n[i]);delete t.g[e],t.h--}}this.J=null};mt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};mt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Hu(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var u=a.listener,c=a.la||a.src;a.ia&&Pm(t.i,a),r=u.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var Pv=ge.JSON.stringify;class CM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function IM(){var t=Lv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class bM{constructor(){this.h=this.g=null}add(e,n){const i=vS.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var vS=new CM(()=>new kM,t=>t.reset());class kM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function PM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function LM(t){ge.setTimeout(()=>{throw t},0)}let vl,yl=!1,Lv=new bM,yS=()=>{const t=ge.Promise.resolve(void 0);vl=()=>{t.then(NM)}};var NM=()=>{for(var t;t=IM();){try{t.h.call(t.g)}catch(n){LM(n)}var e=vS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yl=!1};function td(t,e){mt.call(this),this.h=t||1,this.g=e||ge,this.j=Ot(this.qb,this),this.l=Date.now()}gt(td,mt);J=td.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),St(this,"tick"),this.ga&&(Nv(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){td.$.N.call(this),Nv(this),delete this.g};function Av(t,e,n){if(typeof t=="function")n&&(t=Ot(t,n));else if(t&&typeof t.handleEvent=="function")t=Ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function _S(t){t.g=Av(()=>{t.g=null,t.i&&(t.i=!1,_S(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class AM extends Pr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_S(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _l(t){Pr.call(this),this.h=t,this.g={}}gt(_l,Pr);var Ow=[];function wS(t,e,n,i){Array.isArray(n)||(n&&(Ow[0]=n.toString()),n=Ow);for(var r=0;r<n.length;r++){var s=dS(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ES(t){Sv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Iv(e)},t),t.g={}}_l.prototype.N=function(){_l.$.N.call(this),ES(this)};_l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nd(){this.g=!0}nd.prototype.Ea=function(){this.g=!1};function OM(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var a="",u=s.split("&"),c=0;c<u.length;c++){var d=u[c].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function RM(t,e,n,i,r,s,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+a})}function Js(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+DM(t,n)+(i?" "+i:"")})}function MM(t,e){t.info(function(){return"TIMEOUT: "+e})}nd.prototype.info=function(){};function DM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return Pv(n)}catch{return e}}var Es={},Rw=null;function id(){return Rw=Rw||new mt}Es.Ta="serverreachability";function xS(t){Rt.call(this,Es.Ta,t)}gt(xS,Rt);function wl(t){const e=id();St(e,new xS(e))}Es.STAT_EVENT="statevent";function TS(t,e){Rt.call(this,Es.STAT_EVENT,t),this.stat=e}gt(TS,Rt);function Ht(t){const e=id();St(e,new TS(e,t))}Es.Ua="timingevent";function SS(t,e){Rt.call(this,Es.Ua,t),this.size=e}gt(SS,Rt);function Hl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var rd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},CS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ov(){}Ov.prototype.h=null;function Mw(t){return t.h||(t.h=t.i())}function IS(){}var Wl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rv(){Rt.call(this,"d")}gt(Rv,Rt);function Mv(){Rt.call(this,"c")}gt(Mv,Rt);var Nm;function sd(){}gt(sd,Ov);sd.prototype.g=function(){return new XMLHttpRequest};sd.prototype.i=function(){return{}};Nm=new sd;function ql(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new _l(this),this.P=$M,t=Im?125:void 0,this.V=new td(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bS}function bS(){this.i=null,this.g="",this.h=!1}var $M=45e3,Am={},lh={};J=ql.prototype;J.setTimeout=function(t){this.P=t};function Om(t,e,n){t.L=1,t.v=ad(Ai(e)),t.s=n,t.S=!0,kS(t,null)}function kS(t,e){t.G=Date.now(),Gl(t),t.A=Ai(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),DS(n.i,"t",i),t.C=0,n=t.l.J,t.h=new bS,t.g=iC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new AM(Ot(t.Pa,t,t.g),t.O)),wS(t.U,t.g,"readystatechange",t.nb),e=t.I?cS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),wl(),OM(t.j,t.u,t.A,t.m,t.W,t.s)}J.nb=function(t){t=t.target;const e=this.M;e&&Xn(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const p=Xn(this.g);var e=this.g.Ia();const m=this.g.da();if(!(3>p)&&(p!=3||Im||this.g&&(this.h.h||this.g.ja()||Bw(this.g)))){this.J||p!=4||e==7||(e==8||0>=m?wl(3):wl(2)),od(this);var n=this.g.da();this.ca=n;t:if(PS(this)){var i=Bw(this.g);t="";var r=i.length,s=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Ba(this);var a="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,RM(this.j,this.u,this.A,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ml(u)){var d=u;break t}}d=null}if(n=d)Js(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rm(this,n);else{this.i=!1,this.o=3,Ht(12),qr(this),Ba(this);break e}}this.S?(LS(this,p,a),Im&&this.i&&p==3&&(wS(this.U,this.V,"tick",this.mb),this.V.start())):(Js(this.j,this.m,a,null),Rm(this,a)),p==4&&qr(this),this.i&&!this.J&&(p==4?JS(this.l,this):(this.i=!1,Gl(this)))}else rD(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.o=3,Ht(12)):(this.o=0,Ht(13)),qr(this),Ba(this)}}}catch{}finally{}};function PS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function LS(t,e,n){let i=!0,r;for(;!t.J&&t.C<n.length;)if(r=zM(t,n),r==lh){e==4&&(t.o=4,Ht(14),i=!1),Js(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Am){t.o=4,Ht(15),Js(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Js(t.j,t.m,r,null),Rm(t,r);PS(t)&&r!=lh&&r!=Am&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ht(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uv(e),e.M=!0,Ht(11))):(Js(t.j,t.m,n,"[Invalid Chunked Response]"),qr(t),Ba(t))}J.mb=function(){if(this.g){var t=Xn(this.g),e=this.g.ja();this.C<e.length&&(od(this),LS(this,t,e),this.i&&t!=4&&Gl(this))}};function zM(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?lh:(n=Number(e.substring(n,i)),isNaN(n)?Am:(i+=1,i+n>e.length?lh:(e=e.slice(i,i+n),t.C=i+n,e)))}J.cancel=function(){this.J=!0,qr(this)};function Gl(t){t.Y=Date.now()+t.P,NS(t,t.P)}function NS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Hl(Ot(t.lb,t),e)}function od(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}J.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(MM(this.j,this.A),this.L!=2&&(wl(),Ht(17)),qr(this),this.o=2,Ba(this)):NS(this,this.Y-t)};function Ba(t){t.l.H==0||t.J||JS(t.l,t)}function qr(t){od(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Nv(t.V),ES(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Rm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Mm(n.i,t))){if(!t.K&&Mm(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)hh(n),cd(n);else break e;Fv(n),Ht(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Hl(Ot(n.ib,n),6e3));if(1>=BS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gr(n,11)}else if((t.K||n.g==t)&&hh(n),!ml(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let d=r[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const p=d[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const m=d[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));const _=d[5];_!=null&&typeof _=="number"&&0<_&&(i=1.5*_,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const w=t.g;if(w){const T=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var s=i.i;s.g||T.indexOf("spdy")==-1&&T.indexOf("quic")==-1&&T.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Dv(s,s.h),s.h=null))}if(i.F){const S=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,$e(i.I,i.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=nC(i,i.J?i.pa:null,i.Y),a.K){FS(i.i,a);var u=a,c=i.L;c&&u.setTimeout(c),u.B&&(od(u),Gl(u)),i.g=a}else QS(i);0<n.j.length&&hd(n)}else d[0]!="stop"&&d[0]!="close"||Gr(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Gr(n,7):Bv(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}wl(4)}catch{}}function BM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qh(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function FM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function AS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=FM(t),i=BM(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var OS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Xr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xr){this.h=t.h,uh(this,t.j),this.s=t.s,this.g=t.g,ch(this,t.m),this.l=t.l;var e=t.i,n=new El;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Dw(this,n),this.o=t.o}else t&&(e=String(t).match(OS))?(this.h=!1,uh(this,e[1]||"",!0),this.s=Ta(e[2]||""),this.g=Ta(e[3]||"",!0),ch(this,e[4]),this.l=Ta(e[5]||"",!0),Dw(this,e[6]||"",!0),this.o=Ta(e[7]||"")):(this.h=!1,this.i=new El(null,this.h))}Xr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sa(e,$w,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Sa(e,$w,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Sa(n,n.charAt(0)=="/"?HM:VM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sa(n,qM)),t.join("")};function Ai(t){return new Xr(t)}function uh(t,e,n){t.j=n?Ta(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ch(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Dw(t,e,n){e instanceof El?(t.i=e,GM(t.i,t.h)):(n||(e=Sa(e,WM)),t.i=new El(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function ad(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ta(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,jM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $w=/[#\/\?@]/g,VM=/[#\?:]/g,HM=/[#\?]/g,WM=/[#\?@]/g,qM=/#/g;function El(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Lr(t){t.g||(t.g=new Map,t.h=0,t.i&&UM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=El.prototype;J.add=function(t,e){Lr(this),this.i=null,t=Bo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function RS(t,e){Lr(t),e=Bo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function MS(t,e){return Lr(t),e=Bo(t,e),t.g.has(e)}J.forEach=function(t,e){Lr(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};J.ta=function(){Lr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};J.Z=function(t){Lr(this);let e=[];if(typeof t=="string")MS(this,t)&&(e=e.concat(this.g.get(Bo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return Lr(this),this.i=null,t=Bo(this,t),MS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function DS(t,e,n){RS(t,e),0<n.length&&(t.i=null,t.g.set(Bo(t,e),xv(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function Bo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function GM(t,e){e&&!t.j&&(Lr(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(RS(this,i),DS(this,r,n))},t)),t.j=e}var ZM=class{constructor(t,e){this.g=t,this.map=e}};function $S(t){this.l=t||KM,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KM=10;function zS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BS(t){return t.h?1:t.g?t.g.size:0}function Mm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Dv(t,e){t.g?t.g.add(e):t.h=e}function FS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$S.prototype.cancel=function(){if(this.i=US(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function US(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xv(t.i)}var YM=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function QM(){this.g=new YM}function XM(t,e,n){const i=n||"";try{AS(t,function(r,s){let a=r;jl(r)&&(a=Pv(r)),e.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function JM(t,e){const n=new nd;if(ge.Image){const i=new Image;i.onload=Vu(Wu,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Vu(Wu,n,i,"TestLoadImage: error",!1,e),i.onabort=Vu(Wu,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Vu(Wu,n,i,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Wu(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Zl(t){this.l=t.fc||null,this.j=t.ob||!1}gt(Zl,Ov);Zl.prototype.g=function(){return new ld(this.l,this.j)};Zl.prototype.i=function(t){return function(){return t}}({});function ld(t,e){mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(ld,mt);var $v=0;J=ld.prototype;J.open=function(t,e){if(this.readyState!=$v)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xl(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=$v};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xl(this)),this.g&&(this.readyState=3,xl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function jS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Kl(this):xl(this),this.readyState==3&&jS(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,Kl(this))};J.Ya=function(t){this.g&&(this.response=t,Kl(this))};J.ka=function(){this.g&&Kl(this)};function Kl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xl(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function xl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ld.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eD=ge.JSON.parse;function Xe(t){mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VS,this.L=this.M=!1}gt(Xe,mt);var VS="",tD=/^https?$/i,nD=["POST","PUT"];J=Xe.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nm.g(),this.C=this.u?Mw(this.u):Mw(Nm),this.g.onreadystatechange=Ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){zw(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=ge.FormData&&t instanceof ge.FormData,!(0<=oS(nD,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qS(this),0<this.B&&((this.L=iD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.ua,this)):this.A=Av(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zw(this,s)}};function iD(t){return To&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof Ev<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))};function zw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HS(t),ud(t)}function HS(t){t.F||(t.F=!0,St(t,"complete"),St(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,St(this,"complete"),St(this,"abort"),ud(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ud(this,!0)),Xe.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?WS(this):this.kb())};J.kb=function(){WS(this)};function WS(t){if(t.h&&typeof Ev<"u"&&(!t.C[1]||Xn(t)!=4||t.da()!=2)){if(t.v&&Xn(t)==4)Av(t.La,0,t);else if(St(t,"readystatechange"),Xn(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(OS)[1]||null;!r&&ge.self&&ge.self.location&&(r=ge.self.location.protocol.slice(0,-1)),i=!tD.test(r?r.toLowerCase():"")}n=i}if(n)St(t,"complete"),St(t,"success");else{t.m=6;try{var s=2<Xn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",HS(t)}}finally{ud(t)}}}}function ud(t,e){if(t.g){qS(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||St(t,"ready");try{n.onreadystatechange=i}catch{}}}function qS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function Xn(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eD(e)}};function Bw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case VS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rD(t){const e={};t=(t.g&&2<=Xn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(ml(t[i]))continue;var n=PM(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}xM(e,function(i){return i.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GS(t){let e="";return Sv(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function zv(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=GS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function fa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ZS(t){this.Ga=0,this.j=[],this.l=new nd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fa("baseRetryDelayMs",5e3,t),this.hb=fa("retryDelaySeedMs",1e4,t),this.eb=fa("forwardChannelMaxRetries",2,t),this.xa=fa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $S(t&&t.concurrentRequestLimit),this.Ja=new QM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=ZS.prototype;J.ra=8;J.H=1;function Bv(t){if(KS(t),t.H==3){var e=t.W++,n=Ai(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Yl(t,n),e=new ql(t,t.l,e),e.L=2,e.v=ad(Ai(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&(new Image().src=e.v,n=!0),n||(e.g=iC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gl(e)}tC(t)}function cd(t){t.g&&(Uv(t),t.g.cancel(),t.g=null)}function KS(t){cd(t),t.u&&(ge.clearTimeout(t.u),t.u=null),hh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ge.clearTimeout(t.m),t.m=null)}function hd(t){if(!zS(t.i)&&!t.m){t.m=!0;var e=t.Na;vl||yS(),yl||(vl(),yl=!0),Lv.add(e,t),t.C=0}}function sD(t,e){return BS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Hl(Ot(t.Na,t,e),eC(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ql(this,this.l,t);let s=this.s;if(this.U&&(s?(s=cS(s),hS(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YS(this,r,e),n=Ai(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Yl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GS(s)))+"&"+e:this.o&&zv(n,this.o,s)),Dv(this.i,r),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),r.aa=!0,Om(r,n,null)):Om(r,n,e),this.H=2}}else this.H==3&&(t?Fw(this,t):this.j.length==0||zS(this.i)||Fw(this))};function Fw(t,e){var n;e?n=e.m:n=t.W++;const i=Ai(t.I);$e(i,"SID",t.K),$e(i,"RID",n),$e(i,"AID",t.V),Yl(t,i),t.o&&t.s&&zv(i,t.o,t.s),n=new ql(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Dv(t.i,n),Om(n,i,e)}function Yl(t,e){t.na&&Sv(t.na,function(n,i){$e(e,i,n)}),t.h&&AS({},function(n,i){$e(e,i,n)})}function YS(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Ot(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let c=0;c<n;c++){let d=r[c].g;const p=r[c].map;if(d-=s,0>d)s=Math.max(0,r[c].g-100),u=!1;else try{XM(p,a,"req"+d+"_")}catch{i&&i(p)}}if(u){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function QS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;vl||yS(),yl||(vl(),yl=!0),Lv.add(e,t),t.A=0}}function Fv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Hl(Ot(t.Ma,t),eC(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,XS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Hl(Ot(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ht(10),cd(this),XS(this))};function Uv(t){t.B!=null&&(ge.clearTimeout(t.B),t.B=null)}function XS(t){t.g=new ql(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ai(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Yl(t,e),t.o&&t.s&&zv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ad(Ai(e)),n.s=null,n.S=!0,kS(n,t)}J.ib=function(){this.v!=null&&(this.v=null,cd(this),Fv(this),Ht(19))};function hh(t){t.v!=null&&(ge.clearTimeout(t.v),t.v=null)}function JS(t,e){var n=null;if(t.g==e){hh(t),Uv(t),t.g=null;var i=2}else if(Mm(t.i,e))n=e.F,FS(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;i=id(),St(i,new SS(i,n)),hd(t)}else QS(t);else if(r=e.o,r==3||r==0&&0<e.ca||!(i==1&&sD(t,e)||i==2&&Fv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Gr(t,5);break;case 4:Gr(t,10);break;case 3:Gr(t,6);break;default:Gr(t,2)}}}function eC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Ot(t.pb,t);n||(n=new Xr("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||uh(n,"https"),ad(n)),JM(n.toString(),i)}else Ht(2);t.H=0,t.h&&t.h.za(e),tC(t),KS(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ht(2)):(this.l.info("Failed to ping google.com"),Ht(1))};function tC(t){if(t.H=0,t.ma=[],t.h){const e=US(t.i);(e.length!=0||t.j.length!=0)&&(Lw(t.ma,e),Lw(t.ma,t.j),t.i.i.length=0,xv(t.j),t.j.length=0),t.h.ya()}}function nC(t,e,n){var i=n instanceof Xr?Ai(n):new Xr(n);if(i.g!="")e&&(i.g=e+"."+i.g),ch(i,i.m);else{var r=ge.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Xr(null);i&&uh(s,i),e&&(s.g=e),r&&ch(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&$e(i,n,e),$e(i,"VER",t.ra),Yl(t,i),i}function iC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Xe(new Zl({ob:!0})):new Xe(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function rC(){}J=rC.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function dh(){if(To&&!(10<=Number(yM)))throw Error("Environmental error: no available transport.")}dh.prototype.g=function(t,e){return new fn(t,e)};function fn(t,e){mt.call(this),this.g=new ZS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ml(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ml(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fo(this)}gt(fn,mt);fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ht(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nC(t,null,t.Y),hd(t)};fn.prototype.close=function(){Bv(this.g)};fn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Pv(t),t=n);e.j.push(new ZM(e.fb++,t)),e.H==3&&hd(e)};fn.prototype.N=function(){this.g.h=null,delete this.j,Bv(this.g),delete this.g,fn.$.N.call(this)};function sC(t){Rv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gt(sC,Rv);function oC(){Mv.call(this),this.status=1}gt(oC,Mv);function Fo(t){this.g=t}gt(Fo,rC);Fo.prototype.Ba=function(){St(this.g,"a")};Fo.prototype.Aa=function(t){St(this.g,new sC(t))};Fo.prototype.za=function(t){St(this.g,new oC)};Fo.prototype.ya=function(){St(this.g,"b")};function oD(){this.blockSize=-1}function Fn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gt(Fn,oD);Fn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function rp(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],a=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(a<<17&4294967295|a>>>15),a=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(a<<16&4294967295|a>>>16),a=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(a<<15&4294967295|a>>>17),a=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}Fn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)rp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){rp(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){rp(this,i),r=0;break}}this.h=r,this.i+=e};Fn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Oe(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var aD={};function jv(t){return-128<=t&&128>t?mM(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function Jn(t){if(isNaN(t)||!isFinite(t))return lo;if(0>t)return xt(Jn(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Dm;return new Oe(e,0)}function aC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return xt(aC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Jn(Math.pow(e,8)),i=lo,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+s),e);8>s?(s=Jn(Math.pow(e,s)),i=i.R(s).add(Jn(a))):(i=i.R(n),i=i.add(Jn(a)))}return i}var Dm=4294967296,lo=jv(0),$m=jv(1),Uw=jv(16777216);J=Oe.prototype;J.ea=function(){if(Sn(this))return-xt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Dm+i)*e,e*=Dm}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ti(this))return"0";if(Sn(this))return"-"+xt(this).toString(t);for(var e=Jn(Math.pow(t,6)),n=this,i="";;){var r=ph(n,e).g;n=fh(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Ti(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ti(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Sn(t){return t.h==-1}J.X=function(t){return t=fh(this,t),Sn(t)?-1:Ti(t)?0:1};function xt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Oe(n,~t.h).add($m)}J.abs=function(){return Sn(this)?xt(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),a=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,s&=65535,a&=65535,n[r]=a<<16|s}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function fh(t,e){return t.add(xt(e))}J.R=function(t){if(Ti(this)||Ti(t))return lo;if(Sn(this))return Sn(t)?xt(this).R(xt(t)):xt(xt(this).R(t));if(Sn(t))return xt(this.R(xt(t)));if(0>this.X(Uw)&&0>t.X(Uw))return Jn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,a=this.D(i)&65535,u=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=a*c,qu(n,2*i+2*r),n[2*i+2*r+1]+=s*c,qu(n,2*i+2*r+1),n[2*i+2*r+1]+=a*u,qu(n,2*i+2*r+1),n[2*i+2*r+2]+=s*u,qu(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Oe(n,0)};function qu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function pa(t,e){this.g=t,this.h=e}function ph(t,e){if(Ti(e))throw Error("division by zero");if(Ti(t))return new pa(lo,lo);if(Sn(t))return e=ph(xt(t),e),new pa(xt(e.g),xt(e.h));if(Sn(e))return e=ph(t,xt(e)),new pa(xt(e.g),e.h);if(30<t.g.length){if(Sn(t)||Sn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=$m,i=e;0>=i.X(t);)n=jw(n),i=jw(i);var r=Ds(n,1),s=Ds(i,1);for(i=Ds(i,2),n=Ds(n,2);!Ti(i);){var a=s.add(i);0>=a.X(t)&&(r=r.add(n),s=a),i=Ds(i,1),n=Ds(n,1)}return e=fh(t,r.R(e)),new pa(r,e)}for(r=lo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Jn(n),a=s.R(e);Sn(a)||0<a.X(t);)n-=i,s=Jn(n),a=s.R(e);Ti(s)&&(s=$m),r=r.add(s),t=fh(t,a)}return new pa(r,t)}J.gb=function(t){return ph(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Oe(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Oe(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Oe(n,this.h^t.h)};function jw(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Oe(n,t.h)}function Ds(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Oe(r,t.h)}dh.prototype.createWebChannel=dh.prototype.g;fn.prototype.send=fn.prototype.u;fn.prototype.open=fn.prototype.m;fn.prototype.close=fn.prototype.close;rd.NO_ERROR=0;rd.TIMEOUT=8;rd.HTTP_ERROR=6;CS.COMPLETE="complete";IS.EventType=Wl;Wl.OPEN="a";Wl.CLOSE="b";Wl.ERROR="c";Wl.MESSAGE="d";mt.prototype.listen=mt.prototype.O;Xe.prototype.listenOnce=Xe.prototype.P;Xe.prototype.getLastError=Xe.prototype.Sa;Xe.prototype.getLastErrorCode=Xe.prototype.Ia;Xe.prototype.getStatus=Xe.prototype.da;Xe.prototype.getResponseJson=Xe.prototype.Wa;Xe.prototype.getResponseText=Xe.prototype.ja;Xe.prototype.send=Xe.prototype.ha;Xe.prototype.setWithCredentials=Xe.prototype.Oa;Fn.prototype.digest=Fn.prototype.l;Fn.prototype.reset=Fn.prototype.reset;Fn.prototype.update=Fn.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=Jn;Oe.fromString=aC;var lD=function(){return new dh},uD=function(){return id()},sp=rd,cD=CS,hD=Es,Vw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dD=Zl,Gu=IS,fD=Xe,pD=Fn,uo=Oe;const Hw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new lv("@firebase/firestore");function Ww(){return us.logLevel}function se(t,...e){if(us.logLevel<=Le.DEBUG){const n=e.map(Vv);us.debug(`Firestore (${Uo}): ${t}`,...n)}}function Oi(t,...e){if(us.logLevel<=Le.ERROR){const n=e.map(Vv);us.error(`Firestore (${Uo}): ${t}`,...n)}}function So(t,...e){if(us.logLevel<=Le.WARN){const n=e.map(Vv);us.warn(`Firestore (${Uo}): ${t}`,...n)}}function Vv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+t;throw Oi(e),new Error(e)}function Fe(t,e){t||pe()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let mD=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}};class gD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let vD=class{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ci,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},u=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ci)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Fe(typeof i.accessToken=="string"),new lC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Pt(e)}};class yD{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}let _D=class{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new yD(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class wD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ED{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.T=n.token,new wD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=xD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function Ne(t,e){return t<e?-1:t>e?1:0}function Co(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ct(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new ct(0,0))}static max(){return new ve(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,i){n===void 0?n=0:n>e.length&&pe(),i===void 0?i=e.length-n:i>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Tl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),a=n.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends Tl{construct(e,n,i){return new ze(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ne(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const TD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Tl{construct(e,n,i){return new At(e,n,i)}static isValidIdentifier(e){return TD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ne(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new ne(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ne(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else u==="`"?(a=!a,r++):u!=="."||a?(i+=u,r++):(s(),r++)}if(s(),a)throw new ne(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(ze.fromString(e))}static fromName(e){return new ue(ze.fromString(e).popFirst(5))}static empty(){return new ue(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new ze(e.slice()))}}function SD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(i===1e9?new ct(n+1,0):new ct(n,i));return new wr(r,ue.empty(),e)}function CD(t){return new wr(t.readTime,t.key,-1)}class wr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new wr(ve.min(),ue.empty(),-1)}static max(){return new wr(ve.max(),ue.empty(),-1)}}function ID(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==bD)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,i)=>{n(e)})}static reject(e){return new X((n,i)=>{i(e)})}static waitFor(e){return new X((n,i)=>{let r=0,s=0,a=!1;e.forEach(u=>{++r,u.next(()=>{++s,a&&s===r&&n()},c=>i(c))}),a=!0,s===r&&n()})}static or(e){let n=X.resolve(!1);for(const i of e)n=n.next(r=>r?X.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new X((i,r)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(p=>{a[d]=p,++u,u===s&&i(a)},p=>r(p))}})}static doWhile(e,n){return new X((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function Xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Hv.ct=-1;function dd(t){return t==null}function mh(t){return t===0&&1/t==-1/0}function PD(t){return typeof t=="number"&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Et.RED,this.left=r??Et.EMPTY,this.right=s??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Et(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Et.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Et(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new un([])}unionWith(e){let n=new Mt(At.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new hC("Invalid base64 string: "+r):r}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const LD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=LD.exec(t);if(Fe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cs(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qv(t){const e=t.mapValue.fields.__previous_value__;return Wv(e)?qv(e):e}function Sl(t){const e=Er(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,i,r,s,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}}class Cl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wv(t)?4:AD(t)?9007199254740991:10:pe()}function ui(t,e){if(t===e)return!0;const n=hs(t);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sl(t).isEqual(Sl(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Er(i.timestampValue),a=Er(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return cs(i.bytesValue).isEqual(cs(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return st(i.geoPointValue.latitude)===st(r.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return st(i.integerValue)===st(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=st(i.doubleValue),a=st(r.doubleValue);return s===a?mh(s)===mh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Co(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(qw(s)!==qw(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ui(s[u],a[u])))return!1;return!0}(t,e);default:return pe()}}function Il(t,e){return(t.values||[]).find(n=>ui(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=hs(t),i=hs(e);if(n!==i)return Ne(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(r,s){const a=st(r.integerValue||r.doubleValue),u=st(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Zw(t.timestampValue,e.timestampValue);case 4:return Zw(Sl(t),Sl(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(r,s){const a=cs(r),u=cs(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,s){const a=r.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Ne(a[c],u[c]);if(d!==0)return d}return Ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,s){const a=Ne(st(r.latitude),st(s.latitude));return a!==0?a:Ne(st(r.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,s){const a=r.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=Io(a[c],u[c]);if(d)return d}return Ne(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Ku.mapValue&&s===Ku.mapValue)return 0;if(r===Ku.mapValue)return 1;if(s===Ku.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=Ne(u[p],d[p]);if(m!==0)return m;const _=Io(a[u[p]],c[d[p]]);if(_!==0)return _}return Ne(u.length,d.length)}(t.mapValue,e.mapValue);default:throw pe()}}function Zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Er(t),i=Er(e),r=Ne(n.seconds,i.seconds);return r!==0?r:Ne(n.nanos,i.nanos)}function bo(t){return zm(t)}function zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=Er(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?cs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=zm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${zm(i.fields[u])}`;return s+"}"}(t.mapValue):pe();var e,n}function Kw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function Gv(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ec(t){return!!t&&"mapValue"in t}function Fa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Fa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(n)}setAll(e){let n=At.emptyPath(),i={},r=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=u.popLast()}a?i[u.lastSegment()]=Fa(a):r.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Ec(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){xs(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Jt(Fa(this.value))}}function dC(t){const e=[];return xs(t.fields,(n,i)=>{const r=new At([n]);if(Ec(i)){const s=dC(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,i,r,s,a,u){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Nt(e,0,ve.min(),ve.min(),ve.min(),Jt.empty(),0)}static newFoundDocument(e,n,i,r){return new Nt(e,1,n,ve.min(),i,r,0)}static newNoDocument(e,n){return new Nt(e,2,n,ve.min(),ve.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ve.min(),ve.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function Xw(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=ue.comparator(ue.fromName(a.referenceValue),n.key):i=Io(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Jw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n="asc"){this.field=e,this.dir=n}}function OD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{}class at extends fC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new MD(e,n,i):n==="array-contains"?new zD(e,i):n==="in"?new BD(e,i):n==="not-in"?new FD(e,i):n==="array-contains-any"?new UD(e,i):new at(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new DD(e,i):new $D(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Io(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Un extends fC{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Un(e,n)}matches(e){return pC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function pC(t){return t.op==="and"}function mC(t){return RD(t)&&pC(t)}function RD(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function Fm(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(mC(t))return t.filters.map(e=>Fm(e)).join(",");{const e=t.filters.map(n=>Fm(n)).join(",");return`${t.op}(${e})`}}function gC(t,e){return t instanceof at?function(n,i){return i instanceof at&&n.op===i.op&&n.field.isEqual(i.field)&&ui(n.value,i.value)}(t,e):t instanceof Un?function(n,i){return i instanceof Un&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,s,a)=>r&&gC(s,i.filters[a]),!0):!1}(t,e):void pe()}function vC(t){return t instanceof at?function(e){return`${e.field.canonicalString()} ${e.op} ${bo(e.value)}`}(t):t instanceof Un?function(e){return e.op.toString()+" {"+e.getFilters().map(vC).join(" ,")+"}"}(t):"Filter"}class MD extends at{constructor(e,n,i){super(e,n,i),this.key=ue.fromName(i.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class DD extends at{constructor(e,n){super(e,"in",n),this.keys=yC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $D extends at{constructor(e,n){super(e,"not-in",n),this.keys=yC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ue.fromName(i.referenceValue))}class zD extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gv(n)&&Il(n.arrayValue,this.value)}}class BD extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}}class FD extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Il(this.value.arrayValue,n)}}class UD extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Il(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n=null,i=[],r=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=u,this.dt=null}}function e1(t,e=null,n=[],i=[],r=null,s=null,a=null){return new jD(t,e,n,i,r,s,a)}function Zv(t){const e=_e(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Fm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>bo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>bo(i)).join(",")),e.dt=n}return e.dt}function Kv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jw(t.startAt,e.startAt)&&Jw(t.endAt,e.endAt)}function Um(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n=null,i=[],r=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}}function VD(t,e,n,i,r,s,a,u){return new jo(t,e,n,i,r,s,a,u)}function Yv(t){return new jo(t)}function t1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fd(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function _C(t){return t.collectionGroup!==null}function ho(t){const e=_e(t);if(e.wt===null){e.wt=[];const n=fd(e),i=Qv(e);if(n!==null&&i===null)n.isKeyField()||e.wt.push(new co(n)),e.wt.push(new co(At.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new co(At.keyField(),s))}}}return e.wt}function Ri(t){const e=_e(t);if(!e._t)if(e.limitType==="F")e._t=e1(e.path,e.collectionGroup,ho(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ho(e)){const a=s.dir==="desc"?"asc":"desc";n.push(new co(s.field,a))}const i=e.endAt?new gh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new gh(e.startAt.position,e.startAt.inclusive):null;e._t=e1(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function jm(t,e){e.getFirstInequalityField(),fd(t);const n=t.filters.concat([e]);return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vm(t,e,n){return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pd(t,e){return Kv(Ri(t),Ri(e))&&t.limitType===e.limitType}function wC(t){return`${Zv(Ri(t))}|lt:${t.limitType}`}function Hm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>vC(i)).join(", ")}]`),dd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>bo(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>bo(i)).join(",")),`Target(${n})`}(Ri(t))}; limitType=${t.limitType})`}function md(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):ue.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of ho(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(r,s,a){const u=Xw(r,s,a);return r.inclusive?u<=0:u<0}(n.startAt,ho(n),i)||n.endAt&&!function(r,s,a){const u=Xw(r,s,a);return r.inclusive?u>=0:u>0}(n.endAt,ho(n),i))}(t,e)}function HD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EC(t){return(e,n)=>{let i=!1;for(const r of ho(t)){const s=WD(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function WD(t,e,n){const i=t.field.isKeyField()?ue.comparator(e.key,n.key):function(r,s,a){const u=s.data.field(r),c=a.data.field(r);return u!==null&&c!==null?Io(u,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return cC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Ge(ue.comparator);function Mi(){return qD}const xC=new Ge(ue.comparator);function Ca(...t){let e=xC;for(const n of t)e=e.insert(n.key,n);return e}function TC(t){let e=xC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Zr(){return Ua()}function SC(){return Ua()}function Ua(){return new Vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const GD=new Ge(ue.comparator),ZD=new Mt(ue.comparator);function Se(...t){let e=ZD;for(const n of t)e=e.add(n);return e}const KD=new Mt(Ne);function YD(){return KD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function IC(t){return{integerValue:""+t}}function QD(t,e){return PD(e)?IC(e):CC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this._=void 0}}function XD(t,e,n){return t instanceof bl?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Wv(r)&&(r=qv(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,e):t instanceof kl?kC(t,e):t instanceof Pl?PC(t,e):function(i,r){const s=bC(i,r),a=n1(s)+n1(i.gt);return Bm(s)&&Bm(i.gt)?IC(a):CC(i.serializer,a)}(t,e)}function JD(t,e,n){return t instanceof kl?kC(t,e):t instanceof Pl?PC(t,e):n}function bC(t,e){return t instanceof vh?Bm(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class bl extends gd{}class kl extends gd{constructor(e){super(),this.elements=e}}function kC(t,e){const n=LC(e);for(const i of t.elements)n.some(r=>ui(r,i))||n.push(i);return{arrayValue:{values:n}}}class Pl extends gd{constructor(e){super(),this.elements=e}}function PC(t,e){let n=LC(e);for(const i of t.elements)n=n.filter(r=>!ui(r,i));return{arrayValue:{values:n}}}class vh extends gd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function n1(t){return st(t.integerValue||t.doubleValue)}function LC(t){return Gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.field=e,this.transform=n}}function t4(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof kl&&i instanceof kl||n instanceof Pl&&i instanceof Pl?Co(n.elements,i.elements,ui):n instanceof vh&&i instanceof vh?ui(n.gt,i.gt):n instanceof bl&&i instanceof bl}(t.transform,e.transform)}class n4{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vd{}function NC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xv(t.key,bn.none()):new Jl(t.key,t.data,bn.none());{const n=t.data,i=Jt.empty();let r=new Mt(At.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Nr(t.key,i,new un(r.toArray()),bn.none())}}function i4(t,e,n){t instanceof Jl?function(i,r,s){const a=i.value.clone(),u=r1(i.fieldTransforms,r,s.transformResults);a.setAll(u),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Nr?function(i,r,s){if(!xc(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=r1(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(AC(i)),u.setAll(a),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ja(t,e,n,i){return t instanceof Jl?function(r,s,a,u){if(!xc(r.precondition,s))return a;const c=r.value.clone(),d=s1(r.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Nr?function(r,s,a,u){if(!xc(r.precondition,s))return a;const c=s1(r.fieldTransforms,u,s),d=s.data;return d.setAll(AC(r)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(r,s,a){return xc(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function r4(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=bC(i.transform,r||null);s!=null&&(n===null&&(n=Jt.empty()),n.set(i.field,s))}return n||null}function i1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Co(n,i,(r,s)=>t4(r,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends vd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nr extends vd{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function r1(t,e,n){const i=new Map;Fe(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,u=e.data.field(s.field);i.set(s.field,JD(a,u,n[r]))}return i}function s1(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,XD(s,a,e))}return i}class Xv extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s4 extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&i4(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ja(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ja(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=SC();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(r.key)?null:u;const c=NC(a,u);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(n,i)=>i1(n,i))&&Co(this.baseMutations,e.baseMutations,(n,i)=>i1(n,i))}}class Jv{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Fe(e.mutations.length===i.length);let r=GD;const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Jv(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,be;function u4(t){switch(t){default:return pe();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function OC(t){if(t===void 0)return Oi("GRPC error has no .code"),q.UNKNOWN;switch(t){case rt.OK:return q.OK;case rt.CANCELLED:return q.CANCELLED;case rt.UNKNOWN:return q.UNKNOWN;case rt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case rt.INTERNAL:return q.INTERNAL;case rt.UNAVAILABLE:return q.UNAVAILABLE;case rt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case rt.NOT_FOUND:return q.NOT_FOUND;case rt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case rt.ABORTED:return q.ABORTED;case rt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case rt.DATA_LOSS:return q.DATA_LOSS;default:return pe()}}(be=rt||(rt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yu}static getOrCreateInstance(){return Yu===null&&(Yu=new ey),Yu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Yu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new uo([4294967295,4294967295],0);function o1(t){const e=c4().encode(t),n=new pD;return n.update(e),new Uint8Array(n.digest())}function a1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uo([n,i],0),new uo([r,s],0)]}class ty{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ia(`Invalid padding: ${n}`);if(i<0)throw new Ia(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ia(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ia(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=uo.fromNumber(this.It)}Et(e,n,i){let r=e.add(n.multiply(uo.fromNumber(i)));return r.compare(h4)===1&&(r=new uo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=o1(e),[i,r]=a1(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new ty(s,r,n);return i.forEach(u=>a.insert(u)),a}insert(e){if(this.It===0)return;const n=o1(e),[i,r]=a1(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new yd(ve.min(),r,new Ge(Ne),Mi(),Se())}}class eu{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new eu(i,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,i,r){this.Pt=e,this.removedTargetIds=n,this.key=i,this.bt=r}}class RC{constructor(e,n){this.targetId=e,this.Vt=n}}class MC{constructor(e,n,i=zt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class l1{constructor(){this.St=0,this.Dt=c1(),this.Ct=zt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Se(),n=Se(),i=Se();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:pe()}}),new eu(this.Ct,this.xt,e,n,i)}Ft(){this.Nt=!1,this.Dt=c1()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class d4{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Mi(),this.zt=u1(),this.Wt=new Ge(Ne)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const i=this.Zt(n);switch(e.state){case 0:this.te(n)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(n);break;case 3:this.te(n)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),i.$t(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((i,r)=>{this.te(r)&&n(r)})}ne(e){var n;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const a=s.target;if(Um(a))if(r===0){const u=new ue(a.path);this.Yt(i,u,Nt.newNoDocument(u,ve.min()))}else Fe(r===1);else{const u=this.ie(i);if(u!==r){const c=this.re(e,u);if(c!==0){this.ee(i);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(i,d)}(n=ey.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,p,m){var _,w,T,S,I,v;const y={localCacheCount:p,existenceFilterCount:m.count},x=m.unchangedNames;return x&&(y.bloomFilter={applied:d===0,hashCount:(_=x==null?void 0:x.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(S=(T=(w=x==null?void 0:x.bits)===null||w===void 0?void 0:w.bitmap)===null||T===void 0?void 0:T.length)!==null&&S!==void 0?S:0,padding:(v=(I=x==null?void 0:x.bits)===null||I===void 0?void 0:I.padding)!==null&&v!==void 0?v:0}),y}(c,u,e.Vt))}}}}re(e,n){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=i;let c,d;try{c=cs(s).toUint8Array()}catch(p){if(p instanceof hC)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw p}try{d=new ty(c,a,u)}catch(p){return So(p instanceof Ia?"BloomFilter error: ":"Applying bloom filter failed: ",p),1}return d.It===0?1:r!==n-this.oe(e.targetId,d)?2:0}oe(e,n){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;n.vt(u)||(this.Yt(e,s,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((s,a)=>{const u=this.se(a);if(u){if(s.current&&Um(u.target)){const c=new ue(u.target.path);this.jt.get(c)!==null||this.ae(a,c)||this.Yt(a,c,Nt.newNoDocument(c,e))}s.Mt&&(n.set(a,s.Ot()),s.Ft())}});let i=Se();this.zt.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const d=this.se(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const r=new yd(e,n,this.Wt,this.jt,i);return this.jt=Mi(),this.zt=u1(),this.Wt=new Ge(Ne),r}Jt(e,n){if(!this.te(e))return;const i=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,i),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),i&&(this.jt=this.jt.insert(n,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new l1,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Mt(Ne),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new l1),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function u1(){return new Ge(ue.comparator)}function c1(){return new Ge(ue.comparator)}const f4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),p4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),m4=(()=>({and:"AND",or:"OR"}))();class g4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(t,e){return t.useProto3Json||dd(e)?e:{value:e}}function yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v4(t,e){return yh(t,e.toTimestamp())}function ai(t){return Fe(!!t),ve.fromTimestamp(function(e){const n=Er(e);return new ct(n.seconds,n.nanos)}(t))}function ny(t,e){return function(n){return new ze(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function $C(t){const e=ze.fromString(t);return Fe(UC(e)),e}function qm(t,e){return ny(t.databaseId,e.path)}function op(t,e){const n=$C(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(zC(n))}function Gm(t,e){return ny(t.databaseId,e)}function y4(t){const e=$C(t);return e.length===4?ze.emptyPath():zC(e)}function Zm(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zC(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function h1(t,e,n){return{name:qm(t,e),fields:n.value.mapValue.fields}}function _4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Fe(d===void 0||typeof d=="string"),zt.fromBase64String(d||"")):(Fe(d===void 0||d instanceof Uint8Array),zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(c){const d=c.code===void 0?q.UNKNOWN:OC(c.code);return new ne(d,c.message||"")}(a);n=new MC(i,r,s,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=op(t,i.document.name),s=ai(i.document.updateTime),a=i.document.createTime?ai(i.document.createTime):ve.min(),u=new Jt({mapValue:{fields:i.document.fields}}),c=Nt.newFoundDocument(r,s,a,u),d=i.targetIds||[],p=i.removedTargetIds||[];n=new Tc(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=op(t,i.document),s=i.readTime?ai(i.readTime):ve.min(),a=Nt.newNoDocument(r,s),u=i.removedTargetIds||[];n=new Tc([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=op(t,i.document),s=i.removedTargetIds||[];n=new Tc([],s,r,null)}else{if(!("filter"in e))return pe();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new l4(r,s),u=i.targetId;n=new RC(u,a)}}return n}function w4(t,e){let n;if(e instanceof Jl)n={update:h1(t,e.key,e.value)};else if(e instanceof Xv)n={delete:qm(t,e.key)};else if(e instanceof Nr)n={update:h1(t,e.key,e.data),updateMask:P4(e.fieldMask)};else{if(!(e instanceof s4))return pe();n={verify:qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof bl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof kl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vh)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw pe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:v4(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:pe()}(t,e.precondition)),n}function E4(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,r){let s=i.updateTime?ai(i.updateTime):ai(r);return s.isEqual(ve.min())&&(s=ai(r)),new n4(s,i.transformResults||[])}(n,e))):[]}function x4(t,e){return{documents:[Gm(t,e.path)]}}function T4(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Gm(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gm(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(c.length!==0)return FC(Un.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:zs(p.field),direction:I4(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Wm(t,e.limit);var u;return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function S4(t){let e=y4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Fe(i===1);const p=n.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(p){const m=BC(p);return m instanceof Un&&mC(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(p=>function(m){return new co(Bs(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(p)));let u=null;n.limit&&(u=function(p){let m;return m=typeof p=="object"?p.value:p,dd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,_=p.values||[];return new gh(_,m)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const m=!p.before,_=p.values||[];return new gh(_,m)}(n.endAt)),VD(e,r,a,s,u,"F",c,d)}function C4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BC(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Bs(e.unaryFilter.field);return at.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Bs(e.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bs(e.unaryFilter.field);return at.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bs(e.unaryFilter.field);return at.create(s,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(e){return at.create(Bs(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Un.create(e.compositeFilter.filters.map(n=>BC(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return pe()}}(e.compositeFilter.op))}(t):pe()}function I4(t){return f4[t]}function b4(t){return p4[t]}function k4(t){return m4[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Bs(t){return At.fromServerFormat(t.fieldPath)}function FC(t){return t instanceof at?function(e){if(e.op==="=="){if(Qw(e.value))return{unaryFilter:{field:zs(e.field),op:"IS_NAN"}};if(Yw(e.value))return{unaryFilter:{field:zs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Qw(e.value))return{unaryFilter:{field:zs(e.field),op:"IS_NOT_NAN"}};if(Yw(e.value))return{unaryFilter:{field:zs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(e.field),op:b4(e.op),value:e.value}}}(t):t instanceof Un?function(e){const n=e.getFilters().map(i=>FC(i));return n.length===1?n[0]:{compositeFilter:{op:k4(e.op),filters:n}}}(t):pe()}function P4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,i,r,s=ve.min(),a=ve.min(),u=zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.fe=e}}function N4(t){const e=S4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.rn=new O4}addToCollectionParentIndex(e,n){return this.rn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(wr.min())}updateCollectionGroup(e,n,i){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class O4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Mt(ze.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Mt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ko(0)}static Mn(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.changes=new Vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?X.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&ja(i.mutation,r,un.empty(),ct.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Se()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Se()){const r=Zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=Ca();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Se()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,i,r){let s=Mi();const a=Ua(),u=Ua();return n.forEach((c,d)=>{const p=i.get(d.key);r.has(d.key)&&(p===void 0||p.mutation instanceof Nr)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),ja(p.mutation,d,p.mutation.getFieldMask(),ct.now())):a.set(d.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var m;return u.set(d,new M4(p,(m=a.get(d))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,n){const i=Ua();let r=new Ge((a,u)=>a-u),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let p=i.get(c)||un.empty();p=u.applyToLocalView(d,p),i.set(c,p);const m=(r.get(u.batchId)||Se()).add(c);r=r.insert(u.batchId,m)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,p=c.value,m=SC();p.forEach(_=>{if(!s.has(_)){const w=NC(n.get(_),i.get(_));w!==null&&m.set(_,w),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return X.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_C(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):X.resolve(Zr());let u=-1,c=s;return a.next(d=>X.forEach(d,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),s.get(p)?X.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{c=c.insert(p,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Se())).next(p=>({batchId:u,changes:TC(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(i=>{let r=Ca();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let s=Ca();return this.indexManager.getCollectionParents(e,r).next(a=>X.forEach(a,u=>{const c=function(d,p){return new jo(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,i).next(d=>{d.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r))).next(s=>{r.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,Nt.newInvalidDocument(d)))});let a=Ca();return s.forEach((u,c)=>{const d=r.get(u);d!==void 0&&ja(d.mutation,c,un.empty(),ct.now()),md(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return X.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var i;return this.cs.set(n.id,{id:(i=n).id,version:i.version,createTime:ai(i.createTime)}),X.resolve()}getNamedQuery(e,n){return X.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(i){return{name:i.name,query:N4(i.bundledQuery),readTime:ai(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.overlays=new Ge(ue.comparator),this.ls=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Zr();return X.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.we(e,n,s)}),X.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.ls.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),X.resolve()}getOverlaysForCollection(e,n,i){const r=Zr(),s=n.length+1,a=new ue(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return X.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ge((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let p=s.get(d.largestBatchId);p===null&&(p=Zr(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=Zr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,p)=>u.set(d,p)),!(u.size()>=r)););return X.resolve(u)}we(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new a4(n,i));let s=this.ls.get(n);s===void 0&&(s=Se(),this.ls.set(n,s)),this.ls.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.fs=new Mt(dt.ds),this.ws=new Mt(dt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const i=new dt(e,n);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.ys(new dt(e,n))}ps(e,n){e.forEach(i=>this.removeReference(i,n))}Is(e){const n=new ue(new ze([])),i=new dt(n,e),r=new dt(n,e+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ue(new ze([])),i=new dt(n,e),r=new dt(n,e+1);let s=Se();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new dt(e,0),i=this.fs.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class dt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ue.comparator(e.key,n.key)||Ne(e.As,n.As)}static _s(e,n){return Ne(e.As,n.As)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Mt(dt.ds)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new o4(s,n,i,r);this.mutationQueue.push(a);for(const u of r)this.Rs=this.Rs.add(new dt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return X.resolve(a)}lookupMutationBatch(e,n){return X.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.bs(i),s=r<0?0:r;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new dt(n,0),r=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const u=this.Ps(a.As);s.push(u)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Mt(Ne);return n.forEach(r=>{const s=new dt(r,0),a=new dt(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],u=>{i=i.add(u.As)})}),X.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ue.isDocumentKey(s)||(s=s.child(""));const a=new dt(new ue(s),0);let u=new Mt(Ne);return this.Rs.forEachWhile(c=>{const d=c.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(c.As)),!0)},a),X.resolve(this.Vs(u))}Vs(e){const n=[];return e.forEach(i=>{const r=this.Ps(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Fe(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Rs;return X.forEach(n.mutations,r=>{const s=new dt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,n){const i=new dt(n,0),r=this.Rs.firstAfterOrEqual(i);return X.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.Ds=e,this.docs=new Ge(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return X.resolve(i?i.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let i=Mi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Nt.newInvalidDocument(r))}),X.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Mi();const a=n.path,u=new ue(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||ID(CD(p),i)<=0||(r.has(p.key)||md(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,i,r){pe()}Cs(e,n){return X.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new U4(this)}getSize(e){return X.resolve(this.size)}}class U4 extends R4{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),X.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.persistence=e,this.xs=new Vo(n=>Zv(n),Kv),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Ns=0,this.ks=new iy,this.targetCount=0,this.Ms=ko.kn()}forEachTarget(e,n){return this.xs.forEach((i,r)=>n(r)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Ns&&(this.Ns=n),X.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Fn(n),X.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.xs.forEach((a,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),X.waitFor(s).next(()=>r)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const i=this.xs.get(n)||null;return X.resolve(i)}addMatchingKeys(e,n,i){return this.ks.gs(n,i),X.resolve()}removeMatchingKeys(e,n,i){this.ks.ps(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),X.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ks.Es(n);return X.resolve(i)}containsKey(e,n){return X.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.$s={},this.overlays={},this.Os=new Hv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new j4(this),this.indexManager=new A4,this.remoteDocumentCache=function(i){return new F4(i)}(i=>this.referenceDelegate.Ls(i)),this.serializer=new L4(n),this.qs=new $4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.$s[e.toKey()];return i||(i=new B4(n,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,i){se("MemoryPersistence","Starting transaction:",e);const r=new H4(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,n){return X.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,n)))}}class H4 extends kD{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Qs=new iy,this.js=null}static zs(e){return new ry(e)}get Ws(){if(this.js)return this.js;throw pe()}addReference(e,n,i){return this.Qs.addReference(i,n),this.Ws.delete(i.toString()),X.resolve()}removeReference(e,n,i){return this.Qs.removeReference(i,n),this.Ws.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),X.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Ws,i=>{const r=ue.fromPath(i);return this.Hs(e,r).next(s=>{s||n.removeEntry(r,ve.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(i=>{i?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return X.or([()=>X.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Fi=i,this.Bi=r}static Li(e,n){let i=Se(),r=Se();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new sy(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.Ki(e,n).next(s=>s||this.Gi(e,n,r,i)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(t1(n))return X.resolve(null);let i=Ri(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Vm(n,null,"F"),i=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=Se(...s);return this.Ui.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,i).next(c=>{const d=this.ji(n,u);return this.zi(n,d,a,c.readTime)?this.Ki(e,Vm(n,null,"F")):this.Wi(e,d,n,c)}))})))}Gi(e,n,i,r){return t1(n)||r.isEqual(ve.min())?this.Qi(e,n):this.Ui.getDocuments(e,i).next(s=>{const a=this.ji(n,s);return this.zi(n,a,i,r)?this.Qi(e,n):(Ww()<=Le.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hm(n)),this.Wi(e,a,n,SD(r,-1)))})}ji(e,n){let i=new Mt(EC(e));return n.forEach((r,s)=>{md(e,s)&&(i=i.add(s))}),i}zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,n){return Ww()<=Le.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Hm(n)),this.Ui.getDocumentsMatchingQuery(e,n,wr.min())}Wi(e,n,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,i,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new Ge(Ne),this.Yi=new Vo(s=>Zv(s),Kv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D4(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function G4(t,e,n,i){return new q4(t,e,n,i)}async function jC(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.tr(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],u=[];let c=Se();for(const d of r){a.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of s){u.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(i,c).next(d=>({er:d,removedBatchIds:a,addedBatchIds:u}))})})}function Z4(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,m=p.keys();let _=X.resolve();return m.forEach(w=>{_=_.next(()=>d.getEntry(u,w)).next(T=>{const S=c.docVersions.get(w);Fe(S!==null),T.version.compareTo(S)<0&&(p.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=Se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function VC(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function K4(t,e){const n=_e(t),i=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const u=[];e.targetChanges.forEach((p,m)=>{const _=r.get(m);if(!_)return;u.push(n.Bs.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Bs.addMatchingKeys(s,p.addedDocuments,m)));let w=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(zt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),r=r.insert(m,w),function(T,S,I){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(_,w,p)&&u.push(n.Bs.updateTargetData(s,w))});let c=Mi(),d=Se();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(Y4(s,a,e.documentUpdates).next(p=>{c=p.nr,d=p.sr})),!i.isEqual(ve.min())){const p=n.Bs.getLastRemoteSnapshotVersion(s).next(m=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(p)}return X.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.Ji=r,s))}function Y4(t,e,n){let i=Se(),r=Se();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=Mi();return n.forEach((u,c)=>{const d=s.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):se("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{nr:a,sr:r}})}function Q4(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function X4(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Bs.getTargetData(i,e).next(s=>s?(r=s,X.resolve(r)):n.Bs.allocateTargetId(i).next(a=>(r=new Ji(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ji.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}async function Km(t,e,n){const i=_e(t),r=i.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Xl(a))throw a;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}function d1(t,e,n){const i=_e(t);let r=ve.min(),s=Se();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,c,d){const p=_e(u),m=p.Yi.get(d);return m!==void 0?X.resolve(p.Ji.get(m)):p.Bs.getTargetData(c,d)}(i,a,Ri(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,e,n?r:ve.min(),n?s:Se())).next(u=>(J4(i,HD(e),u),{documents:u,ir:s})))}function J4(t,e,n){let i=t.Xi.get(e)||ve.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Xi.set(e,i)}class f1{constructor(){this.activeTargetIds=YD()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e3{constructor(){this.Hr=new f1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,i){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new f1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function ap(){return Qu===null?Qu=268435456+Math.round(2147483648*Math.random()):Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class r3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,i,r,s){const a=ap(),u=this.To(e,n);se("RestConnection",`Sending RPC '${e}' ${a}:`,u,i);const c={};return this.Eo(c,r,s),this.Ao(e,u,c,i).then(d=>(se("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw So("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}vo(e,n,i,r,s,a){return this.Io(e,n,i,r,s)}Eo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Uo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,n){const i=n3[e];return`${this.mo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,i,r){const s=ap();return new Promise((a,u)=>{const c=new fD;c.setWithCredentials(!0),c.listenOnce(cD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case sp.NO_ERROR:const p=c.getResponseJson();se(kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case sp.TIMEOUT:se(kt,`RPC '${e}' ${s} timed out`),u(new ne(q.DEADLINE_EXCEEDED,"Request time out"));break;case sp.HTTP_ERROR:const m=c.getStatus();if(se(kt,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const T=function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(I)>=0?I:q.UNKNOWN}(w.status);u(new ne(T,w.message))}else u(new ne(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ne(q.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{se(kt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(r);se(kt,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",d,i,15)})}Ro(e,n,i){const r=ap(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=lD(),u=uD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.xmlHttpFactory=new dD({})),this.Eo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;const p=s.join("");se(kt,`Creating RPC '${e}' stream ${r}: ${p}`,c);const m=a.createWebChannel(p,c);let _=!1,w=!1;const T=new i3({ro:I=>{w?se(kt,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(_||(se(kt,`Opening RPC '${e}' stream ${r} transport.`),m.open(),_=!0),se(kt,`RPC '${e}' stream ${r} sending:`,I),m.send(I))},oo:()=>m.close()}),S=(I,v,y)=>{I.listen(v,x=>{try{y(x)}catch(C){setTimeout(()=>{throw C},0)}})};return S(m,Gu.EventType.OPEN,()=>{w||se(kt,`RPC '${e}' stream ${r} transport opened.`)}),S(m,Gu.EventType.CLOSE,()=>{w||(w=!0,se(kt,`RPC '${e}' stream ${r} transport closed`),T.wo())}),S(m,Gu.EventType.ERROR,I=>{w||(w=!0,So(kt,`RPC '${e}' stream ${r} transport errored:`,I),T.wo(new ne(q.UNAVAILABLE,"The operation could not be completed")))}),S(m,Gu.EventType.MESSAGE,I=>{var v;if(!w){const y=I.data[0];Fe(!!y);const x=y,C=x.error||((v=x[0])===null||v===void 0?void 0:v.error);if(C){se(kt,`RPC '${e}' stream ${r} received error:`,C);const P=C.status;let N=function(A){const z=rt[A];if(z!==void 0)return OC(z)}(P),F=C.message;N===void 0&&(N=q.INTERNAL,F="Unknown error status: "+P+" with message "+C.message),w=!0,T.wo(new ne(N,F)),m.close()}else se(kt,`RPC '${e}' stream ${r} received:`,y),T._o(y)}}),S(u,hD.STAT_EVENT,I=>{I.stat===Vw.PROXY?se(kt,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===Vw.NOPROXY&&se(kt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.fo()},0),T}}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new g4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-i);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,i,r,s,a,u,c){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new HC(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Oi(n.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===n&&this.Zo(i,r)},i=>{e(()=>{const r=new ne(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,n){const i=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s3 extends WC{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=_4(this.serializer,e),i=function(r){if(!("targetChange"in r))return ve.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?ai(s.readTime):ve.min()}(e);return this.listener.nu(n,i)}su(e){const n={};n.database=Zm(this.serializer),n.addTarget=function(r,s){let a;const u=s.target;if(a=Um(u)?{documents:x4(r,u)}:{query:T4(r,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=DC(r,s.resumeToken);const c=Wm(r,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=yh(r,s.snapshotVersion.toTimestamp());const c=Wm(r,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=C4(this.serializer,e);i&&(n.labels=i),this.Wo(n)}iu(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.Wo(n)}}class o3 extends WC{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=E4(e.writeResults,e.commitTime),i=ai(e.commitTime);return this.listener.cu(i,n)}return Fe(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Zm(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>w4(this.serializer,i))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ne(q.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ne(q.UNKNOWN,r.toString())})}vo(e,n,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,n,i,s,a,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(q.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class l3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Oi(n),this.mu=!1):se("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{i.enqueueAndForget(async()=>{Ts(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=_e(u);c.vu.add(4),await tu(c),c.bu.set("Unknown"),c.vu.delete(4),await wd(c)}(this))})}),this.bu=new l3(i,r)}}async function wd(t){if(Ts(t))for(const e of t.Ru)await e(!0)}async function tu(t){for(const e of t.Ru)await e(!1)}function qC(t,e){const n=_e(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ly(n)?ay(n):Ho(n).Ko()&&oy(n,e))}function GC(t,e){const n=_e(t),i=Ho(n);n.Au.delete(e),i.Ko()&&ZC(n,e),n.Au.size===0&&(i.Ko()?i.jo():Ts(n)&&n.bu.set("Unknown"))}function oy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).su(e)}function ZC(t,e){t.Vu.qt(e),Ho(t).iu(e)}function ay(t){t.Vu=new d4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.bu.gu()}function ly(t){return Ts(t)&&!Ho(t).Uo()&&t.Au.size>0}function Ts(t){return _e(t).vu.size===0}function KC(t){t.Vu=void 0}async function c3(t){t.Au.forEach((e,n)=>{oy(t,e)})}async function h3(t,e){KC(t),ly(t)?(t.bu.Iu(e),ay(t)):t.bu.set("Unknown")}async function d3(t,e,n){if(t.bu.set("Online"),e instanceof MC&&e.state===2&&e.cause)try{await async function(i,r){const s=r.cause;for(const a of r.targetIds)i.Au.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}(t,e)}catch(i){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _h(t,i)}else if(e instanceof Tc?t.Vu.Ht(e):e instanceof RC?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ve.min()))try{const i=await VC(t.localStore);n.compareTo(i)>=0&&await function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Au.get(c);d&&r.Au.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=r.Au.get(u);if(!d)return;r.Au.set(u,d.withResumeToken(zt.EMPTY_BYTE_STRING,d.snapshotVersion)),ZC(r,u);const p=new Ji(d.target,u,c,d.sequenceNumber);oy(r,p)}),r.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){se("RemoteStore","Failed to raise snapshot:",i),await _h(t,i)}}async function _h(t,e,n){if(!Xl(e))throw e;t.vu.add(1),await tu(t),t.bu.set("Offline"),n||(n=()=>VC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await wd(t)})}function YC(t,e){return e().catch(n=>_h(t,n,e))}async function Ed(t){const e=_e(t),n=xr(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;f3(e);)try{const r=await Q4(e.localStore,i);if(r===null){e.Eu.length===0&&n.jo();break}i=r.batchId,p3(e,r)}catch(r){await _h(e,r)}QC(e)&&XC(e)}function f3(t){return Ts(t)&&t.Eu.length<10}function p3(t,e){t.Eu.push(e);const n=xr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function QC(t){return Ts(t)&&!xr(t).Uo()&&t.Eu.length>0}function XC(t){xr(t).start()}async function m3(t){xr(t).hu()}async function g3(t){const e=xr(t);for(const n of t.Eu)e.uu(n.mutations)}async function v3(t,e,n){const i=t.Eu.shift(),r=Jv.from(i,e,n);await YC(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Ed(t)}async function y3(t,e){e&&xr(t).ou&&await async function(n,i){if(r=i.code,u4(r)&&r!==q.ABORTED){const s=n.Eu.shift();xr(n).Qo(),await YC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ed(n)}var r}(t,e),QC(t)&&XC(t)}async function m1(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=Ts(n);n.vu.add(3),await tu(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await wd(n)}async function _3(t,e){const n=_e(t);e?(n.vu.delete(2),await wd(n)):e||(n.vu.add(2),await tu(n),n.bu.set("Unknown"))}function Ho(t){return t.Su||(t.Su=function(e,n,i){const r=_e(e);return r.fu(),new s3(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:c3.bind(null,t),ao:h3.bind(null,t),nu:d3.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),ly(t)?ay(t):t.bu.set("Unknown")):(await t.Su.stop(),KC(t))})),t.Su}function xr(t){return t.Du||(t.Du=function(e,n,i){const r=_e(e);return r.fu(),new o3(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:m3.bind(null,t),ao:y3.bind(null,t),au:g3.bind(null,t),cu:v3.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Ed(t)):(await t.Du.stop(),t.Eu.length>0&&(se("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,u=new uy(e,n,a,r,s);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),Xl(t))return new ne(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ue.comparator(n.key,i.key):(n,i)=>ue.comparator(n.key,i.key),this.keyedMap=Ca(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.Cu=new Ge(ue.comparator)}track(e){const n=e.doc.key,i=this.Cu.get(n);i?e.type!==0&&i.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&i.type!==1?this.Cu=this.Cu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Cu=this.Cu.remove(n):e.type===1&&i.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):pe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,i)=>{e.push(i)}),e}}class Po{constructor(e,n,i,r,s,a,u,c,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new Po(e,n,fo.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.Nu=void 0,this.listeners=[]}}class E3{constructor(){this.queries=new Vo(e=>wC(e),pd),this.onlineState="Unknown",this.ku=new Set}}async function JC(t,e){const n=_e(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new w3),r)try{s.Nu=await n.onListen(i)}catch(a){const u=cy(a,`Initialization of query '${Hm(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&hy(n)}async function eI(t,e){const n=_e(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function x3(t,e){const n=_e(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const u of a.listeners)u.$u(r)&&(i=!0);a.Nu=r}}i&&hy(n)}function T3(t,e,n){const i=_e(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function hy(t){t.ku.forEach(e=>{e.next()})}class tI{constructor(e,n,i){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Po(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Ku||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.key=e}}class iI{constructor(e){this.key=e}}class S3{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Se(),this.mutatedKeys=Se(),this.tc=EC(e),this.ec=new fo(this.tc)}get nc(){return this.Yu}sc(e,n){const i=n?n.ic:new g1,r=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,u=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,m)=>{const _=r.get(p),w=md(this.query,m)?m:null,T=!!_&&this.mutatedKeys.has(_.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;_&&w?_.data.isEqual(w.data)?T!==S&&(i.track({type:3,doc:w}),I=!0):this.rc(_,w)||(i.track({type:2,doc:w}),I=!0,(c&&this.tc(w,c)>0||d&&this.tc(w,d)<0)&&(u=!0)):!_&&w?(i.track({type:0,doc:w}),I=!0):_&&!w&&(i.track({type:1,doc:_}),I=!0,(c||d)&&(u=!0)),I&&(w?(a=a.add(w),s=S?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{ec:a,ic:i,zi:u,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((d,p)=>function(m,_){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return w(m)-w(_)}(d.type,p.type)||this.tc(d.doc,p.doc)),this.oc(i);const a=n?this.uc():[],u=this.Zu.size===0&&this.current?1:0,c=u!==this.Xu;return this.Xu=u,s.length!==0||c?{snapshot:new Po(this.query,e.ec,r,s,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new g1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Se(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const n=[];return e.forEach(i=>{this.Zu.has(i)||n.push(new iI(i))}),this.Zu.forEach(i=>{e.has(i)||n.push(new nI(i))}),n}hc(e){this.Yu=e.ir,this.Zu=Se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Po.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class C3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class I3{constructor(e){this.key=e,this.fc=!1}}class b3{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Vo(u=>wC(u),pd),this._c=new Map,this.mc=new Set,this.gc=new Ge(ue.comparator),this.yc=new Map,this.Ic=new iy,this.Tc={},this.Ec=new Map,this.Ac=ko.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function k3(t,e){const n=z3(t);let i,r;const s=n.wc.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=await X4(n.localStore,Ri(e)),u=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=await P3(n,e,i,u==="current",a.resumeToken),n.isPrimaryClient&&qC(n.remoteStore,a)}return r}async function P3(t,e,n,i,r){t.Rc=(m,_,w)=>async function(T,S,I,v){let y=S.view.sc(I);y.zi&&(y=await d1(T.localStore,S.query,!1).then(({documents:P})=>S.view.sc(P,y)));const x=v&&v.targetChanges.get(S.targetId),C=S.view.applyChanges(y,T.isPrimaryClient,x);return y1(T,S.targetId,C.cc),C.snapshot}(t,m,_,w);const s=await d1(t.localStore,e,!0),a=new S3(e,s.ir),u=a.sc(s.documents),c=eu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),d=a.applyChanges(u,t.isPrimaryClient,c);y1(t,n,d.cc);const p=new C3(e,n,a);return t.wc.set(e,p),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),d.snapshot}async function L3(t,e){const n=_e(t),i=n.wc.get(e),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter(s=>!pd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Km(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),GC(n.remoteStore,i.targetId),Ym(n,i.targetId)}).catch(Ql)):(Ym(n,i.targetId),await Km(n.localStore,i.targetId,!0))}async function N3(t,e,n){const i=B3(t);try{const r=await function(s,a){const u=_e(s),c=ct.now(),d=a.reduce((_,w)=>_.add(w.key),Se());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let w=Mi(),T=Se();return u.Zi.getEntries(_,d).next(S=>{w=S,w.forEach((I,v)=>{v.isValidDocument()||(T=T.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,w)).next(S=>{p=S;const I=[];for(const v of a){const y=r4(v,p.get(v.key).overlayedDocument);y!=null&&I.push(new Nr(v.key,y,dC(y.value.mapValue),bn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,I,a)}).next(S=>{m=S;const I=S.applyToLocalDocumentSet(p,T);return u.documentOverlayCache.saveOverlays(_,S.batchId,I)})}).then(()=>({batchId:m.batchId,changes:TC(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,u){let c=s.Tc[s.currentUser.toKey()];c||(c=new Ge(Ne)),c=c.insert(a,u),s.Tc[s.currentUser.toKey()]=c}(i,r.batchId,n),await nu(i,r.changes),await Ed(i.remoteStore)}catch(r){const s=cy(r,"Failed to persist write");n.reject(s)}}async function rI(t,e){const n=_e(t);try{const i=await K4(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.yc.get(s);a&&(Fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?Fe(a.fc):r.removedDocuments.size>0&&(Fe(a.fc),a.fc=!1))}),await nu(n,i,e)}catch(i){await Ql(i)}}function v1(t,e,n){const i=_e(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.wc.forEach((s,a)=>{const u=a.view.Mu(e);u.snapshot&&r.push(u.snapshot)}),function(s,a){const u=_e(s);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.listeners)m.Mu(a)&&(c=!0)}),c&&hy(u)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function A3(t,e,n){const i=_e(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.yc.get(e),s=r&&r.key;if(s){let a=new Ge(ue.comparator);a=a.insert(s,Nt.newNoDocument(s,ve.min()));const u=Se().add(s),c=new yd(ve.min(),new Map,new Ge(Ne),a,u);await rI(i,c),i.gc=i.gc.remove(s),i.yc.delete(e),dy(i)}else await Km(i.localStore,e,!1).then(()=>Ym(i,e,n)).catch(Ql)}async function O3(t,e){const n=_e(t),i=e.batch.batchId;try{const r=await Z4(n.localStore,e);oI(n,i,null),sI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await nu(n,r)}catch(r){await Ql(r)}}async function R3(t,e,n){const i=_e(t);try{const r=await function(s,a){const u=_e(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(Fe(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(i.localStore,e);oI(i,e,n),sI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await nu(i,r)}catch(r){await Ql(r)}}function sI(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function oI(t,e,n){const i=_e(t);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Ym(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(i=>{t.Ic.containsKey(i)||aI(t,i)})}function aI(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(GC(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),dy(t))}function y1(t,e,n){for(const i of n)i instanceof nI?(t.Ic.addReference(i.key,e),M3(t,i)):i instanceof iI?(se("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||aI(t,i.key)):pe()}function M3(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(se("SyncEngine","New document in limbo: "+n),t.mc.add(i),dy(t))}function dy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ue(ze.fromString(e)),i=t.Ac.next();t.yc.set(i,new I3(n)),t.gc=t.gc.insert(n,i),qC(t.remoteStore,new Ji(Ri(Yv(n.path)),i,"TargetPurposeLimboResolution",Hv.ct))}}async function nu(t,e,n){const i=_e(t),r=[],s=[],a=[];i.wc.isEmpty()||(i.wc.forEach((u,c)=>{a.push(i.Rc(c,e,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){r.push(d);const p=sy.Li(c.targetId,d);s.push(p)}}))}),await Promise.all(a),i.dc.nu(r),await async function(u,c){const d=_e(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>X.forEach(c,m=>X.forEach(m.Fi,_=>d.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>X.forEach(m.Bi,_=>d.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!Xl(p))throw p;se("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const _=d.Ji.get(m),w=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(w);d.Ji=d.Ji.insert(m,T)}}}(i.localStore,s))}async function D3(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=await jC(n.localStore,e);n.currentUser=e,function(r,s){r.Ec.forEach(a=>{a.forEach(u=>{u.reject(new ne(q.CANCELLED,s))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nu(n,i.er)}}function $3(t,e){const n=_e(t),i=n.yc.get(e);if(i&&i.fc)return Se().add(i.key);{let r=Se();const s=n._c.get(e);if(!s)return r;for(const a of s){const u=n.wc.get(a);r=r.unionWith(u.view.nc)}return r}}function z3(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A3.bind(null,e),e.dc.nu=x3.bind(null,e.eventManager),e.dc.Pc=T3.bind(null,e.eventManager),e}function B3(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R3.bind(null,e),e}class _1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return G4(this.persistence,new W4,e.initialUser,this.serializer)}createPersistence(e){return new V4(ry.zs,this.serializer)}createSharedClientState(e){return new e3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class F3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>v1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D3.bind(null,this.syncEngine),await _3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new E3}createDatastore(e){const n=_d(e.databaseInfo.databaseId),i=(r=e.databaseInfo,new r3(r));var r;return function(s,a,u,c){return new a3(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,s=u=>v1(this.syncEngine,u,0),a=p1.D()?new p1:new t3,new u3(n,i,r,s,a);var n,i,r,s,a}createSyncEngine(e,n){return function(i,r,s,a,u,c,d){const p=new b3(i,r,s,a,u,c);return d&&(p.vc=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=_e(e);se("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await tu(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Pt.UNAUTHENTICATED,this.clientId=uC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{se("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=cy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function up(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await jC(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function w1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await V3(t);se("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>m1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>m1(e.remoteStore,s)),t._onlineComponents=e}function j3(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function V3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!j3(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await up(t,new _1)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await up(t,new _1);return t._offlineComponents}async function uI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await w1(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await w1(t,new F3))),t._onlineComponents}function H3(t){return uI(t).then(e=>e.syncEngine)}async function cI(t){const e=await uI(t),n=e.eventManager;return n.onListen=k3.bind(null,e.syncEngine),n.onUnlisten=L3.bind(null,e.syncEngine),n}function W3(t,e,n={}){const i=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,a,u,c){const d=new lI({next:m=>{s.enqueueAndForget(()=>eI(r,p));const _=m.docs.has(a);!_&&m.fromCache?c.reject(new ne(q.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?c.reject(new ne(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new tI(Yv(a.path),d,{includeMetadataChanges:!0,Ku:!0});return JC(r,p)}(await cI(t),t.asyncQueue,e,n,i)),i.promise}function q3(t,e,n={}){const i=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,a,u,c){const d=new lI({next:m=>{s.enqueueAndForget(()=>eI(r,p)),m.fromCache&&u.source==="server"?c.reject(new ne(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new tI(a,d,{includeMetadataChanges:!0,Ku:!0});return JC(r,p)}(await cI(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e,n){if(!n)throw new ne(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G3(t,e,n,i){if(e===!0&&i===!0)throw new ne(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x1(t){if(!ue.isDocumentKey(t))throw new ne(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T1(t){if(ue.isDocumentKey(t))throw new ne(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xd(t);throw new ne(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,i=e.experimentalLongPollingOptions,n.timeoutSeconds===i.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,i}}class Td{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S1(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mD;switch(n.type){case"firstParty":return new _D(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ne(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=E1.get(e);n&&(se("ComponentProvider","Removing Datastore"),E1.delete(e),n.terminate())}(this),Promise.resolve()}}function Z3(t,e,n,i={}){var r;const s=(t=jn(t,Td))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let u,c;if(typeof i.mockUserToken=="string")u=i.mockUserToken,c=Pt.MOCK_USER;else{u=wT(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ne(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pt(d)}t._authCredentials=new gD(new lC(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class Ss{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class pr extends Ss{constructor(e,n,i){super(e,n,Yv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ue(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function fI(t,e,...n){if(t=Qe(t),dI("collection","path",e),t instanceof Td){const i=ze.fromString(e,...n);return T1(i),new pr(t,null,i)}{if(!(t instanceof qt||t instanceof pr))throw new ne(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ze.fromString(e,...n));return T1(i),new pr(t.firestore,null,i)}}function ds(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=uC.A()),dI("doc","path",e),t instanceof Td){const i=ze.fromString(e,...n);return x1(i),new qt(t,null,new ue(i))}{if(!(t instanceof qt||t instanceof pr))throw new ne(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ze.fromString(e,...n));return x1(i),new qt(t.firestore,t instanceof pr?t.converter:null,new ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new HC(this,"async_queue_retry"),this.Xc=()=>{const n=lp();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=lp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ci;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Xl(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{this.Wc=i,this.Hc=!1;const r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw Oi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Hc=!1,i))));return this.Gc=n,n}enqueueAfterDelay(e,n,i){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=uy.createAndSchedule(this,e,n,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&pe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Cs extends Td{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new K3,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pI(this),this._firestoreClient.terminate()}}function Y3(t,e){const n=typeof t=="object"?t:cv(),i=typeof t=="string"?t:e||"(default)",r=qh(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=vT("firestore");s&&Z3(r,...s)}return r}function fy(t){return t._firestoreClient||pI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pI(t){var e,n,i;const r=t._freezeSettings(),s=function(a,u,c,d){return new ND(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new U3(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.cache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(zt.fromBase64String(e))}catch(n){throw new ne(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lo(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=/^__.*__$/;class X3{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class mI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class my{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(gI(this.ca)&&Q3.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class J3{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||_d(e)}ya(e,n,i,r=!1){return new my({ca:e,methodName:n,ga:i,path:At.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new J3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vI(t,e,n,i,r,s={}){const a=t.ya(s.merge||s.mergeFields?2:0,e,n,r);vy("Data must be an object, but it was:",a,i);const u=yI(i,a);let c,d;if(s.merge)c=new un(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const _=Qm(e,m,n);if(!a.contains(_))throw new ne(q.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);wI(p,_)||p.push(_)}c=new un(p),d=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=a.fieldTransforms;return new X3(new Jt(u),c,d)}class bd extends Cd{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}class gy extends Cd{_toFieldTransform(e){return new e4(e.path,new bl)}isEqual(e){return e instanceof gy}}function e$(t,e,n,i){const r=t.ya(1,e,n);vy("Data must be an object, but it was:",r,i);const s=[],a=Jt.empty();xs(i,(c,d)=>{const p=yy(e,c,n);d=Qe(d);const m=r.da(p);if(d instanceof bd)s.push(p);else{const _=iu(d,m);_!=null&&(s.push(p),a.set(p,_))}});const u=new un(s);return new mI(a,u,r.fieldTransforms)}function t$(t,e,n,i,r,s){const a=t.ya(1,e,n),u=[Qm(e,i,n)],c=[r];if(s.length%2!=0)throw new ne(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(Qm(e,s[_])),c.push(s[_+1]);const d=[],p=Jt.empty();for(let _=u.length-1;_>=0;--_)if(!wI(d,u[_])){const w=u[_];let T=c[_];T=Qe(T);const S=a.da(w);if(T instanceof bd)d.push(w);else{const I=iu(T,S);I!=null&&(d.push(w),p.set(w,I))}}const m=new un(d);return new mI(p,m,a.fieldTransforms)}function n$(t,e,n,i=!1){return iu(n,t.ya(i?4:3,e))}function iu(t,e){if(_I(t=Qe(t)))return vy("Unsupported field value:",e,t),yI(t,e);if(t instanceof Cd)return function(n,i){if(!gI(i.ca))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const a of n){let u=iu(a,i.wa(s));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if((n=Qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return QD(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=ct.fromDate(n);return{timestampValue:yh(i.serializer,r)}}if(n instanceof ct){const r=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yh(i.serializer,r)}}if(n instanceof py)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Lo)return{bytesValue:DC(i.serializer,n._byteString)};if(n instanceof qt){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ny(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${xd(n)}`)}(t,e)}function yI(t,e){const n={};return cC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(t,(i,r)=>{const s=iu(r,e.ha(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function _I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof py||t instanceof Lo||t instanceof qt||t instanceof Cd)}function vy(t,e,n){if(!_I(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=xd(n);throw i==="an object"?e._a(t+" a custom object"):e._a(t+" "+i)}}function Qm(t,e,n){if((e=Qe(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return yy(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const i$=new RegExp("[~\\*/\\[\\]]");function yy(t,e,n){if(e.search(i$)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sd(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new ne(q.INVALID_ARGUMENT,u+t+c)}function wI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r$ extends EI{data(){return super.data()}}function kd(t,e){return typeof e=="string"?yy(t,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class xI extends _y{}function o$(t,e,...n){let i=[];e instanceof _y&&i.push(e),i=i.concat(n),function(r){const s=r.filter(u=>u instanceof wy).length,a=r.filter(u=>u instanceof Pd).length;if(s>1||s>0&&a>0)throw new ne(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Pd extends xI{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Pd(e,n,i)}_apply(e){const n=this._parse(e);return TI(e._query,n),new Ss(e.firestore,e.converter,jm(e._query,n))}_parse(e){const n=Id(e.firestore);return function(r,s,a,u,c,d,p){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ne(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){I1(p,d);const _=[];for(const w of p)_.push(C1(u,r,w));m={arrayValue:{values:_}}}else m=C1(u,r,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||I1(p,d),m=n$(a,s,p,d==="in"||d==="not-in");return at.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function a$(t,e,n){const i=e,r=kd("where",t);return Pd._create(r,i,n)}class wy extends _y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wy(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const u of a)TI(s,u),s=jm(s,u)}(e._query,n),new Ss(e.firestore,e.converter,jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ey extends xI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ey(e,n)}_apply(e){const n=function(i,r,s){if(i.startAt!==null)throw new ne(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new co(r,s);return function(u,c){if(Qv(u)===null){const d=fd(u);d!==null&&SI(u,d,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new jo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function l$(t,e="asc"){const n=e,i=kd("orderBy",t);return Ey._create(i,n)}function C1(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new ne(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_C(e)&&n.indexOf("/")!==-1)throw new ne(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ze.fromString(n));if(!ue.isDocumentKey(i))throw new ne(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kw(t,new ue(i))}if(n instanceof qt)return Kw(t,n._key);throw new ne(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xd(n)}.`)}function I1(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TI(t,e){if(e.isInequality()){const i=fd(t),r=e.field;if(i!==null&&!i.isEqual(r))throw new ne(q.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Qv(t);s!==null&&SI(t,r,s)}const n=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function SI(t,e,n){if(!n.isEqual(e))throw new ne(q.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class u${convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return xs(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new py(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=qv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const n=Er(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ze.fromString(e);Fe(UC(i));const r=new Cl(i.get(1),i.get(3)),s=new ue(i.popFirst(5));return r.isEqual(n)||Oi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class II extends EI{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(kd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Sc extends II{data(e={}){return super.data(e)}}class c${constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ba(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Sc(this._firestore,this._userDataWriter,i.key,i,new ba(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const u=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:h$(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){t=jn(t,qt);const e=jn(t.firestore,Cs);return W3(fy(e),t._key).then(n=>m$(e,t,n))}class bI extends u${constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function d$(t){t=jn(t,Ss);const e=jn(t.firestore,Cs),n=fy(e),i=new bI(e);return s$(t._query),q3(n,t._query).then(r=>new c$(e,i,t,r))}function NB(t,e,n){t=jn(t,qt);const i=jn(t.firestore,Cs),r=CI(t.converter,e,n);return Ld(i,[vI(Id(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,bn.none())])}function kI(t,e,n,...i){t=jn(t,qt);const r=jn(t.firestore,Cs),s=Id(r);let a;return a=typeof(e=Qe(e))=="string"||e instanceof Sd?t$(s,"updateDoc",t._key,e,n,i):e$(s,"updateDoc",t._key,e),Ld(r,[a.toMutation(t._key,bn.exists(!0))])}function f$(t){return Ld(jn(t.firestore,Cs),[new Xv(t._key,bn.none())])}function p$(t,e){const n=jn(t.firestore,Cs),i=ds(t),r=CI(t.converter,e);return Ld(n,[vI(Id(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,bn.exists(!1))]).then(()=>i)}function Ld(t,e){return function(n,i){const r=new Ci;return n.asyncQueue.enqueueAndForget(async()=>N3(await H3(n),i,r)),r.promise}(fy(t),e)}function m$(t,e,n){const i=n.docs.get(e._key),r=new bI(t);return new II(t,r,e._key,i,new ba(n.hasPendingWrites,n.fromCache),e.converter)}function PI(){return new gy("serverTimestamp")}(function(t,e=!0){(function(n){Uo=n})(_s),os(new _r("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),a=new Cs(new vD(n.getProvider("auth-internal")),new ED(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(u.options.projectId,c)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),ri(Hw,"3.12.2",t),ri(Hw,"3.12.2","esm2017")})();var LI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b1=le.createContext&&le.createContext(LI),mr=globalThis&&globalThis.__assign||function(){return mr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},mr.apply(this,arguments)},g$=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function NI(t){return t&&t.map(function(e,n){return le.createElement(e.tag,mr({key:n},e.attr),NI(e.child))})}function Kt(t){return function(e){return le.createElement(v$,mr({attr:mr({},t.attr)},e),NI(t.child))}}function v$(t){var e=function(n){var i=t.attr,r=t.size,s=t.title,a=g$(t,["attr","size","title"]),u=r||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),le.createElement("svg",mr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:c,style:mr(mr({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&le.createElement("title",null,s),t.children)};return b1!==void 0?le.createElement(b1.Consumer,null,function(n){return e(n)}):e(LI)}function AB(t){return Kt({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}function y$(t){return Kt({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#E8EAF6",points:"42,39 6,39 6,23 24,6 42,23"}},{tag:"g",attr:{fill:"#C5CAE9"},child:[{tag:"polygon",attr:{points:"39,21 34,16 34,9 39,9"}},{tag:"rect",attr:{x:"6",y:"39",width:"36",height:"5"}}]},{tag:"polygon",attr:{fill:"#B71C1C",points:"24,4.3 4,22.9 6,25.1 24,8.4 42,25.1 44,22.9"}},{tag:"rect",attr:{x:"18",y:"28",fill:"#D84315",width:"12",height:"16"}},{tag:"rect",attr:{x:"21",y:"17",fill:"#01579B",width:"6",height:"6"}},{tag:"path",attr:{fill:"#FF8A65",d:"M27.5,35.5c-0.3,0-0.5,0.2-0.5,0.5v2c0,0.3,0.2,0.5,0.5,0.5S28,38.3,28,38v-2C28,35.7,27.8,35.5,27.5,35.5z"}}]})(t)}var _$="firebase",w$="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(_$,w$,"app");const E$={apiKey:"AIzaSyDKtajGUdjVpn_Zf8Twq2D8Gyndpu51r4o",authDomain:"realestate-b4de7.firebaseapp.com",projectId:"realestate-b4de7",storageBucket:"realestate-b4de7.appspot.com",messagingSenderId:"829677483220",appId:"1:829677483220:web:0cb9034dac811f7957b741"};TT(E$);const gr=Y3();function AI(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=AI(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function er(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=AI(t))&&(i&&(i+=" "),i+=e);return i}const Va=t=>typeof t=="number"&&!isNaN(t),fs=t=>typeof t=="string",tn=t=>typeof t=="function",Cc=t=>fs(t)||tn(t)?t:null,cp=t=>O.isValidElement(t)||fs(t)||tn(t)||Va(t);function x$(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function Nd(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:s=300}=t;return function(a){let{children:u,position:c,preventExitTransition:d,done:p,nodeRef:m,isIn:_}=a;const w=i?`${e}--${c}`:e,T=i?`${n}--${c}`:n,S=O.useRef(0);return O.useLayoutEffect(()=>{const I=m.current,v=w.split(" "),y=x=>{x.target===m.current&&(I.dispatchEvent(new Event("d")),I.removeEventListener("animationend",y),I.removeEventListener("animationcancel",y),S.current===0&&x.type!=="animationcancel"&&I.classList.remove(...v))};I.classList.add(...v),I.addEventListener("animationend",y),I.addEventListener("animationcancel",y)},[]),O.useEffect(()=>{const I=m.current,v=()=>{I.removeEventListener("animationend",v),r?x$(I,p,s):p()};_||(d?v():(S.current=1,I.className+=` ${T}`,I.addEventListener("animationend",v)))},[_]),le.createElement(le.Fragment,null,u)}}function k1(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const En={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(i=>i!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Xu=t=>{let{theme:e,type:n,...i}=t;return le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},hp={info:function(t){return le.createElement(Xu,{...t},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return le.createElement(Xu,{...t},le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return le.createElement(Xu,{...t},le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return le.createElement(Xu,{...t},le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return le.createElement("div",{className:"Toastify__spinner"})}};function T$(t){const[,e]=O.useReducer(w=>w+1,0),[n,i]=O.useState([]),r=O.useRef(null),s=O.useRef(new Map).current,a=w=>n.indexOf(w)!==-1,u=O.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:a,getToast:w=>s.get(w)}).current;function c(w){let{containerId:T}=w;const{limit:S}=u.props;!S||T&&u.containerId!==T||(u.count-=u.queue.length,u.queue=[])}function d(w){i(T=>w==null?[]:T.filter(S=>S!==w))}function p(){const{toastContent:w,toastProps:T,staleId:S}=u.queue.shift();_(w,T,S)}function m(w,T){let{delay:S,staleId:I,...v}=T;if(!cp(w)||function(U){return!r.current||u.props.enableMultiContainer&&U.containerId!==u.props.containerId||s.has(U.toastId)&&U.updateId==null}(v))return;const{toastId:y,updateId:x,data:C}=v,{props:P}=u,N=()=>d(y),F=x==null;F&&u.count++;const A={...P,style:P.toastStyle,key:u.toastKey++,...Object.fromEntries(Object.entries(v).filter(U=>{let[V,B]=U;return B!=null})),toastId:y,updateId:x,data:C,closeToast:N,isIn:!1,className:Cc(v.className||P.toastClassName),bodyClassName:Cc(v.bodyClassName||P.bodyClassName),progressClassName:Cc(v.progressClassName||P.progressClassName),autoClose:!v.isLoading&&(z=v.autoClose,K=P.autoClose,z===!1||Va(z)&&z>0?z:K),deleteToast(){const U=k1(s.get(y),"removed");s.delete(y),En.emit(4,U);const V=u.queue.length;if(u.count=y==null?u.count-u.displayedToast:u.count-1,u.count<0&&(u.count=0),V>0){const B=y==null?u.props.limit:1;if(V===1||B===1)u.displayedToast++,p();else{const G=B>V?V:B;u.displayedToast=G;for(let W=0;W<G;W++)p()}}else e()}};var z,K;A.iconOut=function(U){let{theme:V,type:B,isLoading:G,icon:W}=U,Z=null;const R={theme:V,type:B};return W===!1||(tn(W)?Z=W(R):O.isValidElement(W)?Z=O.cloneElement(W,R):fs(W)||Va(W)?Z=W:G?Z=hp.spinner():(j=>j in hp)(B)&&(Z=hp[B](R))),Z}(A),tn(v.onOpen)&&(A.onOpen=v.onOpen),tn(v.onClose)&&(A.onClose=v.onClose),A.closeButton=P.closeButton,v.closeButton===!1||cp(v.closeButton)?A.closeButton=v.closeButton:v.closeButton===!0&&(A.closeButton=!cp(P.closeButton)||P.closeButton);let H=w;O.isValidElement(w)&&!fs(w.type)?H=O.cloneElement(w,{closeToast:N,toastProps:A,data:C}):tn(w)&&(H=w({closeToast:N,toastProps:A,data:C})),P.limit&&P.limit>0&&u.count>P.limit&&F?u.queue.push({toastContent:H,toastProps:A,staleId:I}):Va(S)?setTimeout(()=>{_(H,A,I)},S):_(H,A,I)}function _(w,T,S){const{toastId:I}=T;S&&s.delete(S);const v={content:w,props:T};s.set(I,v),i(y=>[...y,I].filter(x=>x!==S)),En.emit(4,k1(v,v.props.updateId==null?"added":"updated"))}return O.useEffect(()=>(u.containerId=t.containerId,En.cancelEmit(3).on(0,m).on(1,w=>r.current&&d(w)).on(5,c).emit(2,u),()=>{s.clear(),En.emit(3,u)}),[]),O.useEffect(()=>{u.props=t,u.isToastActive=a,u.displayedToast=n.length}),{getToastToRender:function(w){const T=new Map,S=Array.from(s.values());return t.newestOnTop&&S.reverse(),S.forEach(I=>{const{position:v}=I.props;T.has(v)||T.set(v,[]),T.get(v).push(I)}),Array.from(T,I=>w(I[0],I[1]))},containerRef:r,isToastActive:a}}function P1(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function L1(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function S$(t){const[e,n]=O.useState(!1),[i,r]=O.useState(!1),s=O.useRef(null),a=O.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=O.useRef(t),{autoClose:c,pauseOnHover:d,closeToast:p,onClick:m,closeOnClick:_}=t;function w(C){if(t.draggable){C.nativeEvent.type==="touchstart"&&C.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);const P=s.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=P.getBoundingClientRect(),P.style.transition="",a.x=P1(C.nativeEvent),a.y=L1(C.nativeEvent),t.draggableDirection==="x"?(a.start=a.x,a.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(a.start=a.y,a.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function T(C){if(a.boundingRect){const{top:P,bottom:N,left:F,right:A}=a.boundingRect;C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&a.x>=F&&a.x<=A&&a.y>=P&&a.y<=N?I():S()}}function S(){n(!0)}function I(){n(!1)}function v(C){const P=s.current;a.canDrag&&P&&(a.didMove=!0,e&&I(),a.x=P1(C),a.y=L1(C),a.delta=t.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),P.style.transform=`translate${t.draggableDirection}(${a.delta}px)`,P.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);const C=s.current;if(a.canDrag&&a.didMove&&C){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return r(!0),void t.closeToast();C.style.transition="transform 0.2s, opacity 0.2s",C.style.transform=`translate${t.draggableDirection}(0)`,C.style.opacity="1"}}O.useEffect(()=>{u.current=t}),O.useEffect(()=>(s.current&&s.current.addEventListener("d",S,{once:!0}),tn(t.onOpen)&&t.onOpen(O.isValidElement(t.children)&&t.children.props),()=>{const C=u.current;tn(C.onClose)&&C.onClose(O.isValidElement(C.children)&&C.children.props)}),[]),O.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||I(),window.addEventListener("focus",S),window.addEventListener("blur",I)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",S),window.removeEventListener("blur",I))}),[t.pauseOnFocusLoss]);const x={onMouseDown:w,onTouchStart:w,onMouseUp:T,onTouchEnd:T};return c&&d&&(x.onMouseEnter=I,x.onMouseLeave=S),_&&(x.onClick=C=>{m&&m(C),a.canCloseOnClick&&p()}),{playToast:S,pauseToast:I,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:x}}function OI(t){let{closeToast:e,theme:n,ariaLabel:i="close"}=t;return le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:r=>{r.stopPropagation(),e(r)},"aria-label":i},le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function C$(t){let{delay:e,isRunning:n,closeToast:i,type:r="default",hide:s,className:a,style:u,controlledProgress:c,progress:d,rtl:p,isIn:m,theme:_}=t;const w=s||c&&d===0,T={...u,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:w?0:1};c&&(T.transform=`scaleX(${d})`);const S=er("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":p}),I=tn(a)?a({rtl:p,type:r,defaultClassName:S}):er(S,a);return le.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:I,style:T,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&i()}})}const I$=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r}=S$(t),{closeButton:s,children:a,autoClose:u,onClick:c,type:d,hideProgressBar:p,closeToast:m,transition:_,position:w,className:T,style:S,bodyClassName:I,bodyStyle:v,progressClassName:y,progressStyle:x,updateId:C,role:P,progress:N,rtl:F,toastId:A,deleteToast:z,isIn:K,isLoading:H,iconOut:U,closeOnClick:V,theme:B}=t,G=er("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":V}),W=tn(T)?T({rtl:F,position:w,type:d,defaultClassName:G}):er(G,T),Z=!!N||!u,R={closeToast:m,type:d,theme:B};let j=null;return s===!1||(j=tn(s)?s(R):O.isValidElement(s)?O.cloneElement(s,R):OI(R)),le.createElement(_,{isIn:K,done:z,position:w,preventExitTransition:n,nodeRef:i},le.createElement("div",{id:A,onClick:c,className:W,...r,style:S,ref:i},le.createElement("div",{...K&&{role:P},className:tn(I)?I({type:d}):er("Toastify__toast-body",I),style:v},U!=null&&le.createElement("div",{className:er("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},U),le.createElement("div",null,a)),j,le.createElement(C$,{...C&&!Z?{key:`pb-${C}`}:{},rtl:F,theme:B,delay:u,isRunning:e,isIn:K,closeToast:m,hide:p,type:d,style:x,className:y,controlledProgress:Z,progress:N||0})))},Ad=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},b$=Nd(Ad("bounce",!0));Nd(Ad("slide",!0));Nd(Ad("zoom"));Nd(Ad("flip"));const Xm=O.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:i,isToastActive:r}=T$(t),{className:s,style:a,rtl:u,containerId:c}=t;function d(p){const m=er("Toastify__toast-container",`Toastify__toast-container--${p}`,{"Toastify__toast-container--rtl":u});return tn(s)?s({position:p,rtl:u,defaultClassName:m}):er(m,Cc(s))}return O.useEffect(()=>{e&&(e.current=i.current)},[]),le.createElement("div",{ref:i,className:"Toastify",id:c},n((p,m)=>{const _=m.length?{...a}:{...a,pointerEvents:"none"};return le.createElement("div",{className:d(p),style:_,key:`container-${p}`},m.map((w,T)=>{let{content:S,props:I}=w;return le.createElement(I$,{...I,isIn:r(I.toastId),style:{...I.style,"--nth":T+1,"--len":m.length},key:`toast-${I.key}`},S)}))}))});Xm.displayName="ToastContainer",Xm.defaultProps={position:"top-right",transition:b$,autoClose:5e3,closeButton:OI,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let dp,Ur=new Map,ka=[],k$=1;function RI(){return""+k$++}function P$(t){return t&&(fs(t.toastId)||Va(t.toastId))?t.toastId:RI()}function Ha(t,e){return Ur.size>0?En.emit(0,t,e):ka.push({content:t,options:e}),e.toastId}function Eh(t,e){return{...e,type:e&&e.type||t,toastId:P$(e)}}function Ju(t){return(e,n)=>Ha(e,Eh(t,n))}function xe(t,e){return Ha(t,Eh("default",e))}xe.loading=(t,e)=>Ha(t,Eh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),xe.promise=function(t,e,n){let i,{pending:r,error:s,success:a}=e;r&&(i=fs(r)?xe.loading(r,n):xe.loading(r.render,{...n,...r}));const u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(p,m,_)=>{if(m==null)return void xe.dismiss(i);const w={type:p,...u,...n,data:_},T=fs(m)?{render:m}:m;return i?xe.update(i,{...w,...T}):xe(T.render,{...w,...T}),_},d=tn(t)?t():t;return d.then(p=>c("success",a,p)).catch(p=>c("error",s,p)),d},xe.success=Ju("success"),xe.info=Ju("info"),xe.error=Ju("error"),xe.warning=Ju("warning"),xe.warn=xe.warning,xe.dark=(t,e)=>Ha(t,Eh("default",{theme:"dark",...e})),xe.dismiss=t=>{Ur.size>0?En.emit(1,t):ka=ka.filter(e=>t!=null&&e.options.toastId!==t)},xe.clearWaitingQueue=function(t){return t===void 0&&(t={}),En.emit(5,t)},xe.isActive=t=>{let e=!1;return Ur.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},xe.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(i,r){let{containerId:s}=r;const a=Ur.get(s||dp);return a&&a.getToast(i)}(t,e);if(n){const{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:RI()};s.toastId!==t&&(s.staleId=t);const a=s.render||r;delete s.render,Ha(a,s)}},0)},xe.done=t=>{xe.update(t,{progress:1})},xe.onChange=t=>(En.on(4,t),()=>{En.off(4,t)}),xe.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},xe.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},En.on(2,t=>{dp=t.containerId||t,Ur.set(dp,t),ka.forEach(e=>{En.emit(0,e.content,e.options)}),ka=[]}).on(3,t=>{Ur.delete(t.containerId||t),Ur.size===0&&En.off(0).off(1).off(5)});var MI={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ch,function(){var n=1e3,i=6e4,r=36e5,s="millisecond",a="second",u="minute",c="hour",d="day",p="week",m="month",_="quarter",w="year",T="date",S="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var B=["th","st","nd","rd"],G=V%100;return"["+V+(B[(G-20)%10]||B[G]||B[0])+"]"}},x=function(V,B,G){var W=String(V);return!W||W.length>=B?V:""+Array(B+1-W.length).join(G)+V},C={s:x,z:function(V){var B=-V.utcOffset(),G=Math.abs(B),W=Math.floor(G/60),Z=G%60;return(B<=0?"+":"-")+x(W,2,"0")+":"+x(Z,2,"0")},m:function V(B,G){if(B.date()<G.date())return-V(G,B);var W=12*(G.year()-B.year())+(G.month()-B.month()),Z=B.clone().add(W,m),R=G-Z<0,j=B.clone().add(W+(R?-1:1),m);return+(-(W+(G-Z)/(R?Z-j:j-Z))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:m,y:w,w:p,d,D:T,h:c,m:u,s:a,ms:s,Q:_}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},P="en",N={};N[P]=y;var F=function(V){return V instanceof H},A=function V(B,G,W){var Z;if(!B)return P;if(typeof B=="string"){var R=B.toLowerCase();N[R]&&(Z=R),G&&(N[R]=G,Z=R);var j=B.split("-");if(!Z&&j.length>1)return V(j[0])}else{var $=B.name;N[$]=B,Z=$}return!W&&Z&&(P=Z),Z||!W&&P},z=function(V,B){if(F(V))return V.clone();var G=typeof B=="object"?B:{};return G.date=V,G.args=arguments,new H(G)},K=C;K.l=A,K.i=F,K.w=function(V,B){return z(V,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var H=function(){function V(G){this.$L=A(G.locale,null,!0),this.parse(G)}var B=V.prototype;return B.parse=function(G){this.$d=function(W){var Z=W.date,R=W.utc;if(Z===null)return new Date(NaN);if(K.u(Z))return new Date;if(Z instanceof Date)return new Date(Z);if(typeof Z=="string"&&!/Z$/i.test(Z)){var j=Z.match(I);if(j){var $=j[2]-1||0,ee=(j[7]||"0").substring(0,3);return R?new Date(Date.UTC(j[1],$,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ee)):new Date(j[1],$,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ee)}}return new Date(Z)}(G),this.$x=G.x||{},this.init()},B.init=function(){var G=this.$d;this.$y=G.getFullYear(),this.$M=G.getMonth(),this.$D=G.getDate(),this.$W=G.getDay(),this.$H=G.getHours(),this.$m=G.getMinutes(),this.$s=G.getSeconds(),this.$ms=G.getMilliseconds()},B.$utils=function(){return K},B.isValid=function(){return this.$d.toString()!==S},B.isSame=function(G,W){var Z=z(G);return this.startOf(W)<=Z&&Z<=this.endOf(W)},B.isAfter=function(G,W){return z(G)<this.startOf(W)},B.isBefore=function(G,W){return this.endOf(W)<z(G)},B.$g=function(G,W,Z){return K.u(G)?this[W]:this.set(Z,G)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(G,W){var Z=this,R=!!K.u(W)||W,j=K.p(G),$=function(Bt,vt){var vn=K.w(Z.$u?Date.UTC(Z.$y,vt,Bt):new Date(Z.$y,vt,Bt),Z);return R?vn:vn.endOf(d)},ee=function(Bt,vt){return K.w(Z.toDate()[Bt].apply(Z.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(vt)),Z)},re=this.$W,de=this.$M,we=this.$D,me="set"+(this.$u?"UTC":"");switch(j){case w:return R?$(1,0):$(31,11);case m:return R?$(1,de):$(0,de+1);case p:var oe=this.$locale().weekStart||0,Ke=(re<oe?re+7:re)-oe;return $(R?we-Ke:we+(6-Ke),de);case d:case T:return ee(me+"Hours",0);case c:return ee(me+"Minutes",1);case u:return ee(me+"Seconds",2);case a:return ee(me+"Milliseconds",3);default:return this.clone()}},B.endOf=function(G){return this.startOf(G,!1)},B.$set=function(G,W){var Z,R=K.p(G),j="set"+(this.$u?"UTC":""),$=(Z={},Z[d]=j+"Date",Z[T]=j+"Date",Z[m]=j+"Month",Z[w]=j+"FullYear",Z[c]=j+"Hours",Z[u]=j+"Minutes",Z[a]=j+"Seconds",Z[s]=j+"Milliseconds",Z)[R],ee=R===d?this.$D+(W-this.$W):W;if(R===m||R===w){var re=this.clone().set(T,1);re.$d[$](ee),re.init(),this.$d=re.set(T,Math.min(this.$D,re.daysInMonth())).$d}else $&&this.$d[$](ee);return this.init(),this},B.set=function(G,W){return this.clone().$set(G,W)},B.get=function(G){return this[K.p(G)]()},B.add=function(G,W){var Z,R=this;G=Number(G);var j=K.p(W),$=function(de){var we=z(R);return K.w(we.date(we.date()+Math.round(de*G)),R)};if(j===m)return this.set(m,this.$M+G);if(j===w)return this.set(w,this.$y+G);if(j===d)return $(1);if(j===p)return $(7);var ee=(Z={},Z[u]=i,Z[c]=r,Z[a]=n,Z)[j]||1,re=this.$d.getTime()+G*ee;return K.w(re,this)},B.subtract=function(G,W){return this.add(-1*G,W)},B.format=function(G){var W=this,Z=this.$locale();if(!this.isValid())return Z.invalidDate||S;var R=G||"YYYY-MM-DDTHH:mm:ssZ",j=K.z(this),$=this.$H,ee=this.$m,re=this.$M,de=Z.weekdays,we=Z.months,me=function(vt,vn,Ar,Vn){return vt&&(vt[vn]||vt(W,R))||Ar[vn].slice(0,Vn)},oe=function(vt){return K.s($%12||12,vt,"0")},Ke=Z.meridiem||function(vt,vn,Ar){var Vn=vt<12?"AM":"PM";return Ar?Vn.toLowerCase():Vn},Bt={YY:String(this.$y).slice(-2),YYYY:K.s(this.$y,4,"0"),M:re+1,MM:K.s(re+1,2,"0"),MMM:me(Z.monthsShort,re,we,3),MMMM:me(we,re),D:this.$D,DD:K.s(this.$D,2,"0"),d:String(this.$W),dd:me(Z.weekdaysMin,this.$W,de,2),ddd:me(Z.weekdaysShort,this.$W,de,3),dddd:de[this.$W],H:String($),HH:K.s($,2,"0"),h:oe(1),hh:oe(2),a:Ke($,ee,!0),A:Ke($,ee,!1),m:String(ee),mm:K.s(ee,2,"0"),s:String(this.$s),ss:K.s(this.$s,2,"0"),SSS:K.s(this.$ms,3,"0"),Z:j};return R.replace(v,function(vt,vn){return vn||Bt[vt]||j.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(G,W,Z){var R,j=K.p(W),$=z(G),ee=($.utcOffset()-this.utcOffset())*i,re=this-$,de=K.m(this,$);return de=(R={},R[w]=de/12,R[m]=de,R[_]=de/3,R[p]=(re-ee)/6048e5,R[d]=(re-ee)/864e5,R[c]=re/r,R[u]=re/i,R[a]=re/n,R)[j]||re,Z?de:K.a(de)},B.daysInMonth=function(){return this.endOf(m).$D},B.$locale=function(){return N[this.$L]},B.locale=function(G,W){if(!G)return this.$L;var Z=this.clone(),R=A(G,W,!0);return R&&(Z.$L=R),Z},B.clone=function(){return K.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},V}(),U=H.prototype;return z.prototype=U,[["$ms",s],["$s",a],["$m",u],["$H",c],["$W",d],["$M",m],["$y",w],["$D",T]].forEach(function(V){U[V[1]]=function(B){return this.$g(B,V[0],V[1])}}),z.extend=function(V,B){return V.$i||(V(B,H,z),V.$i=!0),z},z.locale=A,z.isDayjs=F,z.unix=function(V){return z(1e3*V)},z.en=N[P],z.Ls=N,z.p={},z})})(MI);var L$=MI.exports;const Ty=Ih(L$);var DI={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ch,function(){return function(n,i,r){n=n||{};var s=i.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function u(d,p,m,_){return s.fromToBase(d,p,m,_)}r.en.relativeTime=a,s.fromToBase=function(d,p,m,_,w){for(var T,S,I,v=m.$locale().relativeTime||a,y=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=y.length,C=0;C<x;C+=1){var P=y[C];P.d&&(T=_?r(d).diff(m,P.d,!0):m.diff(d,P.d,!0));var N=(n.rounding||Math.round)(Math.abs(T));if(I=T>0,N<=P.r||!P.r){N<=1&&C>0&&(P=y[C-1]);var F=v[P.l];w&&(N=w(""+N)),S=typeof F=="string"?F.replace("%d",N):F(N,p,P.l,I);break}}if(p)return S;var A=I?v.future:v.past;return typeof A=="function"?A(S):A.replace("%s",S)},s.to=function(d,p){return u(d,p,this,!0)},s.from=function(d,p){return u(d,p,this)};var c=function(d){return d.$u?r.utc():r()};s.toNow=function(d){return this.to(c(this),d)},s.fromNow=function(d){return this.from(c(this),d)}}})})(DI);var N$=DI.exports;const A$=Ih(N$);var O$={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ch,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var i=["th","st","nd","rd"],r=n%100;return"["+n+(i[(r-20)%10]||i[r]||i[0])+"]"}}})})(O$);var $I={exports:{}},R$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",M$=R$,D$=M$;function zI(){}function BI(){}BI.resetWarningCache=zI;var $$=function(){function t(i,r,s,a,u,c){if(c!==D$){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:BI,resetWarningCache:zI};return n.PropTypes=n,n};$I.exports=$$();var z$=$I.exports;const fe=Ih(z$);function B$(t){return Kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"}}]})(t)}function F$(t){return Kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}]})(t)}function OB(t){return Kt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(t)}function RB(t){return Kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(t)}function MB(t){return Kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"}}]})(t)}function DB(t){return Kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(t)}function U$(t){return Kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32,384a95.4,95.4,0,0,0,32,71.09V496a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V480H384v16a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V455.09A95.4,95.4,0,0,0,480,384V336H32ZM496,256H80V69.25a21.26,21.26,0,0,1,36.28-15l19.27,19.26c-13.13,29.88-7.61,59.11,8.62,79.73l-.17.17A16,16,0,0,0,144,176l11.31,11.31a16,16,0,0,0,22.63,0L283.31,81.94a16,16,0,0,0,0-22.63L272,48a16,16,0,0,0-22.62,0l-.17.17c-20.62-16.23-49.83-21.75-79.73-8.62L150.22,20.28A69.25,69.25,0,0,0,32,69.25V256H16A16,16,0,0,0,0,272v16a16,16,0,0,0,16,16H496a16,16,0,0,0,16-16V272A16,16,0,0,0,496,256Z"}}]})(t)}function j$(t){return Kt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"}}]})(t)}function V$(t){return Kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48zm334.3 213.9l-10.7-32c-4.4-13.1-16.6-21.9-30.4-21.9H42.7c-13.8 0-26 8.8-30.4 21.9l-10.7 32C-5.2 362.6 10.2 384 32 384v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384h256v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384c21.8 0 37.2-21.4 30.3-42.1z"}}]})(t)}function H$(t){return Kt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(t)}function W$(t){return Kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM240 320h-48v48c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h96c52.9 0 96 43.1 96 96s-43.1 96-96 96zm0-128h-48v64h48c17.6 0 32-14.4 32-32s-14.4-32-32-32z"}}]})(t)}function q$(t){return Kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(t)}function G$(t){return Kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}Ty.extend(A$);Ty.locale("en");const FI=({listing:t,id:e,onDelete:n,onEdite:i})=>{var a;const r=(a=t.timestamp)==null?void 0:a.toDate(),s=r?Ty(r).fromNow():"";return b.jsxs("li",{className:"relative bg-white flex flex-col justify-between items-center m-[10px] shadow-md hover:shadow-xl rounded-md overflow-hidden transition-shadow duration-200 ease-in-out",children:[b.jsxs(av,{className:"contents",to:`/category/${t.type}/${e}`,children:[b.jsx("img",{className:"h-[170px] w-full object-cover hover:scale-105 transition-scale duration-200 ease-in-out rounded-md",loading:"lazy",src:t.imgUrls[0],alt:t.name}),s&&b.jsx("div",{className:"absolute top-2 left-2 bg-[#3377fc] text-white uppercase text-xs font-semibold rounded-md px-2 py-1 shadow-lg",children:s}),b.jsxs("div",{className:"w-full p-[10px]",children:[b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(B$,{className:"h-4 w-4 text-green-600"}),b.jsx("p",{className:"font-semibold text-sm mb-[2px] text-gray-600 truncate",children:t.address})]}),b.jsx("p",{className:"font-semibold m-0 text-xl truncate",children:t.name}),b.jsxs("p",{className:"mt-2 font-semibold text-[#40559c]",children:["$",t.offer?t.discountedPrice.replace(/\B(?=(\d{3})+(?!\d))/g,","):t.regularPrice.replace(/\B(?=(\d{3})+(?!\d))/g,","),t.type==="rent"&&" / month"]}),b.jsxs("div",{className:"flex items-center mt-[10px] space-x-3",children:[b.jsx("div",{className:"flex items-center space-x-1",children:b.jsx("p",{className:"font-bold text-xs",children:t.bedrooms>1?`${t.bedrooms} Beds`:"1 Bed"})}),b.jsx("div",{className:"flex items-center space-x-1",children:b.jsx("p",{className:"font-bold text-xs",children:t.bathrooms>1?`${t.bathrooms} Baths`:"1 Bath"})})]})]})]}),n&&b.jsx(G$,{className:"absolute bottom-2 right-2 h-[14px] cursor-pointer text-red-700",onClick:()=>n(t.id)}),i&&b.jsx(F$,{className:"absolute bottom-2 right-8 h-4 cursor-pointer  text-blue-700",onClick:()=>i(t.id)})]})};FI.propTypes={listing:fe.shape({address:fe.string,bathrooms:fe.string,bedrooms:fe.string,description:fe.string,discountedPrice:fe.string,furnished:fe.bool,geolocation:fe.shape({lat:fe.number,lng:fe.number}),imgUrls:fe.arrayOf(fe.string),name:fe.string,offer:fe.bool,parking:fe.bool,regularPrice:fe.string,timestamp:fe.objectOf(fe.number),type:fe.string,userRef:fe.string,id:fe.string}).isRequired,id:fe.string.isRequired,onDelete:fe.func,onEdite:fe.func};const Z$=()=>{const t=Yh(),e=Ml(),[n,i]=O.useState(),[r,s]=O.useState(null),[a,u]=O.useState(!0),[c,d]=O.useState({name:t.currentUser.displayName,email:t.currentUser.email}),{name:p,email:m}=c;function _(){t.signOut(),e("/")}function w(y){d(x=>({...x,[y.target.id]:y.target.value}))}function T(){i(y=>!y)}async function S(){try{if(t.currentUser.displayName!==p){await KO(t.currentUser,{displayName:p});const y=ds(gr,"users",t.currentUser.uid);await kI(y,{name:p})}xe.success("Profile update details")}catch{xe.error("Couldn`t update profile details")}}O.useEffect(()=>{async function y(){const x=fI(gr,"listings"),C=o$(x,a$("userRef","==",t.currentUser.uid),l$("timestamp","desc")),P=await d$(C);let N=[];P.forEach(F=>N.push({id:F.id,data:F.data()})),s(N),u(!1),console.log(N)}y()},[t.currentUser.uid]);async function I(y){if(window.confirm("Are you sure you want to delete?")){await f$(ds(gr,"listings",y));const x=r.filter(C=>C.id!==y);s(x),xe.success("Successfully deleted listings")}}function v(y){e(`/edit-listing/${y}`)}return b.jsxs(b.Fragment,{children:[b.jsxs("section",{className:"max-w-6xl mx-auto flex justify-center items-center flex-col",children:[b.jsx("h1",{className:"text-3xl text-center mt-6 font-bold",children:"My Profile"}),b.jsxs("div",{className:"w-full md:w-[50%] mt-6 px-3",children:[b.jsxs("form",{children:[b.jsx("input",{type:"text",id:"name",value:p,onChange:w,disabled:!n,className:`mb-6 w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded transition-duration-200 ease-in-out ${n&&"bg-red-600 focus:bg-red-600 text-white"}
              }`}),b.jsx("input",{type:"email",id:"email",value:m,disabled:!0,className:"mb-6 w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded transition-duration-200 ease-in-out"}),b.jsxs("div",{className:"flex justify-between mb-6 whitespace-nowrap text-sm sm:text-lg ",children:[b.jsxs("p",{className:"flex items-center ",children:["Do you want to change your name?",b.jsx("span",{onClick:()=>{n&&S(),T()},className:"ml-1 text-red-700 hover:text-red-600 transition duration-200 ease-in-out cursor-pointer",children:n?"Apply change":"Edit"})]}),b.jsx("p",{onClick:_,className:"text-blue-700 hover:text-blue-600 transition duration-200 ease-in-out cursor-pointer",children:"Sign out"})]})]}),b.jsx("button",{type:"submit",className:"w-full bg-blue-700 text-white uppercase px-7 py-3 text-sm font-medium rounded shadow-md hover:bg-blue-600 transition duration-200 ease-in-out hover:shadow-lg active:bg-blue-800",children:b.jsxs(av,{to:"/create-listing",className:"flex justify-center items-center",children:[b.jsx(y$,{className:"mr-2 text-3xl bg-red-200 rounded-full p-1 border-2"}),"Sell or rent your home"]})})]})]}),b.jsx("div",{className:"max-w-6xl px-3 mt-6 mx-auto ",children:!a&&r.length>0&&b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-2xl text-center font-semibold mb-6",children:"My Listings"}),b.jsx("ul",{className:"sm:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 mt-6 mb-6",children:r.map(y=>b.jsx(FI,{listing:y.data,id:y.id,onDelete:()=>I(y.id),onEdite:()=>v(y.id)},y.id))})]})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="firebasestorage.googleapis.com",jI="storageBucket",K$=2*60*1e3,Y$=10*60*1e3,Q$=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends hi{constructor(e,n,i=0){super(fp(e),`Firebase Storage: ${n} (${fp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ue||(Ue={}));function fp(t){return"storage/"+t}function Sy(){const t="An unknown error occurred, please check the error payload for server response.";return new Ze(Ue.UNKNOWN,t)}function X$(t){return new Ze(Ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function J$(t){return new Ze(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Ue.UNAUTHENTICATED,t)}function t6(){return new Ze(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n6(t){return new Ze(Ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function VI(){return new Ze(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HI(){return new Ze(Ue.CANCELED,"User canceled the upload/download.")}function i6(t){return new Ze(Ue.INVALID_URL,"Invalid URL '"+t+"'.")}function r6(t){return new Ze(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s6(){return new Ze(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jI+"' property when initializing the app?")}function WI(){return new Ze(Ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o6(){return new Ze(Ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function a6(){return new Ze(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function l6(t){return new Ze(Ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jm(t){return new Ze(Ue.INVALID_ARGUMENT,t)}function qI(){return new Ze(Ue.APP_DELETED,"The Firebase app was deleted.")}function u6(t){return new Ze(Ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wa(t,e){return new Ze(Ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ma(t){throw new Ze(Ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=cn.makeFromUrl(e,n)}catch{return new cn(e,"")}if(i.path==="")return i;throw r6(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function d(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",w=new RegExp(`^https?://${m}/${p}/b/${r}/o${_}`,"i"),T={bucket:1,path:3},S=n===UI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",v=new RegExp(`^https?://${S}/${r}/${I}`,"i"),x=[{regex:u,indices:c,postModify:s},{regex:w,indices:T,postModify:d},{regex:v,indices:{bucket:1,path:2},postModify:d}];for(let C=0;C<x.length;C++){const P=x[C],N=P.regex.exec(e);if(N){const F=N[P.indices.bucket];let A=N[P.indices.path];A||(A=""),i=new cn(F,A),P.postModify(i);break}}if(i==null)throw i6(e);return i}}class c6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t,e,n){let i=1,r=null,s=null,a=!1,u=0;function c(){return u===2}let d=!1;function p(...I){d||(d=!0,e.apply(null,I))}function m(I){r=setTimeout(()=>{r=null,t(w,c())},I)}function _(){s&&clearTimeout(s)}function w(I,...v){if(d){_();return}if(I){_(),p.call(null,I,...v);return}if(c()||a){_(),p.call(null,I,...v);return}i<64&&(i*=2);let x;u===1?(u=2,x=0):x=(i+Math.random())*1e3,m(x)}let T=!1;function S(I){T||(T=!0,_(),!d&&(r!==null?(I||(u=2),clearTimeout(r),m(0)):I||(u=1)))}return m(0),s=setTimeout(()=>{a=!0,S(!0)},n),S}function d6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){return t!==void 0}function p6(t){return typeof t=="function"}function m6(t){return typeof t=="object"&&!Array.isArray(t)}function Od(t){return typeof t=="string"||t instanceof String}function N1(t){return Cy()&&t instanceof Blob}function Cy(){return typeof Blob<"u"&&!FN()}function A1(t,e,n,i){if(i<e)throw Jm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Jm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function GI(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jr||(Jr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,i,r,s,a,u,c,d,p,m,_=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,T)=>{this.resolve_=w,this.reject_=T,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new ec(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const u=s.getErrorCode()===Jr.NO_ERROR,c=s.getStatus();if(!u||ZI(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Jr.ABORT;i(!1,new ec(!1,null,p));return}const d=this.successCodes_.indexOf(c)!==-1;i(!0,new ec(d,s))})},n=(i,r)=>{const s=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());f6(c)?s(c):s()}catch(c){a(c)}else if(u!==null){const c=Sy();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(r.canceled){const c=this.appDelete_?qI():HI();a(c)}else{const c=VI();a(c)}};this.canceled_?n(!1,new ec(!1,null,!0)):this.backoffId_=h6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ec{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function v6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function E6(t,e,n,i,r,s,a=!0){const u=GI(t.urlParams),c=t.url+u,d=Object.assign({},t.headers);return _6(d,e),v6(d,n),y6(d,s),w6(d,i),new g6(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T6(...t){const e=x6();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Cy())return new Blob(t);throw new Ze(Ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function S6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){if(typeof atob>"u")throw l6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pp{constructor(e,n){this.data=e,this.contentType=n||null}}function I6(t,e){switch(t){case ei.RAW:return new pp(KI(e));case ei.BASE64:case ei.BASE64URL:return new pp(YI(t,e));case ei.DATA_URL:return new pp(k6(e),P6(e))}throw Sy()}function KI(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,a=t.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function b6(t){let e;try{e=decodeURIComponent(t)}catch{throw Wa(ei.DATA_URL,"Malformed data URL.")}return KI(e)}function YI(t,e){switch(t){case ei.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Wa(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ei.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Wa(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=C6(e)}catch(r){throw r.message.includes("polyfill")?r:Wa(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class QI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wa(ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=L6(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function k6(t){const e=new QI(t);return e.base64?YI(ei.BASE64,e.rest):b6(e.rest)}function P6(t){return new QI(t).contentType}function L6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){let i=0,r="";N1(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(N1(this.data_)){const i=this.data_,r=S6(i,e,n);return r===null?null:new Ki(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ki(i,!0)}}static getBlob(...e){if(Cy()){const n=e.map(i=>i instanceof Ki?i.data_:i);return new Ki(T6.apply(null,n))}else{const n=e.map(a=>Od(a)?I6(ei.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)r[s++]=a[u]}),new Ki(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t){let e;try{e=JSON.parse(t)}catch{return null}return m6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A6(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function JI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e){return e}class Ut{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||O6}}let tc=null;function R6(t){return!Od(t)||t.length<2?t:JI(t)}function eb(){if(tc)return tc;const t=[];t.push(new Ut("bucket")),t.push(new Ut("generation")),t.push(new Ut("metageneration")),t.push(new Ut("name","fullPath",!0));function e(s,a){return R6(a)}const n=new Ut("name");n.xform=e,t.push(n);function i(s,a){return a!==void 0?Number(a):a}const r=new Ut("size");return r.xform=i,t.push(r),t.push(new Ut("timeCreated")),t.push(new Ut("updated")),t.push(new Ut("md5Hash",null,!0)),t.push(new Ut("cacheControl",null,!0)),t.push(new Ut("contentDisposition",null,!0)),t.push(new Ut("contentEncoding",null,!0)),t.push(new Ut("contentLanguage",null,!0)),t.push(new Ut("contentType",null,!0)),t.push(new Ut("metadata","customMetadata",!0)),tc=t,tc}function M6(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new cn(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function D6(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const a=n[s];i[a.local]=a.xform(i,e[a.server])}return M6(i,t),i}function tb(t,e,n){const i=XI(e);return i===null?null:D6(t,i,n)}function $6(t,e,n,i){const r=XI(e);if(r===null||!Od(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(d=>{const p=t.bucket,m=t.fullPath,_="/b/"+a(p)+"/o/"+a(m),w=ru(_,n,i),T=GI({alt:"media",token:d});return w+T})[0]}function nb(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Wo{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t){if(!t)throw Sy()}function Iy(t,e){function n(i,r){const s=tb(t,r,e);return Ii(s!==null),s}return n}function z6(t,e){function n(i,r){const s=tb(t,r,e);return Ii(s!==null),$6(s,r,t.host,t._protocol)}return n}function su(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=t6():r=e6():n.getStatus()===402?r=J$(t.bucket):n.getStatus()===403?r=n6(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function ib(t){const e=su(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=X$(t.path)),s.serverResponse=r.serverResponse,s}return n}function B6(t,e,n){const i=e.fullServerUrl(),r=ru(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,u=new Wo(r,s,Iy(t,n),a);return u.errorHandler=ib(e),u}function F6(t,e,n){const i=e.fullServerUrl(),r=ru(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,u=new Wo(r,s,z6(t,n),a);return u.errorHandler=ib(e),u}function U6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function rb(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=U6(null,e)),i}function j6(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let x="";for(let C=0;C<2;C++)x=x+Math.random().toString().slice(2);return x}const c=u();a["Content-Type"]="multipart/related; boundary="+c;const d=rb(e,i,r),p=nb(d,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+c+"--",w=Ki.getBlob(m,i,_);if(w===null)throw WI();const T={name:d.fullPath},S=ru(s,t.host,t._protocol),I="POST",v=t.maxUploadRetryTime,y=new Wo(S,I,Iy(t,n),v);return y.urlParams=T,y.headers=a,y.body=w.uploadData(),y.errorHandler=su(e),y}class xh{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}}function by(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ii(!1)}return Ii(!!n&&(e||["active"]).indexOf(n)!==-1),n}function V6(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a=rb(e,i,r),u={name:a.fullPath},c=ru(s,t.host,t._protocol),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},m=nb(a,n),_=t.maxUploadRetryTime;function w(S){by(S);let I;try{I=S.getResponseHeader("X-Goog-Upload-URL")}catch{Ii(!1)}return Ii(Od(I)),I}const T=new Wo(c,d,w,_);return T.urlParams=u,T.headers=p,T.body=m,T.errorHandler=su(e),T}function H6(t,e,n,i){const r={"X-Goog-Upload-Command":"query"};function s(d){const p=by(d,["active","final"]);let m=null;try{m=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ii(!1)}m||Ii(!1);const _=Number(m);return Ii(!isNaN(_)),new xh(_,i.size(),p==="final")}const a="POST",u=t.maxUploadRetryTime,c=new Wo(n,a,s,u);return c.headers=r,c.errorHandler=su(e),c}const O1=256*1024;function W6(t,e,n,i,r,s,a,u){const c=new xh(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw o6();const d=c.total-c.current;let p=d;r>0&&(p=Math.min(p,r));const m=c.current,_=m+p;let w="";p===0?w="finalize":d===p?w="upload, finalize":w="upload";const T={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${c.current}`},S=i.slice(m,_);if(S===null)throw WI();function I(C,P){const N=by(C,["active","final"]),F=c.current+p,A=i.size();let z;return N==="final"?z=Iy(e,s)(C,P):z=null,new xh(F,A,N==="final",z)}const v="POST",y=e.maxUploadRetryTime,x=new Wo(n,v,I,y);return x.headers=T,x.body=S.uploadData(),x.progressCallback=u||null,x.errorHandler=su(t),x}const Qt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mp(t){switch(t){case"running":case"pausing":case"canceling":return Qt.RUNNING;case"paused":return Qt.PAUSED;case"success":return Qt.SUCCESS;case"canceled":return Qt.CANCELED;case"error":return Qt.ERROR;default:return Qt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q6=class{constructor(e,n,i){if(p6(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class G6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw ma("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ma("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ma("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ma("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ma("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Z6 extends G6{initXhr(){this.xhr_.responseType="text"}}function Fs(){return new Z6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=eb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(ZI(r.status,[]))if(s)r=VI();else{this.sleepTime=Math.max(this.sleepTime*2,Q$),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ue.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=V6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Fs,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const r=H6(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Fs,n,i);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=O1*this._chunkMultiplier,n=new xh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=W6(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const u=this._ref.storage._makeRequest(a,Fs,r,s,!1);this._request=u,u.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){O1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=B6(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Fs,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=j6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Fs,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=HI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=mp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){const s=new q6(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(mp(this._state)){case Qt.SUCCESS:$s(this._resolve.bind(null,this.snapshot))();break;case Qt.CANCELED:case Qt.ERROR:const n=this._reject;$s(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(mp(this._state)){case Qt.RUNNING:case Qt.PAUSED:e.next&&$s(e.next.bind(e,this.snapshot))();break;case Qt.SUCCESS:e.complete&&$s(e.complete.bind(e))();break;case Qt.CANCELED:case Qt.ERROR:e.error&&$s(e.error.bind(e,this._error))();break;default:e.error&&$s(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this._service=e,n instanceof cn?this._location=n:this._location=cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ps(e,n)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JI(this._location.path)}get storage(){return this._service}get parent(){const e=N6(this._location.path);if(e===null)return null;const n=new cn(this._location.bucket,e);return new ps(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw u6(e)}}function Y6(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new K6(t,new Ki(e),n)}function Q6(t){t._throwIfRoot("getDownloadURL");const e=F6(t.storage,t._location,eb());return t.storage.makeRequestWithTokens(e,Fs).then(n=>{if(n===null)throw a6();return n})}function X6(t,e){const n=A6(t._location.path,e),i=new cn(t._location.bucket,n);return new ps(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){return/^[A-Za-z]+:\/\//.test(t)}function ez(t,e){return new ps(t,e)}function sb(t,e){if(t instanceof ky){const n=t;if(n._bucket==null)throw s6();const i=new ps(n,n._bucket);return e!=null?sb(i,e):i}else return e!==void 0?X6(t,e):t}function tz(t,e){if(e&&J6(e)){if(t instanceof ky)return ez(t,e);throw Jm("To use ref(service, url), the first argument must be a Storage instance.")}else return sb(t,e)}function R1(t,e){const n=e==null?void 0:e[jI];return n==null?null:cn.makeFromBucketSpec(n,t)}function nz(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:wT(r,t.app.options.projectId))}class ky{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=UI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=K$,this._maxUploadRetryTime=Y$,this._requests=new Set,r!=null?this._bucket=cn.makeFromBucketSpec(r,this._host):this._bucket=R1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=R1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ps(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new c6(qI());{const a=E6(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const M1="@firebase/storage",D1="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="storage";function ab(t,e,n){return t=Qe(t),Y6(t,e,n)}function lb(t){return t=Qe(t),Q6(t)}function ub(t,e){return t=Qe(t),tz(t,e)}function cb(t=cv(),e){t=Qe(t);const i=qh(t,ob).getImmediate({identifier:e}),r=vT("storage");return r&&iz(i,...r),i}function iz(t,e,n,i={}){nz(t,e,n,i)}function rz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new ky(n,i,r,e,_s)}function sz(){os(new _r(ob,rz,"PUBLIC").setMultipleInstances(!0)),ri(M1,D1,""),ri(M1,D1,"esm2017")}sz();let nc;const oz=new Uint8Array(16);function az(){if(!nc&&(nc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nc(oz)}const _t=[];for(let t=0;t<256;++t)_t.push((t+256).toString(16).slice(1));function lz(t,e=0){return(_t[t[e+0]]+_t[t[e+1]]+_t[t[e+2]]+_t[t[e+3]]+"-"+_t[t[e+4]]+_t[t[e+5]]+"-"+_t[t[e+6]]+_t[t[e+7]]+"-"+_t[t[e+8]]+_t[t[e+9]]+"-"+_t[t[e+10]]+_t[t[e+11]]+_t[t[e+12]]+_t[t[e+13]]+_t[t[e+14]]+_t[t[e+15]]).toLowerCase()}const uz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$1={randomUUID:uz};function hb(t,e,n){if($1.randomUUID&&!e&&!t)return $1.randomUUID();t=t||{};const i=t.random||(t.rng||az)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return lz(i)}const cz=()=>{const t=Ml(),e=Yh(),[n,i]=O.useState(!0),[r,s]=O.useState(!1),[a,u]=O.useState({type:"rent",name:"",bedrooms:1,bathrooms:1,parking:!1,furnished:!1,address:"",description:"",offer:!1,regularPrice:0,discountedPrice:0,images:{},latitude:0,longitude:0}),{type:c,name:d,bedrooms:p,bathrooms:m,parking:_,furnished:w,address:T,description:S,offer:I,regularPrice:v,discountedPrice:y,images:x,latitude:C,longitude:P}=a;function N(A){let z=null;A.target.value==="true"&&(z=!0),A.target.value==="false"&&(z=!1),A.target.files&&u(K=>({...K,images:A.target.files})),A.target.files||u(K=>({...K,[A.target.id]:z??A.target.value}))}async function F(A){var B,G;if(A.preventDefault(),s(!0),+y>=+v){s(!1),xe.error("Discounted price needs to be less than regular price");return}if(x.length>6){s(!1),xe.error("Maximum 6 images are allowed");return}let z={};if(n){const W=await fetch(`https://api.tomtom.com/search/2/geocode/${encodeURIComponent(T)}.json?key=gvLwIs1WuVuZqXnIAnHlczopWpN9ELLa`),{results:Z}=await W.json();if(console.log(Z),z.lat=((B=Z[0])==null?void 0:B.position.lat)??0,z.lng=((G=Z[0])==null?void 0:G.position.lon)??0,console.log(z.lat,z.lng),!Z.length)return s(!1),xe.error("Please enter a correct address")}else z.lat=C,z.lng=P;async function K(W){return new Promise((Z,R)=>{const j=cb(),$=`${e.currentUser.uid}-${W.name}-${hb()}`,ee=ub(j,$),re=ab(ee,W);re.on("state_changed",de=>{const we=de.bytesTransferred/de.totalBytes*100;switch(console.log("Upload is "+we+"% done"),de.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},de=>{R(de)},()=>{lb(re.snapshot.ref).then(de=>{Z(de)})})})}const H=await Promise.all([...x].map(W=>K(W))).catch(W=>(s(!1),xe.error("Images not uploaded"))),U={...a,imgUrls:H,geolocation:z,timestamp:PI(),userRef:e.currentUser.uid};delete U.images,delete U.latitude,delete U.longitude,!U.offer&&delete U.discountedPrice;const V=await p$(fI(gr,"listings"),U);s(!1),xe.success("Listing created successfully"),t(`/category/${U.type}/${V.id}`)}return r?b.jsx(Hh,{}):b.jsxs("main",{className:"max-w-md px-2 mx-auto ",children:[b.jsx("h1",{className:"text-3xl text-center mt-6 font-bold",children:"Create a Listing"}),b.jsxs("form",{onSubmit:F,children:[b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Sell / Rent"}),b.jsxs("div",{className:"flex ",children:[b.jsx("button",{id:"type",value:"sale",onClick:N,type:"button",className:`mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${c==="rent"?"bg-white text-black":"bg-slate-400 text-white"}`,children:"Sell"}),b.jsx("button",{id:"type",value:"rent",onClick:N,type:"button",className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${c==="sale"?"bg-white text-black":"bg-slate-400 text-white"}`,children:"Rent"})]}),b.jsx("p",{className:"text-lg font-semibold",children:"Name"}),b.jsx("input",{type:"text",id:"name",value:d,placeholder:"Name",maxLength:"32",minLength:"10",required:!0,onChange:N,className:"w-full px-4 py-2 text-lg text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600 mb-6"}),b.jsxs("div",{className:"flex space-x-6 mb-6",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold",children:"Beds"}),b.jsx("input",{type:"number",id:"bedrooms",value:p,min:"1",max:"50",required:!0,onChange:N,className:"w-full px-4 py-2 text-xl text-center text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold",children:"Baths"}),b.jsx("input",{type:"number",id:"bathrooms",value:m,min:"1",max:"50",required:!0,onChange:N,className:"w-full px-4 py-2 text-xl text-center text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600"})]})]}),b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Parking spot"}),b.jsxs("div",{className:"flex ",children:[b.jsx("button",{id:"parking",value:!0,onClick:N,type:"button",className:`mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${_?"bg-slate-400 text-white":"bg-white text-black"}`,children:"Yes"}),b.jsx("button",{id:"parking",value:!1,onClick:N,type:"button",className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${_?"bg-white text-black":"bg-slate-400 text-white"}`,children:"No"})]}),b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Furnished"}),b.jsxs("div",{className:"flex ",children:[b.jsx("button",{id:"furnished",value:!0,onClick:N,type:"button",className:`mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${w?"bg-slate-400 text-white":"bg-white text-black"}`,children:"Yes"}),b.jsx("button",{id:"furnished",value:!1,onClick:N,type:"button",className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${w?"bg-white text-black":"bg-slate-400 text-white"}`,children:"No"})]}),b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Address"}),b.jsx("textarea",{type:"text",id:"address",value:T,placeholder:"Address",required:!0,onChange:N,className:"w-full px-4 py-2 text-lg text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600 mb-6"}),!n&&b.jsxs("div",{className:"flex mb-6 space-x-6",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold",children:"Latitude"}),b.jsx("input",{type:"number",id:"latitude",value:C,onChange:N,required:!0,min:"-90",max:"90",className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:bg-white  focus:text-gray-800 focus:border-slate-600 text-center"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold",children:"Longitude"}),b.jsx("input",{type:"number",id:"longitude",value:P,onChange:N,required:!0,min:"-180",max:"180",className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:bg-white  focus:text-gray-800 focus:border-slate-600 text-center"})]})]}),b.jsx("p",{className:"text-lg font-semibold",children:"Description"}),b.jsx("textarea",{type:"text",id:"description",value:S,placeholder:"Description",required:!0,onChange:N,className:"w-full px-4 py-2 text-lg text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600 mb-6"}),b.jsx("p",{className:"text-lg font-semibold",children:"Offer"}),b.jsxs("div",{className:"flex mb-6",children:[b.jsx("button",{id:"offer",value:!0,onClick:N,type:"button",className:`mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${I?"bg-slate-400 text-white":"bg-white text-black"}`,children:"Yes"}),b.jsx("button",{id:"offer",value:!1,onClick:N,type:"button",className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${I?"bg-white text-black":"bg-slate-400 text-white"}`,children:"No"})]}),b.jsx("div",{className:"flex items-center mb-6",children:b.jsxs("div",{children:[b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Regular Price"}),b.jsxs("div",{className:"flex w-full justify-center items-center space-x-6",children:[b.jsx("input",{type:"number",id:"regularPrice",value:v,min:"50",max:"400000000",required:!0,onChange:N,className:"w-full px-4 py-2 text-xl text-center text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600"}),c==="rent"&&b.jsx("div",{children:b.jsx("p",{className:"text-md w-full whitespace-nowrap",children:"$ / Month"})})]})]})}),I&&b.jsx("div",{className:"flex items-center mb-6",children:b.jsxs("div",{children:[b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Discounted Price"}),b.jsxs("div",{className:"flex w-full justify-center items-center space-x-6",children:[b.jsx("input",{type:"number",id:"discountedPrice",value:y,min:"50",max:"400000000",required:I,onChange:N,className:"w-full px-4 py-2 text-xl text-center text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600"}),I&&b.jsx("div",{children:b.jsx("p",{className:"text-md w-full whitespace-nowrap",children:"$ / Month"})})]})]})}),b.jsxs("div",{className:"mb-6",children:[b.jsx("p",{className:"text-lg font-semibold",children:"Images"}),b.jsx("p",{className:"text-gray-600",children:"The first image will be the cover (max 6)"}),b.jsx("input",{type:"file",id:"images",onChange:N,accept:".jpg, .png, .jpeg",multiple:!0,required:!0,className:"w-full px-3 py-1.5 text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:bg-white focus:border-slate-600"})]}),b.jsx("button",{type:"submit",className:"mb-6 w-full px-7 py-3 bg-blue-700 text-white font-medium text-sm uppercase rounded shadow-md hover:bg-blue-600 hover:shadow-lg focus:bg-blue-600 focus:shadow-lg active:bg-blue-800 active:shadow-lg transition duration-200 ease-in-out",children:"Create listing"})]})]})},hz=()=>{const t=Ml(),e=Yh(),[n,i]=O.useState(!0),[r,s]=O.useState(null),[a,u]=O.useState(!1),[c,d]=O.useState({type:"rent",name:"",bedrooms:1,bathrooms:1,parking:!1,furnished:!1,address:"",description:"",offer:!1,regularPrice:0,discountedPrice:0,images:{},latitude:0,longitude:0}),{type:p,name:m,bedrooms:_,bathrooms:w,parking:T,furnished:S,address:I,description:v,offer:y,regularPrice:x,discountedPrice:C,images:P,latitude:N,longitude:F}=c,A=cT();O.useEffect(()=>{r&&r.userRef!==e.currentUser.uid&&(xe.error("You can't edit this listing"),t("/"))},[e.currentUser.uid,r,t]),O.useEffect(()=>{u(!0);async function H(){const U=ds(gr,"listings",A.listingId),V=await xy(U);V.exists()?(s(V.data()),d({...V.data()}),u(!1)):(t("/"),xe.error("Listing doesn`t exist"))}H()},[A.listingId,t]);function z(H){let U=null;H.target.value==="true"&&(U=!0),H.target.value==="false"&&(U=!1),H.target.files&&d(V=>({...V,images:H.target.files})),H.target.files||d(V=>({...V,[H.target.id]:U??H.target.value}))}async function K(H){var Z,R;if(H.preventDefault(),u(!0),+C>=+x){u(!1),xe.error("Discounted price needs to be less than regular price");return}if(P.length>6){u(!1),xe.error("Maximum 6 images are allowed");return}let U={};if(n){const j=await fetch(`https://api.tomtom.com/search/2/geocode/${encodeURIComponent(I)}.json?key=gvLwIs1WuVuZqXnIAnHlczopWpN9ELLa`),{results:$}=await j.json();if(console.log($),U.lat=((Z=$[0])==null?void 0:Z.position.lat)??0,U.lng=((R=$[0])==null?void 0:R.position.lon)??0,console.log(U.lat,U.lng),!$.length)return u(!1),xe.error("Please enter a correct address")}else U.lat=N,U.lng=F;async function V(j){return new Promise(($,ee)=>{const re=cb(),de=`${e.currentUser.uid}-${j.name}-${hb()}`,we=ub(re,de),me=ab(we,j);me.on("state_changed",oe=>{const Ke=oe.bytesTransferred/oe.totalBytes*100;switch(console.log("Upload is "+Ke+"% done"),oe.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}},oe=>{ee(oe)},()=>{lb(me.snapshot.ref).then(oe=>{$(oe)})})})}const B=await Promise.all([...P].map(j=>V(j))).catch(j=>(u(!1),console.log(j),xe.error("Images not uploaded"))),G={...c,imgUrls:B,geolocation:U,timestamp:PI(),userRef:e.currentUser.uid};delete G.images,delete G.latitude,delete G.longitude,!G.offer&&delete G.discountedPrice;const W=ds(gr,"listings",A.listingId);await kI(W,G),u(!1),xe.success("Listing edited successfully"),t(`/category/${G.type}/${W.id}`)}return a?b.jsx(Hh,{}):b.jsxs("main",{className:"max-w-md px-2 mx-auto ",children:[b.jsx("h1",{className:"text-3xl text-center mt-6 font-bold",children:"Edit a Listing"}),b.jsxs("form",{onSubmit:K,children:[b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Sell / Rent"}),b.jsxs("div",{className:"flex ",children:[b.jsx("button",{id:"type",value:"sale",onClick:z,type:"button",className:`mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${p==="rent"?"bg-white text-black":"bg-slate-400 text-white"}`,children:"Sell"}),b.jsx("button",{id:"type",value:"rent",onClick:z,type:"button",className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${p==="sale"?"bg-white text-black":"bg-slate-400 text-white"}`,children:"Rent"})]}),b.jsx("p",{className:"text-lg font-semibold",children:"Name"}),b.jsx("input",{type:"text",id:"name",value:m,placeholder:"Name",maxLength:"37",minLength:"10",required:!0,onChange:z,className:"w-full px-4 py-2 text-lg text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600 mb-6"}),b.jsxs("div",{className:"flex space-x-6 mb-6",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold",children:"Beds"}),b.jsx("input",{type:"number",id:"bedrooms",value:_,min:"1",max:"50",required:!0,onChange:z,className:"w-full px-4 py-2 text-xl text-center text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold",children:"Baths"}),b.jsx("input",{type:"number",id:"bathrooms",value:w,min:"1",max:"50",required:!0,onChange:z,className:"w-full px-4 py-2 text-xl text-center text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600"})]})]}),b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Parking spot"}),b.jsxs("div",{className:"flex ",children:[b.jsx("button",{id:"parking",value:!0,onClick:z,type:"button",className:`mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${T?"bg-slate-400 text-white":"bg-white text-black"}`,children:"Yes"}),b.jsx("button",{id:"parking",value:!1,onClick:z,type:"button",className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${T?"bg-white text-black":"bg-slate-400 text-white"}`,children:"No"})]}),b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Furnished"}),b.jsxs("div",{className:"flex ",children:[b.jsx("button",{id:"furnished",value:!0,onClick:z,type:"button",className:`mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${S?"bg-slate-400 text-white":"bg-white text-black"}`,children:"Yes"}),b.jsx("button",{id:"furnished",value:!1,onClick:z,type:"button",className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${S?"bg-white text-black":"bg-slate-400 text-white"}`,children:"No"})]}),b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Address"}),b.jsx("textarea",{type:"text",id:"address",value:I,placeholder:"Address",required:!0,onChange:z,className:"w-full px-4 py-2 text-lg text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600 mb-6"}),!n&&b.jsxs("div",{className:"flex mb-6 space-x-6",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold",children:"Latitude"}),b.jsx("input",{type:"number",id:"latitude",value:N,onChange:z,required:!0,min:"-90",max:"90",className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:bg-white  focus:text-gray-800 focus:border-slate-600 text-center"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-lg font-semibold",children:"Longitude"}),b.jsx("input",{type:"number",id:"longitude",value:F,onChange:z,required:!0,min:"-180",max:"180",className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:bg-white  focus:text-gray-800 focus:border-slate-600 text-center"})]})]}),b.jsx("p",{className:"text-lg font-semibold",children:"Description"}),b.jsx("textarea",{type:"text",id:"description",value:v,placeholder:"Description",required:!0,onChange:z,className:"w-full px-4 py-2 text-lg text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600 mb-6"}),b.jsx("p",{className:"text-lg font-semibold",children:"Offer"}),b.jsxs("div",{className:"flex mb-6",children:[b.jsx("button",{id:"offer",value:!0,onClick:z,type:"button",className:`mr-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${y?"bg-slate-400 text-white":"bg-white text-black"}`,children:"Yes"}),b.jsx("button",{id:"offer",value:!1,onClick:z,type:"button",className:`ml-3 px-7 py-3 font-medium text-sm uppercase shadow-md rounded hover:shadow-lg focus:shadow-lg active:shadow-lg transition duration-200 ease-in-out w-full ${y?"bg-white text-black":"bg-slate-400 text-white"}`,children:"No"})]}),b.jsx("div",{className:"flex items-center mb-6",children:b.jsxs("div",{children:[b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Regular Price"}),b.jsxs("div",{className:"flex w-full justify-center items-center space-x-6",children:[b.jsx("input",{type:"number",id:"regularPrice",value:x,min:"50",max:"400000000",required:!0,onChange:z,className:"w-full px-4 py-2 text-xl text-center text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600"}),p==="rent"&&b.jsx("div",{children:b.jsx("p",{className:"text-md w-full whitespace-nowrap",children:"$ / Month"})})]})]})}),y&&b.jsx("div",{className:"flex items-center mb-6",children:b.jsxs("div",{children:[b.jsx("p",{className:"text-lg mt-6 font-semibold",children:"Discounted Price"}),b.jsxs("div",{className:"flex w-full justify-center items-center space-x-6",children:[b.jsx("input",{type:"number",id:"discountedPrice",value:C,min:"50",max:"400000000",required:y,onChange:z,className:"w-full px-4 py-2 text-xl text-center text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-800 focus:bg-white focus:border-slate-600"}),y&&b.jsx("div",{children:b.jsx("p",{className:"text-md w-full whitespace-nowrap",children:"$ / Month"})})]})]})}),b.jsxs("div",{className:"mb-6",children:[b.jsx("p",{className:"text-lg font-semibold",children:"Images"}),b.jsx("p",{className:"text-gray-600",children:"The first image will be the cover (max 6)"}),b.jsx("input",{type:"file",id:"images",onChange:z,accept:".jpg, .png, .jpeg",multiple:!0,required:!0,className:"w-full px-3 py-1.5 text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:bg-white focus:border-slate-600"})]}),b.jsx("button",{type:"submit",className:"mb-6 w-full px-7 py-3 bg-blue-700 text-white font-medium text-sm uppercase rounded shadow-md hover:bg-blue-600 hover:shadow-lg focus:bg-blue-600 focus:shadow-lg active:bg-blue-800 active:shadow-lg transition duration-200 ease-in-out",children:"Edit listing"})]})]})};function z1(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Py(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:z1(e[n])&&z1(t[n])&&Object.keys(e[n]).length>0&&Py(t[n],e[n])})}const db={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function li(){const t=typeof document<"u"?document:{};return Py(t,db),t}const dz={document:db,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function gn(){const t=typeof window<"u"?window:{};return Py(t,dz),t}function fz(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function eg(t,e=0){return setTimeout(t,e)}function Th(){return Date.now()}function pz(t){const e=gn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function mz(t,e="x"){const n=gn();let i,r,s;const a=pz(t);return n.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(u=>u.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function ic(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function gz(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function an(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<t.length;i+=1){const r=t[i];if(r!=null&&!gz(r)){const s=Object.keys(Object(r)).filter(a=>n.indexOf(a)<0);for(let a=0,u=s.length;a<u;a+=1){const c=s[a],d=Object.getOwnPropertyDescriptor(r,c);d!==void 0&&d.enumerable&&(ic(e[c])&&ic(r[c])?r[c].__swiper__?e[c]=r[c]:an(e[c],r[c]):!ic(e[c])&&ic(r[c])?(e[c]={},r[c].__swiper__?e[c]=r[c]:an(e[c],r[c])):e[c]=r[c])}}}return e}function rc(t,e,n){t.style.setProperty(e,n)}function fb({swiper:t,targetPosition:e,side:n}){const i=gn(),r=-t.translate;let s=null,a;const u=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const c=e>r?"next":"prev",d=(m,_)=>c==="next"&&m>=_||c==="prev"&&m<=_,p=()=>{a=new Date().getTime(),s===null&&(s=a);const m=Math.max(Math.min((a-s)/u,1),0),_=.5-Math.cos(m*Math.PI)/2;let w=r+_*(e-r);if(d(w,e)&&(w=e),t.wrapperEl.scrollTo({[n]:w}),d(w,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:w})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(p)};p()}function pb(t){return t.querySelector(".swiper-slide-transform")||t.shadowEl&&t.shadowEl.querySelector(".swiper-slide-transform")||t}function ti(t,e=""){return[...t.children].filter(n=>n.matches(e))}function mb(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function vz(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function yz(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function tr(t,e){return gn().getComputedStyle(t,null).getPropertyValue(e)}function Sh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function gb(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function _z(t,e){function n(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function tg(t,e,n){const i=gn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}let gp;function wz(){const t=gn(),e=li();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function vb(){return gp||(gp=wz()),gp}let vp;function Ez({userAgent:t}={}){const e=vb(),n=gn(),i=n.navigator.platform,r=t||n.navigator.userAgent,s={ios:!1,android:!1},a=n.screen.width,u=n.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let d=r.match(/(iPad).*OS\s([\d_]+)/);const p=r.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),_=i==="Win32";let w=i==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&w&&e.touch&&T.indexOf(`${a}x${u}`)>=0&&(d=r.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),w=!1),c&&!_&&(s.os="android",s.android=!0),(d||m||p)&&(s.os="ios",s.ios=!0),s}function xz(t={}){return vp||(vp=Ez(t)),vp}let yp;function Tz(){const t=gn();let e=!1;function n(){const i=t.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(n()){const i=String(t.navigator.userAgent);if(i.includes("Version/")){const[r,s]=i.split("Version/")[1].split(" ")[0].split(".").map(a=>Number(a));e=r<16||r===16&&s<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Sz(){return yp||(yp=Tz()),yp}function Cz({swiper:t,on:e,emit:n}){const i=gn();let r=null,s=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},u=()=>{!t||t.destroyed||!t.initialized||(r=new ResizeObserver(p=>{s=i.requestAnimationFrame(()=>{const{width:m,height:_}=t;let w=m,T=_;p.forEach(({contentBoxSize:S,contentRect:I,target:v})=>{v&&v!==t.el||(w=I?I.width:(S[0]||S).inlineSize,T=I?I.height:(S[0]||S).blockSize)}),(w!==m||T!==_)&&a()})}),r.observe(t.el))},c=()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null)},d=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){u();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",d)}),e("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",d)})}function Iz({swiper:t,extendParams:e,on:n,emit:i}){const r=[],s=gn(),a=(d,p={})=>{const m=s.MutationObserver||s.WebkitMutationObserver,_=new m(w=>{if(t.__preventObserver__)return;if(w.length===1){i("observerUpdate",w[0]);return}const T=function(){i("observerUpdate",w[0])};s.requestAnimationFrame?s.requestAnimationFrame(T):s.setTimeout(T,0)});_.observe(d,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:typeof p.childList>"u"?!0:p.childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),r.push(_)},u=()=>{if(t.params.observer){if(t.params.observeParents){const d=gb(t.el);for(let p=0;p<d.length;p+=1)a(d[p])}a(t.el,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(d=>{d.disconnect()}),r.splice(0,r.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",u),n("destroy",c)}const bz={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(...s){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,s)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,i,r;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],i=t.slice(1,t.length),r=e):(n=t[0].events,i=t[0].data,r=t[0].context||e),i.unshift(r),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(u=>{u.apply(r,[a,...i])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(u=>{u.apply(r,i)})}),e}};function kz(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(tr(i,"padding-left")||0,10)-parseInt(tr(i,"padding-right")||0,10),n=n-parseInt(tr(i,"padding-top")||0,10)-parseInt(tr(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Pz(){const t=this;function e(H){return t.isHorizontal()?H:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[H]}function n(H,U){return parseFloat(H.getPropertyValue(e(U))||0)}const i=t.params,{wrapperEl:r,slidesEl:s,size:a,rtlTranslate:u,wrongRTL:c}=t,d=t.virtual&&i.virtual.enabled,p=d?t.virtual.slides.length:t.slides.length,m=ti(s,`.${t.params.slideClass}, swiper-slide`),_=d?t.virtual.slides.length:m.length;let w=[];const T=[],S=[];let I=i.slidesOffsetBefore;typeof I=="function"&&(I=i.slidesOffsetBefore.call(t));let v=i.slidesOffsetAfter;typeof v=="function"&&(v=i.slidesOffsetAfter.call(t));const y=t.snapGrid.length,x=t.slidesGrid.length;let C=i.spaceBetween,P=-I,N=0,F=0;if(typeof a>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*a:typeof C=="string"&&(C=parseFloat(C)),t.virtualSize=-C,m.forEach(H=>{u?H.style.marginLeft="":H.style.marginRight="",H.style.marginBottom="",H.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(rc(r,"--swiper-centered-offset-before",""),rc(r,"--swiper-centered-offset-after",""));const A=i.grid&&i.grid.rows>1&&t.grid;A&&t.grid.initSlides(_);let z;const K=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(H=>typeof i.breakpoints[H].slidesPerView<"u").length>0;for(let H=0;H<_;H+=1){z=0;let U;if(m[H]&&(U=m[H]),A&&t.grid.updateSlide(H,U,_,e),!(m[H]&&tr(U,"display")==="none")){if(i.slidesPerView==="auto"){K&&(m[H].style[e("width")]="");const V=getComputedStyle(U),B=U.style.transform,G=U.style.webkitTransform;if(B&&(U.style.transform="none"),G&&(U.style.webkitTransform="none"),i.roundLengths)z=t.isHorizontal()?tg(U,"width",!0):tg(U,"height",!0);else{const W=n(V,"width"),Z=n(V,"padding-left"),R=n(V,"padding-right"),j=n(V,"margin-left"),$=n(V,"margin-right"),ee=V.getPropertyValue("box-sizing");if(ee&&ee==="border-box")z=W+j+$;else{const{clientWidth:re,offsetWidth:de}=U;z=W+Z+R+j+$+(de-re)}}B&&(U.style.transform=B),G&&(U.style.webkitTransform=G),i.roundLengths&&(z=Math.floor(z))}else z=(a-(i.slidesPerView-1)*C)/i.slidesPerView,i.roundLengths&&(z=Math.floor(z)),m[H]&&(m[H].style[e("width")]=`${z}px`);m[H]&&(m[H].swiperSlideSize=z),S.push(z),i.centeredSlides?(P=P+z/2+N/2+C,N===0&&H!==0&&(P=P-a/2-C),H===0&&(P=P-a/2-C),Math.abs(P)<1/1e3&&(P=0),i.roundLengths&&(P=Math.floor(P)),F%i.slidesPerGroup===0&&w.push(P),T.push(P)):(i.roundLengths&&(P=Math.floor(P)),(F-Math.min(t.params.slidesPerGroupSkip,F))%t.params.slidesPerGroup===0&&w.push(P),T.push(P),P=P+z+C),t.virtualSize+=z+C,N=z,F+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+v,u&&c&&(i.effect==="slide"||i.effect==="coverflow")&&(r.style.width=`${t.virtualSize+C}px`),i.setWrapperSize&&(r.style[e("width")]=`${t.virtualSize+C}px`),A&&t.grid.updateWrapperSize(z,w,e),!i.centeredSlides){const H=[];for(let U=0;U<w.length;U+=1){let V=w[U];i.roundLengths&&(V=Math.floor(V)),w[U]<=t.virtualSize-a&&H.push(V)}w=H,Math.floor(t.virtualSize-a)-Math.floor(w[w.length-1])>1&&w.push(t.virtualSize-a)}if(d&&i.loop){const H=S[0]+C;if(i.slidesPerGroup>1){const U=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/i.slidesPerGroup),V=H*i.slidesPerGroup;for(let B=0;B<U;B+=1)w.push(w[w.length-1]+V)}for(let U=0;U<t.virtual.slidesBefore+t.virtual.slidesAfter;U+=1)i.slidesPerGroup===1&&w.push(w[w.length-1]+H),T.push(T[T.length-1]+H),t.virtualSize+=H}if(w.length===0&&(w=[0]),C!==0){const H=t.isHorizontal()&&u?"marginLeft":e("marginRight");m.filter((U,V)=>!i.cssMode||i.loop?!0:V!==m.length-1).forEach(U=>{U.style[H]=`${C}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let H=0;S.forEach(V=>{H+=V+(C||0)}),H-=C;const U=H-a;w=w.map(V=>V<=0?-I:V>U?U+v:V)}if(i.centerInsufficientSlides){let H=0;if(S.forEach(U=>{H+=U+(C||0)}),H-=C,H<a){const U=(a-H)/2;w.forEach((V,B)=>{w[B]=V-U}),T.forEach((V,B)=>{T[B]=V+U})}}if(Object.assign(t,{slides:m,snapGrid:w,slidesGrid:T,slidesSizesGrid:S}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){rc(r,"--swiper-centered-offset-before",`${-w[0]}px`),rc(r,"--swiper-centered-offset-after",`${t.size/2-S[S.length-1]/2}px`);const H=-t.snapGrid[0],U=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(V=>V+H),t.slidesGrid=t.slidesGrid.map(V=>V+U)}if(_!==p&&t.emit("slidesLengthChange"),w.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),T.length!==x&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),!d&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const H=`${i.containerModifierClass}backface-hidden`,U=t.el.classList.contains(H);_<=i.maxBackfaceHiddenSlides?U||t.el.classList.add(H):U&&t.el.classList.remove(H)}}function Lz(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=u=>i?e.slides[e.getSlideIndexByData(u)]:e.slides[u];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(u=>{n.push(u)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const u=e.activeIndex+s;if(u>e.slides.length&&!i)break;n.push(a(u))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const u=n[s].offsetHeight;r=u>r?u:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Nz(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}function Az(t=this&&this.translate||0){const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;r&&(a=t),i.forEach(c=>{c.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let u=n.spaceBetween;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:typeof u=="string"&&(u=parseFloat(u));for(let c=0;c<i.length;c+=1){const d=i[c];let p=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=i[0].swiperSlideOffset);const m=(a+(n.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+u),_=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+u),w=-(a-p),T=w+e.slidesSizesGrid[c];(w>=0&&w<e.size-1||T>1&&T<=e.size||w<=0&&T>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c),i[c].classList.add(n.slideVisibleClass)),d.progress=r?-m:m,d.originalProgress=r?-_:_}}function Oz(t){const e=this;if(typeof t>"u"){const p=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*p||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:a,progressLoop:u}=e;const c=s,d=a;if(i===0)r=0,s=!0,a=!0;else{r=(t-e.minTranslate())/i;const p=Math.abs(t-e.minTranslate())<1,m=Math.abs(t-e.maxTranslate())<1;s=p||r<=0,a=m||r>=1,p&&(r=0),m&&(r=1)}if(n.loop){const p=e.getSlideIndexByData(0),m=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[p],w=e.slidesGrid[m],T=e.slidesGrid[e.slidesGrid.length-1],S=Math.abs(t);S>=_?u=(S-_)/T:u=(S+T-w)/T,u>1&&(u-=1)}Object.assign(e,{progress:r,progressLoop:u,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!c&&e.emit("reachBeginning toEdge"),a&&!d&&e.emit("reachEnd toEdge"),(c&&!s||d&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}function Rz(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,a=c=>ti(i,`.${n.slideClass}${c}, swiper-slide${c}`)[0];e.forEach(c=>{c.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let u;if(s)if(n.loop){let c=r-t.virtual.slidesBefore;c<0&&(c=t.virtual.slides.length+c),c>=t.virtual.slides.length&&(c-=t.virtual.slides.length),u=a(`[data-swiper-slide-index="${c}"]`)}else u=a(`[data-swiper-slide-index="${r}"]`);else u=e[r];if(u){u.classList.add(n.slideActiveClass);let c=yz(u,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!c&&(c=e[0]),c&&c.classList.add(n.slideNextClass);let d=vz(u,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(n.slidePrevClass)}t.emitSlidesClasses()}const Ic=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){const r=i.querySelector(`.${t.params.lazyPreloaderClass}`);r&&r.remove()}},_p=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},ng=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=r,u=[a-e];u.push(...Array.from({length:e}).map((c,d)=>a+i+d)),t.slides.forEach((c,d)=>{u.includes(c.column)&&_p(t,d)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let a=r-e;a<=s+e;a+=1){const u=(a%n+n)%n;(u<r||u>s)&&_p(t,u)}else for(let a=Math.max(r-e,0);a<=Math.min(s+e,n-1);a+=1)a!==r&&(a>s||a<r)&&_p(t,a)};function Mz(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function Dz(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:a,snapIndex:u}=e;let c=t,d;const p=_=>{let w=_-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof c>"u"&&(c=Mz(e)),i.indexOf(n)>=0)d=i.indexOf(n);else{const _=Math.min(r.slidesPerGroupSkip,c);d=_+Math.floor((c-_)/r.slidesPerGroup)}if(d>=i.length&&(d=i.length-1),c===s){d!==u&&(e.snapIndex=d,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=p(c));return}let m;e.virtual&&r.virtual.enabled&&r.loop?m=p(c):e.slides[c]?m=parseInt(e.slides[c].getAttribute("data-swiper-slide-index")||c,10):m=c,Object.assign(e,{previousSnapIndex:u,snapIndex:d,previousRealIndex:a,realIndex:m,previousIndex:s,activeIndex:c}),e.initialized&&ng(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==m&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function $z(t){const e=this,n=e.params,i=t.closest(`.${n.slideClass}, swiper-slide`);let r=!1,s;if(i){for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===i){r=!0,s=a;break}}if(i&&r)e.clickedSlide=i,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=s;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const zz={updateSize:kz,updateSlides:Pz,updateAutoHeight:Lz,updateSlidesOffset:Nz,updateSlidesProgress:Az,updateProgress:Oz,updateSlidesClasses:Rz,updateActiveIndex:Dz,updateClickedSlide:$z};function Bz(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let a=mz(s,t);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function Fz(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:a}=n;let u=0,c=0;const d=0;n.isHorizontal()?u=i?-t:t:c=t,r.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:r.virtualTranslate||(n.isHorizontal()?u-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${u}px, ${c}px, ${d}px)`);let p;const m=n.maxTranslate()-n.minTranslate();m===0?p=0:p=(t-n.minTranslate())/m,p!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Uz(){return-this.snapGrid[0]}function jz(){return-this.snapGrid[this.snapGrid.length-1]}function Vz(t=0,e=this.params.speed,n=!0,i=!0,r){const s=this,{params:a,wrapperEl:u}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const c=s.minTranslate(),d=s.maxTranslate();let p;if(i&&t>c?p=c:i&&t<d?p=d:p=t,s.updateProgress(p),a.cssMode){const m=s.isHorizontal();if(e===0)u[m?"scrollLeft":"scrollTop"]=-p;else{if(!s.support.smoothScroll)return fb({swiper:s,targetPosition:-p,side:m?"left":"top"}),!0;u.scrollTo({[m?"left":"top"]:-p,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(_){!s||s.destroyed||_.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}const Hz={getTranslate:Bz,setTranslate:Fz,minTranslate:Uz,maxTranslate:jz,translateTo:Vz};function Wz(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`),n.emit("setTransition",t,e)}function yb({swiper:t,runCallbacks:e,direction:n,step:i}){const{activeIndex:r,previousIndex:s}=t;let a=n;if(a||(r>s?a="next":r<s?a="prev":a="reset"),t.emit(`transition${i}`),e&&r!==s){if(a==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`),a==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}function qz(t=!0,e){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),yb({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Gz(t=!0,e){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),yb({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const Zz={setTransition:Wz,transitionStart:qz,transitionEnd:Gz};function Kz(t=0,e=this.params.speed,n=!0,i,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:u,snapGrid:c,slidesGrid:d,previousIndex:p,activeIndex:m,rtlTranslate:_,wrapperEl:w,enabled:T}=s;if(s.animating&&u.preventInteractionOnTransition||!T&&!i&&!r)return!1;const S=Math.min(s.params.slidesPerGroupSkip,a);let I=S+Math.floor((a-S)/s.params.slidesPerGroup);I>=c.length&&(I=c.length-1);const v=-c[I];if(u.normalizeSlideIndex)for(let x=0;x<d.length;x+=1){const C=-Math.floor(v*100),P=Math.floor(d[x]*100),N=Math.floor(d[x+1]*100);typeof d[x+1]<"u"?C>=P&&C<N-(N-P)/2?a=x:C>=P&&C<N&&(a=x+1):C>=P&&(a=x)}if(s.initialized&&a!==m&&(!s.allowSlideNext&&(_?v>s.translate&&v>s.minTranslate():v<s.translate&&v<s.minTranslate())||!s.allowSlidePrev&&v>s.translate&&v>s.maxTranslate()&&(m||0)!==a))return!1;a!==(p||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(v);let y;if(a>m?y="next":a<m?y="prev":y="reset",_&&-v===s.translate||!_&&v===s.translate)return s.updateActiveIndex(a),u.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),u.effect!=="slide"&&s.setTranslate(v),y!=="reset"&&(s.transitionStart(n,y),s.transitionEnd(n,y)),!1;if(u.cssMode){const x=s.isHorizontal(),C=_?v:-v;if(e===0){const P=s.virtual&&s.params.virtual.enabled;P&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),P&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[x?"scrollLeft":"scrollTop"]=C})):w[x?"scrollLeft":"scrollTop"]=C,P&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return fb({swiper:s,targetPosition:C,side:x?"left":"top"}),!0;w.scrollTo({[x?"left":"top"]:C,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(v),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,y),e===0?s.transitionEnd(n,y):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(C){!s||s.destroyed||C.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,y))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function Yz(t=0,e=this.params.speed,n=!0,i){typeof t=="string"&&(t=parseInt(t,10));const r=this;let s=t;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?s=s+r.virtual.slidesBefore:s=r.getSlideIndexByData(s)),r.slideTo(s,e,n,i)}function Qz(t=this.params.speed,e=!0,n){const i=this,{enabled:r,params:s,animating:a}=i;if(!r)return i;let u=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(u=Math.max(i.slidesPerViewDynamic("current",!0),1));const c=i.activeIndex<s.slidesPerGroupSkip?1:u,d=i.virtual&&s.virtual.enabled;if(s.loop){if(a&&!d&&s.loopPreventsSliding)return!1;i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+c,t,e,n)}function Xz(t=this.params.speed,e=!0,n){const i=this,{params:r,snapGrid:s,slidesGrid:a,rtlTranslate:u,enabled:c,animating:d}=i;if(!c)return i;const p=i.virtual&&r.virtual.enabled;if(r.loop){if(d&&!p&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const m=u?i.translate:-i.translate;function _(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const w=_(m),T=s.map(v=>_(v));let S=s[T.indexOf(w)-1];if(typeof S>"u"&&r.cssMode){let v;s.forEach((y,x)=>{w>=y&&(v=x)}),typeof v<"u"&&(S=s[v>0?v-1:v])}let I=0;if(typeof S<"u"&&(I=a.indexOf(S),I<0&&(I=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(I=I-i.slidesPerViewDynamic("previous",!0)+1,I=Math.max(I,0))),r.rewind&&i.isBeginning){const v=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(v,t,e,n)}return i.slideTo(I,t,e,n)}function Jz(t=this.params.speed,e=!0,n){const i=this;return i.slideTo(i.activeIndex,t,e,n)}function e9(t=this.params.speed,e=!0,n,i=.5){const r=this;let s=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,s),u=a+Math.floor((s-a)/r.params.slidesPerGroup),c=r.rtlTranslate?r.translate:-r.translate;if(c>=r.snapGrid[u]){const d=r.snapGrid[u],p=r.snapGrid[u+1];c-d>(p-d)*i&&(s+=r.params.slidesPerGroup)}else{const d=r.snapGrid[u-1],p=r.snapGrid[u];c-d<=(p-d)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function t9(){const t=this,{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(ti(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),eg(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(ti(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),eg(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}const n9={slideTo:Kz,slideToLoop:Yz,slideNext:Qz,slidePrev:Xz,slideReset:Jz,slideToClosest:e9,slideToClickedSlide:t9};function i9(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;ti(i,`.${n.slideClass}, swiper-slide`).forEach((s,a)=>{s.setAttribute("data-swiper-slide-index",a)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function r9({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:i,activeSlideIndex:r,byController:s,byMousewheel:a}={}){const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:p,slidesEl:m,params:_}=u;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&_.virtual.enabled){e&&(!_.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):_.centeredSlides&&u.snapIndex<_.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=d,u.allowSlideNext=p,u.emit("loopFix");return}const w=_.slidesPerView==="auto"?u.slidesPerViewDynamic():Math.ceil(parseFloat(_.slidesPerView,10));let T=_.loopedSlides||w;T%_.slidesPerGroup!==0&&(T+=_.slidesPerGroup-T%_.slidesPerGroup),u.loopedSlides=T;const S=[],I=[];let v=u.activeIndex;typeof r>"u"?r=u.getSlideIndex(u.slides.filter(N=>N.classList.contains(_.slideActiveClass))[0]):v=r;const y=n==="next"||!n,x=n==="prev"||!n;let C=0,P=0;if(r<T){C=Math.max(T-r,_.slidesPerGroup);for(let N=0;N<T-r;N+=1){const F=N-Math.floor(N/c.length)*c.length;S.push(c.length-F-1)}}else if(r>u.slides.length-T*2){P=Math.max(r-(u.slides.length-T*2),_.slidesPerGroup);for(let N=0;N<P;N+=1){const F=N-Math.floor(N/c.length)*c.length;I.push(F)}}if(x&&S.forEach(N=>{u.slides[N].swiperLoopMoveDOM=!0,m.prepend(u.slides[N]),u.slides[N].swiperLoopMoveDOM=!1}),y&&I.forEach(N=>{u.slides[N].swiperLoopMoveDOM=!0,m.append(u.slides[N]),u.slides[N].swiperLoopMoveDOM=!1}),u.recalcSlides(),_.slidesPerView==="auto"&&u.updateSlides(),_.watchSlidesProgress&&u.updateSlidesOffset(),e){if(S.length>0&&x)if(typeof t>"u"){const N=u.slidesGrid[v],A=u.slidesGrid[v+C]-N;a?u.setTranslate(u.translate-A):(u.slideTo(v+C,0,!1,!0),i&&(u.touches[u.isHorizontal()?"startX":"startY"]+=A))}else i&&u.slideToLoop(t,0,!1,!0);else if(I.length>0&&y)if(typeof t>"u"){const N=u.slidesGrid[v],A=u.slidesGrid[v-P]-N;a?u.setTranslate(u.translate-A):(u.slideTo(v-P,0,!1,!0),i&&(u.touches[u.isHorizontal()?"startX":"startY"]+=A))}else u.slideToLoop(t,0,!1,!0)}if(u.allowSlidePrev=d,u.allowSlideNext=p,u.controller&&u.controller.control&&!s){const N={slideRealIndex:t,slideTo:!1,direction:n,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(F=>{!F.destroyed&&F.params.loop&&F.loopFix(N)}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix(N)}u.emit("loopFix")}function s9(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}const o9={loopCreate:i9,loopFix:r9,loopDestroy:s9};function a9(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function l9(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}const u9={setGrabCursor:a9,unsetGrabCursor:l9};function c9(t,e=this){function n(i){if(!i||i===li()||i===gn())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function h9(t){const e=this,n=li(),i=gn(),r=e.touchEventsData;r.evCache.push(t);const{params:s,touches:a,enabled:u}=e;if(!u||!s.simulateTouch&&t.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=t;c.originalEvent&&(c=c.originalEvent);let d=c.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(d)||"which"in c&&c.which===3||"button"in c&&c.button>0||r.isTouched&&r.isMoved)return;const p=!!s.noSwipingClass&&s.noSwipingClass!=="",m=t.composedPath?t.composedPath():t.path;p&&c.target&&c.target.shadowRoot&&m&&(d=m[0]);const _=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,w=!!(c.target&&c.target.shadowRoot);if(s.noSwiping&&(w?c9(_,d):d.closest(_))){e.allowClick=!0;return}if(s.swipeHandler&&!d.closest(s.swipeHandler))return;a.currentX=c.pageX,a.currentY=c.pageY;const T=a.currentX,S=a.currentY,I=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,v=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(I&&(T<=v||T>=i.innerWidth-v))if(I==="prevent")t.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=T,a.startY=S,r.touchStartTime=Th(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let y=!0;d.matches(r.focusableElements)&&(y=!1,d.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==d&&n.activeElement.blur();const x=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||x)&&!d.isContentEditable&&c.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",c)}function d9(t){const e=li(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:u}=n;if(!u||!r.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=i.evCache.findIndex(N=>N.pointerId===c.pointerId);d>=0&&(i.evCache[d]=c);const p=i.evCache.length>1?i.evCache[0]:c,m=p.pageX,_=p.pageY;if(c.preventedByNestedSwiper){s.startX=m,s.startY=_;return}if(!n.allowTouchMove){c.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:m,startY:_,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:m,currentY:_}),i.touchStartTime=Th());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(_<s.startY&&n.translate<=n.maxTranslate()||_>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(m<s.startX&&n.translate<=n.maxTranslate()||m>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}if(i.allowTouchCallbacks&&n.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;s.currentX=m,s.currentY=_;const w=s.currentX-s.startX,T=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(w**2+T**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let N;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:w*w+T*T>=25&&(N=Math.atan2(Math.abs(T),Math.abs(w))*180/Math.PI,i.isScrolling=n.isHorizontal()?N>r.touchAngle:90-N>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",c),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation();let S=n.isHorizontal()?w:T,I=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(S=Math.abs(S)*(a?1:-1),I=Math.abs(I)*(a?1:-1)),s.diff=S,S*=r.touchRatio,a&&(S=-S,I=-I);const v=n.touchesDirection;n.swipeDirection=S>0?"prev":"next",n.touchesDirection=I>0?"prev":"next";const y=n.params.loop&&!r.cssMode;if(!i.isMoved){if(y&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const N=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(N)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let x;i.isMoved&&v!==n.touchesDirection&&y&&Math.abs(S)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),x=!0),n.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=S+i.startTranslate;let C=!0,P=r.resistanceRatio;if(r.touchReleaseOnEdges&&(P=0),S>0?(y&&!x&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(C=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+S)**P))):S<0&&(y&&!x&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(C=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-S)**P))),C&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(S)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function f9(t){const e=this,n=e.touchEventsData,i=n.evCache.findIndex(x=>x.pointerId===t.pointerId);if(i>=0&&n.evCache.splice(i,1),["pointercancel","pointerout","pointerleave"].includes(t.type)&&!(t.type==="pointercancel"&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:r,touches:s,rtlTranslate:a,slidesGrid:u,enabled:c}=e;if(!c||!r.simulateTouch&&t.pointerType==="mouse")return;let d=t;if(d.originalEvent&&(d=d.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",d),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const p=Th(),m=p-n.touchStartTime;if(e.allowClick){const x=d.path||d.composedPath&&d.composedPath();e.updateClickedSlide(x&&x[0]||d.target),e.emit("tap click",d),m<300&&p-n.lastClickTime<300&&e.emit("doubleTap doubleClick",d)}if(n.lastClickTime=Th(),eg(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let _;if(r.followFinger?_=a?e.translate:-e.translate:_=-n.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:_});return}let w=0,T=e.slidesSizesGrid[0];for(let x=0;x<u.length;x+=x<r.slidesPerGroupSkip?1:r.slidesPerGroup){const C=x<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof u[x+C]<"u"?_>=u[x]&&_<u[x+C]&&(w=x,T=u[x+C]-u[x]):_>=u[x]&&(w=x,T=u[u.length-1]-u[u.length-2])}let S=null,I=null;r.rewind&&(e.isBeginning?I=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(S=0));const v=(_-u[w])/T,y=w<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(m>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?S:w+y):e.slideTo(w)),e.swipeDirection==="prev"&&(v>1-r.longSwipesRatio?e.slideTo(w+y):I!==null&&v<0&&Math.abs(v)>r.longSwipesRatio?e.slideTo(I):e.slideTo(w))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(d.target===e.navigation.nextEl||d.target===e.navigation.prevEl)?d.target===e.navigation.nextEl?e.slideTo(w+y):e.slideTo(w):(e.swipeDirection==="next"&&e.slideTo(S!==null?S:w+y),e.swipeDirection==="prev"&&e.slideTo(I!==null?I:w))}}function B1(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const u=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!u?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function p9(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function m9(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function g9(t){const e=this;Ic(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let F1=!1;function v9(){}const _b=(t,e)=>{const n=li(),{params:i,el:r,wrapperEl:s,device:a}=t,u=!!i.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;r[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:u}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[c]("click",t.onClick,!0),i.cssMode&&s[c]("scroll",t.onScroll),i.updateOnWindowResize?t[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",B1,!0):t[d]("observerUpdate",B1,!0),r[c]("load",t.onLoad,{capture:!0})};function y9(){const t=this,e=li(),{params:n}=t;t.onTouchStart=h9.bind(t),t.onTouchMove=d9.bind(t),t.onTouchEnd=f9.bind(t),n.cssMode&&(t.onScroll=m9.bind(t)),t.onClick=p9.bind(t),t.onLoad=g9.bind(t),F1||(e.addEventListener("touchstart",v9),F1=!0),_b(t,"on")}function _9(){_b(this,"off")}const w9={attachEvents:y9,detachEvents:_9},U1=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function E9(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||t.originalParams,d=U1(t,i),p=U1(t,c),m=i.enabled;d&&!p?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&p&&(r.classList.add(`${i.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(S=>{if(typeof c[S]>"u")return;const I=i[S]&&i[S].enabled,v=c[S]&&c[S].enabled;I&&!v&&t[S].disable(),!I&&v&&t[S].enable()});const _=c.direction&&c.direction!==i.direction,w=i.loop&&(c.slidesPerView!==i.slidesPerView||_);_&&n&&t.changeDirection(),an(t.params,c);const T=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),m&&!T?t.disable():!m&&T&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),w&&n&&(t.loopDestroy(),t.loopCreate(e),t.updateSlides()),t.emit("breakpoint",c)}function x9(t,e="window",n){if(!t||e==="container"&&!n)return;let i=!1;const r=gn(),s=e==="window"?r.innerHeight:n.clientHeight,a=Object.keys(t).map(u=>{if(typeof u=="string"&&u.indexOf("@")===0){const c=parseFloat(u.substr(1));return{value:s*c,point:u}}return{value:u,point:u}});a.sort((u,c)=>parseInt(u.value,10)-parseInt(c.value,10));for(let u=0;u<a.length;u+=1){const{point:c,value:d}=a[u];e==="window"?r.matchMedia(`(min-width: ${d}px)`).matches&&(i=c):d<=n.clientWidth&&(i=c)}return i||"max"}const T9={setBreakpoint:E9,getBreakpoint:x9};function S9(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function C9(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,a=S9(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),r.classList.add(...e),t.emitContainerClasses()}function I9(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}const b9={addClasses:C9,removeClasses:I9};function k9(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const P9={checkOverflow:k9},j1={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function L9(t,e){return function(i={}){const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){an(e,i);return}if(["navigation","pagination","scrollbar"].indexOf(r)>=0&&t[r]===!0&&(t[r]={auto:!0}),!(r in t&&"enabled"in s)){an(e,i);return}t[r]===!0&&(t[r]={enabled:!0}),typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),an(e,i)}}const wp={eventsEmitter:bz,update:zz,translate:Hz,transition:Zz,slide:n9,loop:o9,grabCursor:u9,events:w9,breakpoints:T9,checkOverflow:P9,classes:b9},Ep={};let No=class gi{constructor(...e){let n,i;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[n,i]=e,i||(i={}),i=an({},i),n&&!i.el&&(i.el=n);const r=li();if(i.el&&typeof i.el=="string"&&r.querySelectorAll(i.el).length>1){const c=[];return r.querySelectorAll(i.el).forEach(d=>{const p=an({},i,{el:d});c.push(new gi(p))}),c}const s=this;s.__swiper__=!0,s.support=vb(),s.device=xz({userAgent:i.userAgent}),s.browser=Sz(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],i.modules&&Array.isArray(i.modules)&&s.modules.push(...i.modules);const a={};s.modules.forEach(c=>{c({params:i,swiper:s,extendParams:L9(i,a),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const u=an({},j1,a);return s.params=an({},u,Ep,i),s.originalParams=an({},s.params),s.passedParams=an({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(c=>{s.on(c,s.params.on[c])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=ti(n,`.${i.slideClass}, swiper-slide`),s=Sh(r[0]);return Sh(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=ti(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const i=this,{params:r,slides:s,slidesGrid:a,slidesSizesGrid:u,size:c,activeIndex:d}=i;let p=1;if(r.centeredSlides){let m=s[d]?s[d].swiperSlideSize:0,_;for(let w=d+1;w<s.length;w+=1)s[w]&&!_&&(m+=s[w].swiperSlideSize,p+=1,m>c&&(_=!0));for(let w=d-1;w>=0;w-=1)s[w]&&!_&&(m+=s[w].swiperSlideSize,p+=1,m>c&&(_=!0))}else if(e==="current")for(let m=d+1;m<s.length;m+=1)(n?a[m]+u[m]-a[d]<c:a[m]-a[d]<c)&&(p+=1);else for(let m=d-1;m>=0;m-=1)a[d]-a[m]<c&&(p+=1);return p}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Ic(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const a=e.rtlTranslate?e.translate*-1:e.translate,u=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(u),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.shadowEl&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):ti(i,r())[0])();return!a&&n.params.createElements&&(a=mb("div",n.params.wrapperClass),i.append(a),ti(i,`.${n.params.slideClass}`).forEach(u=>{a.append(u)})),Object.assign(n,{el:i,wrapperEl:a,slidesEl:n.isElement?i:a,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||tr(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||tr(i,"direction")==="rtl"),wrongRTL:tr(a,"display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(r=>{r.complete?Ic(n,r):r.addEventListener("load",s=>{Ic(n,s.target)})}),ng(n),n.initialized=!0,ng(n),n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const i=this,{params:r,el:s,wrapperEl:a,slides:u}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s.removeAttribute("style"),a.removeAttribute("style"),u&&u.length&&u.forEach(c=>{c.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(c=>{i.off(c)}),e!==!1&&(i.el.swiper=null,fz(i)),i.destroyed=!0),null}static extendDefaults(e){an(Ep,e)}static get extendedDefaults(){return Ep}static get defaults(){return j1}static installModule(e){gi.prototype.__modules__||(gi.prototype.__modules__=[]);const n=gi.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>gi.installModule(n)),gi):(gi.installModule(e),gi)}};Object.keys(wp).forEach(t=>{Object.keys(wp[t]).forEach(e=>{No.prototype[e]=wp[t][e]})});No.use([Cz,Iz]);function wb(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=ti(t.el,`.${i[r]}`)[0];s||(s=mb("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function N9({swiper:t,extendParams:e,on:n,emit:i}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const r=T=>(Array.isArray(T)||(T=[T].filter(S=>!!S)),T);function s(T){let S;return T&&typeof T=="string"&&t.isElement&&(S=t.el.shadowRoot.querySelector(T),S)?S:(T&&(typeof T=="string"&&(S=[...document.querySelectorAll(T)]),t.params.uniqueNavElements&&typeof T=="string"&&S.length>1&&t.el.querySelectorAll(T).length===1&&(S=t.el.querySelector(T))),T&&!S?T:S)}function a(T,S){const I=t.params.navigation;T=r(T),T.forEach(v=>{v&&(v.classList[S?"add":"remove"](...I.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=S),t.params.watchOverflow&&t.enabled&&v.classList[t.isLocked?"add":"remove"](I.lockClass))})}function u(){const{nextEl:T,prevEl:S}=t.navigation;if(t.params.loop){a(S,!1),a(T,!1);return}a(S,t.isBeginning&&!t.params.rewind),a(T,t.isEnd&&!t.params.rewind)}function c(T){T.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function d(T){T.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function p(){const T=t.params.navigation;if(t.params.navigation=wb(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(T.nextEl||T.prevEl))return;let S=s(T.nextEl),I=s(T.prevEl);Object.assign(t.navigation,{nextEl:S,prevEl:I}),S=r(S),I=r(I);const v=(y,x)=>{y&&y.addEventListener("click",x==="next"?d:c),!t.enabled&&y&&y.classList.add(...T.lockClass.split(" "))};S.forEach(y=>v(y,"next")),I.forEach(y=>v(y,"prev"))}function m(){let{nextEl:T,prevEl:S}=t.navigation;T=r(T),S=r(S);const I=(v,y)=>{v.removeEventListener("click",y==="next"?d:c),v.classList.remove(...t.params.navigation.disabledClass.split(" "))};T.forEach(v=>I(v,"next")),S.forEach(v=>I(v,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?w():(p(),u())}),n("toEdge fromEdge lock unlock",()=>{u()}),n("destroy",()=>{m()}),n("enable disable",()=>{let{nextEl:T,prevEl:S}=t.navigation;T=r(T),S=r(S),[...T,...S].filter(I=>!!I).forEach(I=>I.classList[t.enabled?"remove":"add"](t.params.navigation.lockClass))}),n("click",(T,S)=>{let{nextEl:I,prevEl:v}=t.navigation;I=r(I),v=r(v);const y=S.target;if(t.params.navigation.hideOnClick&&!v.includes(y)&&!I.includes(y)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===y||t.pagination.el.contains(y)))return;let x;I.length?x=I[0].classList.contains(t.params.navigation.hiddenClass):v.length&&(x=v[0].classList.contains(t.params.navigation.hiddenClass)),i(x===!0?"navigationShow":"navigationHide"),[...I,...v].filter(C=>!!C).forEach(C=>C.classList.toggle(t.params.navigation.hiddenClass))}});const _=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),u()},w=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),m()};Object.assign(t.navigation,{enable:_,disable:w,update:u,init:p,destroy:m})}function ga(t=""){return`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function A9({swiper:t,extendParams:e,on:n,emit:i}){const r="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,bullets:[]};let s,a=0;const u=v=>(Array.isArray(v)||(v=[v].filter(y=>!!y)),v);function c(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function d(v,y){const{bulletActiveClass:x}=t.params.pagination;v&&(v=v[`${y==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${x}-${y}`),v=v[`${y==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${x}-${y}-${y}`)))}function p(v){const y=v.target.closest(ga(t.params.pagination.bulletClass));if(!y)return;v.preventDefault();const x=Sh(y)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===x)return;const C=t.getSlideIndexByData(x),P=t.getSlideIndexByData(t.realIndex);C>t.slides.length-t.loopedSlides&&t.loopFix({direction:C>P?"next":"prev",activeSlideIndex:C,slideTo:!1}),t.slideToLoop(x)}else t.slideTo(x)}function m(){const v=t.rtl,y=t.params.pagination;if(c())return;let x=t.pagination.el;x=u(x);let C,P;const N=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,F=t.params.loop?Math.ceil(N/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(P=t.previousRealIndex||0,C=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(C=t.snapIndex,P=t.previousSnapIndex):(P=t.previousIndex||0,C=t.activeIndex||0),y.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const A=t.pagination.bullets;let z,K,H;if(y.dynamicBullets&&(s=tg(A[0],t.isHorizontal()?"width":"height",!0),x.forEach(U=>{U.style[t.isHorizontal()?"width":"height"]=`${s*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&P!==void 0&&(a+=C-(P||0),a>y.dynamicMainBullets-1?a=y.dynamicMainBullets-1:a<0&&(a=0)),z=Math.max(C-a,0),K=z+(Math.min(A.length,y.dynamicMainBullets)-1),H=(K+z)/2),A.forEach(U=>{const V=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(B=>`${y.bulletActiveClass}${B}`)].map(B=>typeof B=="string"&&B.includes(" ")?B.split(" "):B).flat();U.classList.remove(...V)}),x.length>1)A.forEach(U=>{const V=Sh(U);V===C?U.classList.add(...y.bulletActiveClass.split(" ")):t.isElement&&U.setAttribute("part","bullet"),y.dynamicBullets&&(V>=z&&V<=K&&U.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),V===z&&d(U,"prev"),V===K&&d(U,"next"))});else{const U=A[C];if(U&&U.classList.add(...y.bulletActiveClass.split(" ")),t.isElement&&A.forEach((V,B)=>{V.setAttribute("part",B===C?"bullet-active":"bullet")}),y.dynamicBullets){const V=A[z],B=A[K];for(let G=z;G<=K;G+=1)A[G]&&A[G].classList.add(...`${y.bulletActiveClass}-main`.split(" "));d(V,"prev"),d(B,"next")}}if(y.dynamicBullets){const U=Math.min(A.length,y.dynamicMainBullets+4),V=(s*U-s)/2-H*s,B=v?"right":"left";A.forEach(G=>{G.style[t.isHorizontal()?B:"top"]=`${V}px`})}}x.forEach((A,z)=>{if(y.type==="fraction"&&(A.querySelectorAll(ga(y.currentClass)).forEach(K=>{K.textContent=y.formatFractionCurrent(C+1)}),A.querySelectorAll(ga(y.totalClass)).forEach(K=>{K.textContent=y.formatFractionTotal(F)})),y.type==="progressbar"){let K;y.progressbarOpposite?K=t.isHorizontal()?"vertical":"horizontal":K=t.isHorizontal()?"horizontal":"vertical";const H=(C+1)/F;let U=1,V=1;K==="horizontal"?U=H:V=H,A.querySelectorAll(ga(y.progressbarFillClass)).forEach(B=>{B.style.transform=`translate3d(0,0,0) scaleX(${U}) scaleY(${V})`,B.style.transitionDuration=`${t.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(A.innerHTML=y.renderCustom(t,C+1,F),z===0&&i("paginationRender",A)):(z===0&&i("paginationRender",A),i("paginationUpdate",A)),t.params.watchOverflow&&t.enabled&&A.classList[t.isLocked?"add":"remove"](y.lockClass)})}function _(){const v=t.params.pagination;if(c())return;const y=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length;let x=t.pagination.el;x=u(x);let C="";if(v.type==="bullets"){let P=t.params.loop?Math.ceil(y/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&P>y&&(P=y);for(let N=0;N<P;N+=1)v.renderBullet?C+=v.renderBullet.call(t,N,v.bulletClass):C+=`<${v.bulletElement} ${t.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?C=v.renderFraction.call(t,v.currentClass,v.totalClass):C=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?C=v.renderProgressbar.call(t,v.progressbarFillClass):C=`<span class="${v.progressbarFillClass}"></span>`),t.pagination.bullets=[],x.forEach(P=>{v.type!=="custom"&&(P.innerHTML=C||""),v.type==="bullets"&&t.pagination.bullets.push(...P.querySelectorAll(ga(v.bulletClass)))}),v.type!=="custom"&&i("paginationRender",x[0])}function w(){t.params.pagination=wb(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const v=t.params.pagination;if(!v.el)return;let y;typeof v.el=="string"&&t.isElement&&(y=t.el.shadowRoot.querySelector(v.el)),!y&&typeof v.el=="string"&&(y=[...document.querySelectorAll(v.el)]),y||(y=v.el),!(!y||y.length===0)&&(t.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...t.el.querySelectorAll(v.el)],y.length>1&&(y=y.filter(x=>gb(x,".swiper")[0]===t.el)[0])),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(t.pagination,{el:y}),y=u(y),y.forEach(x=>{v.type==="bullets"&&v.clickable&&x.classList.add(v.clickableClass),x.classList.add(v.modifierClass+v.type),x.classList.add(t.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(x.classList.add(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&x.classList.add(v.progressbarOppositeClass),v.clickable&&x.addEventListener("click",p),t.enabled||x.classList.add(v.lockClass)}))}function T(){const v=t.params.pagination;if(c())return;let y=t.pagination.el;y&&(y=u(y),y.forEach(x=>{x.classList.remove(v.hiddenClass),x.classList.remove(v.modifierClass+v.type),x.classList.remove(t.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&x.removeEventListener("click",p)})),t.pagination.bullets&&t.pagination.bullets.forEach(x=>x.classList.remove(...v.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const v=t.params.pagination;let{el:y}=t.pagination;y=u(y),y.forEach(x=>{x.classList.remove(v.horizontalClass,v.verticalClass),x.classList.add(t.isHorizontal()?v.horizontalClass:v.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?I():(w(),_(),m())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&m()}),n("snapIndexChange",()=>{m()}),n("snapGridLengthChange",()=>{_(),m()}),n("destroy",()=>{T()}),n("enable disable",()=>{let{el:v}=t.pagination;v&&(v=u(v),v.forEach(y=>y.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{m()}),n("click",(v,y)=>{const x=y.target;let{el:C}=t.pagination;if(Array.isArray(C)||(C=[C].filter(P=>!!P)),t.params.pagination.el&&t.params.pagination.hideOnClick&&C&&C.length>0&&!x.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&x===t.navigation.nextEl||t.navigation.prevEl&&x===t.navigation.prevEl))return;const P=C[0].classList.contains(t.params.pagination.hiddenClass);i(P===!0?"paginationShow":"paginationHide"),C.forEach(N=>N.classList.toggle(t.params.pagination.hiddenClass))}});const S=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:v}=t.pagination;v&&(v=u(v),v.forEach(y=>y.classList.remove(t.params.pagination.paginationDisabledClass))),w(),_(),m()},I=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:v}=t.pagination;v&&(v=u(v),v.forEach(y=>y.classList.add(t.params.pagination.paginationDisabledClass))),T()};Object.assign(t.pagination,{enable:S,disable:I,render:_,update:m,init:w,destroy:T})}function O9({swiper:t,extendParams:e,on:n,emit:i,params:r}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,a,u=r&&r.autoplay?r.autoplay.delay:3e3,c=r&&r.autoplay?r.autoplay.delay:3e3,d,p=new Date().getTime,m,_,w,T,S,I;function v(W){!t||t.destroyed||!t.wrapperEl||W.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",v),A())}const y=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?m=!0:m&&(c=d,m=!1);const W=t.autoplay.paused?d:p+c-new Date().getTime();t.autoplay.timeLeft=W,i("autoplayTimeLeft",W,W/u),a=requestAnimationFrame(()=>{y()})},x=()=>{let W;return t.virtual&&t.params.virtual.enabled?W=t.slides.filter(R=>R.classList.contains("swiper-slide-active"))[0]:W=t.slides[t.activeIndex],W?parseInt(W.getAttribute("data-swiper-autoplay"),10):void 0},C=W=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),y();let Z=typeof W>"u"?t.params.autoplay.delay:W;u=t.params.autoplay.delay,c=t.params.autoplay.delay;const R=x();!Number.isNaN(R)&&R>0&&typeof W>"u"&&(Z=R,u=R,c=R),d=Z;const j=t.params.speed,$=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(j,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,j,!0,!0),i("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(j,!0,!0),i("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,j,!0,!0),i("autoplay")),t.params.cssMode&&(p=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return Z>0?(clearTimeout(s),s=setTimeout(()=>{$()},Z)):requestAnimationFrame(()=>{$()}),Z},P=()=>{t.autoplay.running=!0,C(),i("autoplayStart")},N=()=>{t.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(a),i("autoplayStop")},F=(W,Z)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(s),W||(I=!0);const R=()=>{i("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",v):A()};if(t.autoplay.paused=!0,Z){S&&(d=t.params.autoplay.delay),S=!1,R();return}d=(d||t.params.autoplay.delay)-(new Date().getTime()-p),!(t.isEnd&&d<0&&!t.params.loop)&&(d<0&&(d=0),R())},A=()=>{t.isEnd&&d<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(p=new Date().getTime(),I?(I=!1,C(d)):C(),t.autoplay.paused=!1,i("autoplayResume"))},z=()=>{if(t.destroyed||!t.autoplay.running)return;const W=li();W.visibilityState==="hidden"&&(I=!0,F(!0)),W.visibilityState==="visible"&&A()},K=W=>{W.pointerType==="mouse"&&(I=!0,F(!0))},H=W=>{W.pointerType==="mouse"&&t.autoplay.paused&&A()},U=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",K),t.el.addEventListener("pointerleave",H))},V=()=>{t.el.removeEventListener("pointerenter",K),t.el.removeEventListener("pointerleave",H)},B=()=>{li().addEventListener("visibilitychange",z)},G=()=>{li().removeEventListener("visibilitychange",z)};n("init",()=>{t.params.autoplay.enabled&&(U(),B(),p=new Date().getTime(),P())}),n("destroy",()=>{V(),G(),t.autoplay.running&&N()}),n("beforeTransitionStart",(W,Z,R)=>{t.destroyed||!t.autoplay.running||(R||!t.params.autoplay.disableOnInteraction?F(!0,!0):N())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){N();return}_=!0,w=!1,I=!1,T=setTimeout(()=>{I=!0,w=!0,F(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!_)){if(clearTimeout(T),clearTimeout(s),t.params.autoplay.disableOnInteraction){w=!1,_=!1;return}w&&t.params.cssMode&&A(),w=!1,_=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(S=!0)}),Object.assign(t.autoplay,{start:P,stop:N,pause:F,resume:A})}function R9(t){const{effect:e,swiper:n,on:i,setTranslate:r,setTransition:s,overwriteParams:a,perspective:u,recreateShadows:c,getEffectParams:d}=t;i("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),u&&u()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const m=a?a():{};Object.assign(n.params,m),Object.assign(n.originalParams,m)}),i("setTranslate",()=>{n.params.effect===e&&r()}),i("setTransition",(m,_)=>{n.params.effect===e&&s(_)}),i("transitionEnd",()=>{if(n.params.effect===e&&c){if(!d||!d().slideShadows)return;n.slides.forEach(m=>{m.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(_=>_.remove())}),c()}});let p;i("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(p=!0),requestAnimationFrame(()=>{p&&n.slides&&n.slides.length&&(r(),p=!1)}))})}function M9(t,e){const n=pb(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function D9({swiper:t,duration:e,transformElements:n,allSlides:i}){const{activeIndex:r}=t,s=a=>a.parentElement?a.parentElement:t.slides.filter(c=>c.shadowEl&&c.shadowEl===a.parentNode)[0];if(t.params.virtualTranslate&&e!==0){let a=!1,u;i?u=n:u=n.filter(c=>{const d=c.classList.contains("swiper-slide-transform")?s(c):c;return t.getSlideIndex(d)===r}),u.forEach(c=>{_z(c,()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(d)})})}}function $9({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1}}),R9({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:s}=t,a=t.params.fadeEffect;for(let u=0;u<s.length;u+=1){const c=t.slides[u];let p=-c.swiperSlideOffset;t.params.virtualTranslate||(p-=t.translate);let m=0;t.isHorizontal()||(m=p,p=0);const _=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),w=M9(a,c);w.style.opacity=_,w.style.transform=`translate3d(${p}px, ${m}px, 0px)`}},setTransition:s=>{const a=t.slides.map(u=>pb(u));a.forEach(u=>{u.style.transitionDuration=`${s}ms`}),D9({swiper:t,duration:s,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function ms(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function nr(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:ms(e[i])&&ms(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:nr(t[i],e[i]):t[i]=e[i]})}function Eb(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function xb(t={}){return t.pagination&&typeof t.pagination.el>"u"}function Tb(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function Sb(t=""){const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function z9(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}const Cb=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function B9(t={},e=!0){const n={on:{}},i={},r={};nr(n,No.defaults),nr(n,No.extendedDefaults),n._emitClasses=!0,n.init=!1;const s={},a=Cb.map(c=>c.replace(/_/,"")),u=Object.assign({},t);return Object.keys(u).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?ms(t[c])?(n[c]={},r[c]={},nr(n[c],t[c]),nr(r[c],t[c])):(n[c]=t[c],r[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?i[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:s[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:r,rest:s,events:i}}function F9({el:t,nextEl:e,prevEl:n,paginationEl:i,scrollbarEl:r,swiper:s},a){Eb(a)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),xb(a)&&i&&(s.params.pagination.el=i,s.originalParams.pagination.el=i),Tb(a)&&r&&(s.params.scrollbar.el=r,s.originalParams.scrollbar.el=r),s.init(t)}function U9(t,e,n,i,r){const s=[];if(!e)return s;const a=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&i){const c=i.map(r),d=n.map(r);c.join("")!==d.join("")&&a("children"),i.length!==n.length&&a("children")}return Cb.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(ms(t[c])&&ms(e[c])){const d=Object.keys(t[c]),p=Object.keys(e[c]);d.length!==p.length?a(c):(d.forEach(m=>{t[c][m]!==e[c][m]&&a(c)}),p.forEach(m=>{t[c][m]!==e[c][m]&&a(c)}))}else t[c]!==e[c]&&a(c)}),s}function Ib(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function bb(t){const e=[];return le.Children.toArray(t).forEach(n=>{Ib(n)?e.push(n):n.props&&n.props.children&&bb(n.props.children).forEach(i=>e.push(i))}),e}function j9(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return le.Children.toArray(t).forEach(i=>{if(Ib(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=bb(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function V9({swiper:t,slides:e,passedParams:n,changedParams:i,nextEl:r,prevEl:s,scrollbarEl:a,paginationEl:u}){const c=i.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:d,pagination:p,navigation:m,scrollbar:_,virtual:w,thumbs:T}=t;let S,I,v,y,x,C,P,N;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(S=!0),i.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(I=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||u)&&(d.pagination||d.pagination===!1)&&p&&!p.el&&(v=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&_&&!_.el&&(y=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||r)&&(d.navigation||d.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(x=!0);const F=A=>{t[A]&&(t[A].destroy(),A==="navigation"?(t.isElement&&(t[A].prevEl.remove(),t[A].nextEl.remove()),d[A].prevEl=void 0,d[A].nextEl=void 0,t[A].prevEl=void 0,t[A].nextEl=void 0):(t.isElement&&t[A].el.remove(),d[A].el=void 0,t[A].el=void 0))};i.includes("loop")&&t.isElement&&(d.loop&&!n.loop?C=!0:!d.loop&&n.loop?P=!0:N=!0),c.forEach(A=>{if(ms(d[A])&&ms(n[A]))nr(d[A],n[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in n[A]&&!n[A].enabled&&F(A);else{const z=n[A];(z===!0||z===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?z===!1&&F(A):d[A]=n[A]}}),c.includes("controller")&&!I&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),i.includes("children")&&e&&w&&d.virtual.enabled&&(w.slides=e,w.update(!0)),i.includes("children")&&e&&d.loop&&(N=!0),S&&T.init()&&T.update(!0),I&&(t.controller.control=d.controller.control),v&&(t.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),t.el.shadowEl.appendChild(u)),u&&(d.pagination.el=u),p.init(),p.render(),p.update()),y&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),t.el.shadowEl.appendChild(a)),a&&(d.scrollbar.el=a),_.init(),_.updateSize(),_.setTranslate()),x&&(t.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),t.el.shadowEl.appendChild(r)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),t.el.shadowEl.appendChild(s))),r&&(d.navigation.nextEl=r),s&&(d.navigation.prevEl=s),m.init(),m.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&t.changeDirection(n.direction,!1),(C||N)&&t.loopDestroy(),(P||N)&&t.loopCreate(),t.update()}function H9(t,e,n){if(!n)return null;const i=p=>{let m=p;return p<0?m=e.length+p:m>=e.length&&(m=m-e.length),m},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,u=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let p=u;p<c;p+=1)p>=s&&p<=a&&d.push(e[i(p)]);return d.map((p,m)=>le.cloneElement(p,{swiper:t,style:r,key:`slide-${m}`}))}const W9=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function qa(t,e){return typeof window>"u"?O.useEffect(t,e):O.useLayoutEffect(t,e)}const V1=O.createContext(null),q9=O.createContext(null);function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ig.apply(this,arguments)}const kb=O.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:a,...u}=t===void 0?{}:t,c=!1;const[d,p]=O.useState("swiper"),[m,_]=O.useState(null),[w,T]=O.useState(!1),S=O.useRef(!1),I=O.useRef(null),v=O.useRef(null),y=O.useRef(null),x=O.useRef(null),C=O.useRef(null),P=O.useRef(null),N=O.useRef(null),F=O.useRef(null),{params:A,passedParams:z,rest:K,events:H}=B9(u),{slides:U,slots:V}=j9(s),B=()=>{T(!w)};Object.assign(A.on,{_containerClasses(j,$){p($)}});const G=()=>{Object.assign(A.on,H),c=!0;const j={...A};if(delete j.wrapperClass,v.current=new No(j),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=U;const $={cache:!1,slides:U,renderExternal:_,renderExternalUpdate:!1};nr(v.current.params.virtual,$),nr(v.current.originalParams.virtual,$)}};I.current||G(),v.current&&v.current.on("_beforeBreakpoint",B);const W=()=>{c||!H||!v.current||Object.keys(H).forEach(j=>{v.current.on(j,H[j])})},Z=()=>{!H||!v.current||Object.keys(H).forEach(j=>{v.current.off(j,H[j])})};O.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",B)}),O.useEffect(()=>{!S.current&&v.current&&(v.current.emitSlidesClasses(),S.current=!0)}),qa(()=>{if(e&&(e.current=I.current),!!I.current)return v.current.destroyed&&G(),F9({el:I.current,nextEl:C.current,prevEl:P.current,paginationEl:N.current,scrollbarEl:F.current,swiper:v.current},A),a&&a(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),qa(()=>{W();const j=U9(z,y.current,U,x.current,$=>$.key);return y.current=z,x.current=U,j.length&&v.current&&!v.current.destroyed&&V9({swiper:v.current,slides:U,passedParams:z,changedParams:j,nextEl:C.current,prevEl:P.current,scrollbarEl:F.current,paginationEl:N.current}),()=>{Z()}}),qa(()=>{W9(v.current)},[m]);function R(){return A.virtual?H9(v.current,U,m):U.map((j,$)=>le.cloneElement(j,{swiper:v.current,swiperSlideIndex:$}))}return le.createElement(i,ig({ref:I,className:Sb(`${d}${n?` ${n}`:""}`)},K),le.createElement(q9.Provider,{value:v.current},V["container-start"],le.createElement(r,{className:z9(A.wrapperClass)},V["wrapper-start"],R(),V["wrapper-end"]),Eb(A)&&le.createElement(le.Fragment,null,le.createElement("div",{ref:P,className:"swiper-button-prev"}),le.createElement("div",{ref:C,className:"swiper-button-next"})),Tb(A)&&le.createElement("div",{ref:F,className:"swiper-scrollbar"}),xb(A)&&le.createElement("div",{ref:N,className:"swiper-pagination"}),V["container-end"]))});kb.displayName="Swiper";function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rg.apply(this,arguments)}const Pb=O.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:s,zoom:a,lazy:u,virtualIndex:c,swiperSlideIndex:d,...p}=t===void 0?{}:t;const m=O.useRef(null),[_,w]=O.useState("swiper-slide"),[T,S]=O.useState(!1);function I(C,P,N){P===m.current&&w(N)}qa(()=>{if(typeof d<"u"&&(m.current.swiperSlideIndex=d),e&&(e.current=m.current),!(!m.current||!s)){if(s.destroyed){_!=="swiper-slide"&&w("swiper-slide");return}return s.on("_slideClass",I),()=>{s&&s.off("_slideClass",I)}}}),qa(()=>{s&&m.current&&!s.destroyed&&w(s.getSlideClasses(m.current))},[s]);const v={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},y=()=>typeof i=="function"?i(v):i,x=()=>{S(!0)};return le.createElement(n,rg({ref:m,className:Sb(`${_}${r?` ${r}`:""}`),"data-swiper-slide-index":c,onLoad:x},p),a&&le.createElement(V1.Provider,{value:v},le.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},y(),u&&!T&&le.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&le.createElement(V1.Provider,{value:v},y(),u&&!T&&le.createElement("div",{className:"swiper-lazy-preloader"})))});Pb.displayName="SwiperSlide";function Lb(t,e){const n=O.useRef(e);O.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const G9=1;function Z9(t){return Object.freeze({__version:G9,map:t})}function K9(t,e){return Object.freeze({...t,...e})}const Nb=O.createContext(null),Ab=Nb.Provider;function Ob(){const t=O.useContext(Nb);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Y9(t){function e(n,i){const{instance:r,context:s}=t(n).current;return O.useImperativeHandle(i,()=>r),n.children==null?null:le.createElement(Ab,{value:s},n.children)}return O.forwardRef(e)}function Q9(t){function e(n,i){const[r,s]=O.useState(!1),{instance:a}=t(n,s).current;O.useImperativeHandle(i,()=>a),O.useEffect(function(){r&&a.update()},[a,r,n.children]);const u=a._contentNode;return u?iT.createPortal(n.children,u):null}return O.forwardRef(e)}function X9(t){function e(n,i){const{instance:r}=t(n).current;return O.useImperativeHandle(i,()=>r),null}return O.forwardRef(e)}function Rb(t,e){const n=O.useRef();O.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Ly(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function J9(t,e){return function(i,r){const s=Ob(),a=t(Ly(i,s),s);return Lb(s.map,i.attribution),Rb(a.current,i.eventHandlers),e(a.current,s,i,r),a}}var sg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(Ch,function(n){var i="1.9.4";function r(o){var l,h,f,g;for(h=1,f=arguments.length;h<f;h++){g=arguments[h];for(l in g)o[l]=g[l]}return o}var s=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function a(o,l){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var f=h.call(arguments,2);return function(){return o.apply(l,f.length?f.concat(h.call(arguments)):arguments)}}var u=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++u),o._leaflet_id}function d(o,l,h){var f,g,E,k;return k=function(){f=!1,g&&(E.apply(h,g),g=!1)},E=function(){f?g=arguments:(o.apply(h,arguments),setTimeout(k,l),f=!0)},E}function p(o,l,h){var f=l[1],g=l[0],E=f-g;return o===f&&h?o:((o-g)%E+E)%E+g}function m(){return!1}function _(o,l){if(l===!1)return o;var h=Math.pow(10,l===void 0?6:l);return Math.round(o*h)/h}function w(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function T(o){return w(o).split(/\s+/)}function S(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var h in l)o.options[h]=l[h];return o.options}function I(o,l,h){var f=[];for(var g in o)f.push(encodeURIComponent(h?g.toUpperCase():g)+"="+encodeURIComponent(o[g]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function y(o,l){return o.replace(v,function(h,f){var g=l[f];if(g===void 0)throw new Error("No value provided for variable "+h);return typeof g=="function"&&(g=g(l)),g})}var x=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function C(o,l){for(var h=0;h<o.length;h++)if(o[h]===l)return h;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var F=0;function A(o){var l=+new Date,h=Math.max(0,16-(l-F));return F=l+h,window.setTimeout(o,h)}var z=window.requestAnimationFrame||N("RequestAnimationFrame")||A,K=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function H(o,l,h){if(h&&z===A)o.call(l);else return z.call(window,a(o,l))}function U(o){o&&K.call(window,o)}var V={__proto__:null,extend:r,create:s,bind:a,get lastId(){return u},stamp:c,throttle:d,wrapNum:p,falseFn:m,formatNum:_,trim:w,splitWords:T,setOptions:S,getParamString:I,template:y,isArray:x,indexOf:C,emptyImageUrl:P,requestFn:z,cancelFn:K,requestAnimFrame:H,cancelAnimFrame:U};function B(){}B.extend=function(o){var l=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,f=s(h);f.constructor=l,l.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return o.statics&&r(l,o.statics),o.includes&&(G(o.includes),r.apply(null,[f].concat(o.includes))),r(f,o),delete f.statics,delete f.includes,f.options&&(f.options=h.options?s(h.options):{},r(f.options,o.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,k=f._initHooks.length;E<k;E++)f._initHooks[E].call(this)}},l},B.include=function(o){var l=this.prototype.options;return r(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},B.mergeOptions=function(o){return r(this.prototype.options,o),this},B.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),h=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function G(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=x(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l);else{o=T(o);for(var g=0,E=o.length;g<E;g++)this._on(o[g],l,h)}return this},off:function(o,l,h){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var f in o)this._off(f,o[f],l);else{o=T(o);for(var g=arguments.length===1,E=0,k=o.length;E<k;E++)g?this._off(o[E]):this._off(o[E],l,h)}return this},_on:function(o,l,h,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,h)===!1){h===this&&(h=void 0);var g={fn:l,ctx:h};f&&(g.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(g)}},_off:function(o,l,h){var f,g,E;if(this._events&&(f=this._events[o],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,E=f.length;g<E;g++)f[g].fn=m;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var k=this._listens(o,l,h);if(k!==!1){var M=f[k];this._firingCount&&(M.fn=m,this._events[o]=f=f.slice()),f.splice(k,1)}}},fire:function(o,l,h){if(!this.listens(o,h))return this;var f=r({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[o];if(g){this._firingCount=this._firingCount+1||1;for(var E=0,k=g.length;E<k;E++){var M=g[E],D=M.fn;M.once&&this.off(o,D,M.ctx),D.call(M.ctx||this,f)}this._firingCount--}}return h&&this._propagateEvent(f),this},listens:function(o,l,h,f){typeof o!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(f=!!l,g=void 0,h=void 0);var E=this._events&&this._events[o];if(E&&E.length&&this._listens(o,g,h)!==!1)return!0;if(f){for(var k in this._eventParents)if(this._eventParents[k].listens(o,l,h,f))return!0}return!1},_listens:function(o,l,h){if(!this._events)return!1;var f=this._events[o]||[];if(!l)return!!f.length;h===this&&(h=void 0);for(var g=0,E=f.length;g<E;g++)if(f[g].fn===l&&f[g].ctx===h)return g;return!1},once:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l,!0);else{o=T(o);for(var g=0,E=o.length;g<E;g++)this._on(o[g],l,h,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,r({layer:o.target,propagatedFrom:o.target},o),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var Z=B.extend(W);function R(o,l,h){this.x=h?Math.round(o):o,this.y=h?Math.round(l):l}var j=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(o){return this.clone()._add($(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract($(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new R(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new R(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=j(this.x),this.y=j(this.y),this},distanceTo:function(o){o=$(o);var l=o.x-this.x,h=o.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(o){return o=$(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=$(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function $(o,l,h){return o instanceof R?o:x(o)?new R(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new R(o.x,o.y):new R(o,l,h)}function ee(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}ee.prototype={extend:function(o){var l,h;if(!o)return this;if(o instanceof R||typeof o[0]=="number"||"x"in o)l=h=$(o);else if(o=re(o),l=o.min,h=o.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(o){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,h;return typeof o[0]=="number"||o instanceof R?o=$(o):o=re(o),o instanceof ee?(l=o.min,h=o.max):l=h=o,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=re(o);var l=this.min,h=this.max,f=o.min,g=o.max,E=g.x>=l.x&&f.x<=h.x,k=g.y>=l.y&&f.y<=h.y;return E&&k},overlaps:function(o){o=re(o);var l=this.min,h=this.max,f=o.min,g=o.max,E=g.x>l.x&&f.x<h.x,k=g.y>l.y&&f.y<h.y;return E&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,h=this.max,f=Math.abs(l.x-h.x)*o,g=Math.abs(l.y-h.y)*o;return re($(l.x-f,l.y-g),$(h.x+f,h.y+g))},equals:function(o){return o?(o=re(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function re(o,l){return!o||o instanceof ee?o:new ee(o,l)}function de(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}de.prototype={extend:function(o){var l=this._southWest,h=this._northEast,f,g;if(o instanceof me)f=o,g=o;else if(o instanceof de){if(f=o._southWest,g=o._northEast,!f||!g)return this}else return o?this.extend(oe(o)||we(o)):this;return!l&&!h?(this._southWest=new me(f.lat,f.lng),this._northEast=new me(g.lat,g.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),h.lat=Math.max(g.lat,h.lat),h.lng=Math.max(g.lng,h.lng)),this},pad:function(o){var l=this._southWest,h=this._northEast,f=Math.abs(l.lat-h.lat)*o,g=Math.abs(l.lng-h.lng)*o;return new de(new me(l.lat-f,l.lng-g),new me(h.lat+f,h.lng+g))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof me||"lat"in o?o=oe(o):o=we(o);var l=this._southWest,h=this._northEast,f,g;return o instanceof de?(f=o.getSouthWest(),g=o.getNorthEast()):f=g=o,f.lat>=l.lat&&g.lat<=h.lat&&f.lng>=l.lng&&g.lng<=h.lng},intersects:function(o){o=we(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),E=g.lat>=l.lat&&f.lat<=h.lat,k=g.lng>=l.lng&&f.lng<=h.lng;return E&&k},overlaps:function(o){o=we(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),E=g.lat>l.lat&&f.lat<h.lat,k=g.lng>l.lng&&f.lng<h.lng;return E&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=we(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function we(o,l){return o instanceof de?o:new de(o,l)}function me(o,l,h){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,h!==void 0&&(this.alt=+h)}me.prototype={equals:function(o,l){if(!o)return!1;o=oe(o);var h=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return h<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+_(this.lat,o)+", "+_(this.lng,o)+")"},distanceTo:function(o){return Bt.distance(this,oe(o))},wrap:function(){return Bt.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,h=l/Math.cos(Math.PI/180*this.lat);return we([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function oe(o,l,h){return o instanceof me?o:x(o)&&typeof o[0]!="object"?o.length===3?new me(o[0],o[1],o[2]):o.length===2?new me(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new me(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new me(o,l,h)}var Ke={latLngToPoint:function(o,l){var h=this.projection.project(o),f=this.scale(l);return this.transformation._transform(h,f)},pointToLatLng:function(o,l){var h=this.scale(l),f=this.transformation.untransform(o,h);return this.projection.unproject(f)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(o),f=this.transformation.transform(l.min,h),g=this.transformation.transform(l.max,h);return new ee(f,g)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,h=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,f=o.alt;return new me(h,l,f)},wrapLatLngBounds:function(o){var l=o.getCenter(),h=this.wrapLatLng(l),f=l.lat-h.lat,g=l.lng-h.lng;if(f===0&&g===0)return o;var E=o.getSouthWest(),k=o.getNorthEast(),M=new me(E.lat-f,E.lng-g),D=new me(k.lat-f,k.lng-g);return new de(M,D)}},Bt=r({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var h=Math.PI/180,f=o.lat*h,g=l.lat*h,E=Math.sin((l.lat-o.lat)*h/2),k=Math.sin((l.lng-o.lng)*h/2),M=E*E+Math.cos(f)*Math.cos(g)*k*k,D=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*D}}),vt=6378137,vn={R:vt,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,h=this.MAX_LATITUDE,f=Math.max(Math.min(h,o.lat),-h),g=Math.sin(f*l);return new R(this.R*o.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(o){var l=180/Math.PI;return new me((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=vt*Math.PI;return new ee([-o,-o],[o,o])}()};function Ar(o,l,h,f){if(x(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=h,this._d=f}Ar.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new R((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function Vn(o,l,h,f){return new Ar(o,l,h,f)}var Md=r({},Bt,{code:"EPSG:3857",projection:vn,transformation:function(){var o=.5/(Math.PI*vn.R);return Vn(o,.5,-o,.5)}()}),$b=r({},Md,{code:"EPSG:900913"});function Oy(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ry(o,l){var h="",f,g,E,k,M,D;for(f=0,E=o.length;f<E;f++){for(M=o[f],g=0,k=M.length;g<k;g++)D=M[g],h+=(g?"L":"M")+D.x+" "+D.y;h+=l?ae.svg?"z":"x":""}return h||"M0 0"}var Dd=document.documentElement.style,ou="ActiveXObject"in window,zb=ou&&!document.addEventListener,My="msLaunchUri"in navigator&&!("documentMode"in document),$d=Hn("webkit"),Dy=Hn("android"),$y=Hn("android 2")||Hn("android 3"),Bb=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fb=Dy&&Hn("Google")&&Bb<537&&!("AudioNode"in window),zd=!!window.opera,zy=!My&&Hn("chrome"),By=Hn("gecko")&&!$d&&!zd&&!ou,Ub=!zy&&Hn("safari"),Fy=Hn("phantom"),Uy="OTransition"in Dd,jb=navigator.platform.indexOf("Win")===0,jy=ou&&"transition"in Dd,Bd="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$y,Vy="MozPerspective"in Dd,Vb=!window.L_DISABLE_3D&&(jy||Bd||Vy)&&!Uy&&!Fy,qo=typeof orientation<"u"||Hn("mobile"),Hb=qo&&$d,Wb=qo&&Bd,Hy=!window.PointerEvent&&window.MSPointerEvent,Wy=!!(window.PointerEvent||Hy),qy="ontouchstart"in window||!!window.TouchEvent,qb=!window.L_NO_TOUCH&&(qy||Wy),Gb=qo&&zd,Zb=qo&&By,Kb=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yb=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return o}(),Qb=function(){return!!document.createElement("canvas").getContext}(),Fd=!!(document.createElementNS&&Oy("svg").createSVGRect),Xb=!!Fd&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Jb=!Fd&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),ek=navigator.platform.indexOf("Mac")===0,tk=navigator.platform.indexOf("Linux")===0;function Hn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var ae={ie:ou,ielt9:zb,edge:My,webkit:$d,android:Dy,android23:$y,androidStock:Fb,opera:zd,chrome:zy,gecko:By,safari:Ub,phantom:Fy,opera12:Uy,win:jb,ie3d:jy,webkit3d:Bd,gecko3d:Vy,any3d:Vb,mobile:qo,mobileWebkit:Hb,mobileWebkit3d:Wb,msPointer:Hy,pointer:Wy,touch:qb,touchNative:qy,mobileOpera:Gb,mobileGecko:Zb,retina:Kb,passiveEvents:Yb,canvas:Qb,svg:Fd,vml:Jb,inlineSvg:Xb,mac:ek,linux:tk},Gy=ae.msPointer?"MSPointerDown":"pointerdown",Zy=ae.msPointer?"MSPointerMove":"pointermove",Ky=ae.msPointer?"MSPointerUp":"pointerup",Yy=ae.msPointer?"MSPointerCancel":"pointercancel",Ud={touchstart:Gy,touchmove:Zy,touchend:Ky,touchcancel:Yy},Qy={touchstart:ak,touchmove:au,touchend:au,touchcancel:au},Is={},Xy=!1;function nk(o,l,h){return l==="touchstart"&&ok(),Qy[l]?(h=Qy[l].bind(this,h),o.addEventListener(Ud[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function ik(o,l,h){if(!Ud[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Ud[l],h,!1)}function rk(o){Is[o.pointerId]=o}function sk(o){Is[o.pointerId]&&(Is[o.pointerId]=o)}function Jy(o){delete Is[o.pointerId]}function ok(){Xy||(document.addEventListener(Gy,rk,!0),document.addEventListener(Zy,sk,!0),document.addEventListener(Ky,Jy,!0),document.addEventListener(Yy,Jy,!0),Xy=!0)}function au(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Is)l.touches.push(Is[h]);l.changedTouches=[l],o(l)}}function ak(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&yt(l),au(o,l)}function lk(o){var l={},h,f;for(f in o)h=o[f],l[f]=h&&h.bind?h.bind(o):h;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var uk=200;function ck(o,l){o.addEventListener("dblclick",l);var h=0,f;function g(E){if(E.detail!==1){f=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var k=r_(E);if(!(k.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!k.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var M=Date.now();M-h<=uk?(f++,f===2&&l(lk(E))):f=1,h=M}}}return o.addEventListener("click",g),{dblclick:l,simDblclick:g}}function hk(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var jd=cu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Go=cu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),e_=Go==="webkitTransition"||Go==="OTransition"?Go+"End":"transitionend";function t_(o){return typeof o=="string"?document.getElementById(o):o}function Zo(o,l){var h=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(o,null);h=f?f[l]:null}return h==="auto"?null:h}function Pe(o,l,h){var f=document.createElement(o);return f.className=l||"",h&&h.appendChild(f),f}function Ve(o){var l=o.parentNode;l&&l.removeChild(o)}function lu(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function bs(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function ks(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function Vd(o,l){if(o.classList!==void 0)return o.classList.contains(l);var h=uu(o);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Ee(o,l){if(o.classList!==void 0)for(var h=T(l),f=0,g=h.length;f<g;f++)o.classList.add(h[f]);else if(!Vd(o,l)){var E=uu(o);Hd(o,(E?E+" ":"")+l)}}function Je(o,l){o.classList!==void 0?o.classList.remove(l):Hd(o,w((" "+uu(o)+" ").replace(" "+l+" "," ")))}function Hd(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function uu(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function yn(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&dk(o,l)}function dk(o,l){var h=!1,f="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):o.style.filter+=" progid:"+f+"(opacity="+l+")"}function cu(o){for(var l=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in l)return o[h];return!1}function Or(o,l,h){var f=l||new R(0,0);o.style[jd]=(ae.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(h?" scale("+h+")":"")}function nt(o,l){o._leaflet_pos=l,ae.any3d?Or(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function Rr(o){return o._leaflet_pos||new R(0,0)}var Ko,Yo,Wd;if("onselectstart"in document)Ko=function(){ye(window,"selectstart",yt)},Yo=function(){Re(window,"selectstart",yt)};else{var Qo=cu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ko=function(){if(Qo){var o=document.documentElement.style;Wd=o[Qo],o[Qo]="none"}},Yo=function(){Qo&&(document.documentElement.style[Qo]=Wd,Wd=void 0)}}function qd(){ye(window,"dragstart",yt)}function Gd(){Re(window,"dragstart",yt)}var hu,Zd;function Kd(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(du(),hu=o,Zd=o.style.outlineStyle,o.style.outlineStyle="none",ye(window,"keydown",du))}function du(){hu&&(hu.style.outlineStyle=Zd,hu=void 0,Zd=void 0,Re(window,"keydown",du))}function n_(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Yd(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var fk={__proto__:null,TRANSFORM:jd,TRANSITION:Go,TRANSITION_END:e_,get:t_,getStyle:Zo,create:Pe,remove:Ve,empty:lu,toFront:bs,toBack:ks,hasClass:Vd,addClass:Ee,removeClass:Je,setClass:Hd,getClass:uu,setOpacity:yn,testProp:cu,setTransform:Or,setPosition:nt,getPosition:Rr,get disableTextSelection(){return Ko},get enableTextSelection(){return Yo},disableImageDrag:qd,enableImageDrag:Gd,preventOutline:Kd,restoreOutline:du,getSizedParentNode:n_,getScale:Yd};function ye(o,l,h,f){if(l&&typeof l=="object")for(var g in l)Xd(o,g,l[g],h);else{l=T(l);for(var E=0,k=l.length;E<k;E++)Xd(o,l[E],h,f)}return this}var Wn="_leaflet_events";function Re(o,l,h,f){if(arguments.length===1)i_(o),delete o[Wn];else if(l&&typeof l=="object")for(var g in l)Jd(o,g,l[g],h);else if(l=T(l),arguments.length===2)i_(o,function(M){return C(l,M)!==-1});else for(var E=0,k=l.length;E<k;E++)Jd(o,l[E],h,f);return this}function i_(o,l){for(var h in o[Wn]){var f=h.split(/\d/)[0];(!l||l(f))&&Jd(o,f,null,null,h)}}var Qd={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Xd(o,l,h,f){var g=l+c(h)+(f?"_"+c(f):"");if(o[Wn]&&o[Wn][g])return this;var E=function(M){return h.call(f||o,M||window.event)},k=E;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?E=nk(o,l,E):ae.touch&&l==="dblclick"?E=ck(o,E):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(Qd[l]||l,E,ae.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(E=function(M){M=M||window.event,tf(o,M)&&k(M)},o.addEventListener(Qd[l],E,!1)):o.addEventListener(l,k,!1):o.attachEvent("on"+l,E),o[Wn]=o[Wn]||{},o[Wn][g]=E}function Jd(o,l,h,f,g){g=g||l+c(h)+(f?"_"+c(f):"");var E=o[Wn]&&o[Wn][g];if(!E)return this;!ae.touchNative&&ae.pointer&&l.indexOf("touch")===0?ik(o,l,E):ae.touch&&l==="dblclick"?hk(o,E):"removeEventListener"in o?o.removeEventListener(Qd[l]||l,E,!1):o.detachEvent("on"+l,E),o[Wn][g]=null}function Mr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function ef(o){return Xd(o,"wheel",Mr),this}function Xo(o){return ye(o,"mousedown touchstart dblclick contextmenu",Mr),o._leaflet_disable_click=!0,this}function yt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Dr(o){return yt(o),Mr(o),this}function r_(o){if(o.composedPath)return o.composedPath();for(var l=[],h=o.target;h;)l.push(h),h=h.parentNode;return l}function s_(o,l){if(!l)return new R(o.clientX,o.clientY);var h=Yd(l),f=h.boundingClientRect;return new R((o.clientX-f.left)/h.x-l.clientLeft,(o.clientY-f.top)/h.y-l.clientTop)}var pk=ae.linux&&ae.chrome?window.devicePixelRatio:ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function o_(o){return ae.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/pk:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function tf(o,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var mk={__proto__:null,on:ye,off:Re,stopPropagation:Mr,disableScrollPropagation:ef,disableClickPropagation:Xo,preventDefault:yt,stop:Dr,getPropagationPath:r_,getMousePosition:s_,getWheelDelta:o_,isExternalTarget:tf,addListener:ye,removeListener:Re},a_=Z.extend({run:function(o,l,h,f){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Rr(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var h=this._startPos.add(this._offset.multiplyBy(o));l&&h._round(),nt(this._el,h),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ie=Z.extend({options:{crs:Md,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=S(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(oe(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Go&&ae.any3d&&!ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ye(this._proxy,e_,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(oe(o),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=r({animate:h.animate},h.zoom),h.pan=r({animate:h.animate,duration:h.duration},h.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,h.zoom):this._tryAnimatedPan(o,h.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,h){var f=this.getZoomScale(l),g=this.getSize().divideBy(2),E=o instanceof R?o:this.latLngToContainerPoint(o),k=E.subtract(g).multiplyBy(1-1/f),M=this.containerPointToLatLng(g.add(k));return this.setView(M,l,{zoom:h})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():we(o);var h=$(l.paddingTopLeft||l.padding||[0,0]),f=$(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(o,!1,h.add(f));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:o.getCenter(),zoom:g};var E=f.subtract(h).divideBy(2),k=this.project(o.getSouthWest(),g),M=this.project(o.getNorthEast(),g),D=this.unproject(k.add(M).divideBy(2).add(E),g);return{center:D,zoom:g}},fitBounds:function(o,l){if(o=we(o),!o.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=$(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new a_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ee(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,h){if(h=h||{},h.animate===!1||!ae.any3d)return this.setView(o,l,h);this._stop();var f=this.project(this.getCenter()),g=this.project(o),E=this.getSize(),k=this._zoom;o=oe(o),l=l===void 0?k:l;var M=Math.max(E.x,E.y),D=M*this.getZoomScale(k,l),Y=g.distanceTo(f)||1,te=1.42,he=te*te;function Te(it){var Su=it?-1:1,i2=it?D:M,r2=D*D-M*M+Su*he*he*Y*Y,s2=2*i2*he*Y,ff=r2/s2,U_=Math.sqrt(ff*ff+1)-ff,o2=U_<1e-9?-18:Math.log(U_);return o2}function Ft(it){return(Math.exp(it)-Math.exp(-it))/2}function ht(it){return(Math.exp(it)+Math.exp(-it))/2}function wn(it){return Ft(it)/ht(it)}var Yt=Te(0);function Rs(it){return M*(ht(Yt)/ht(Yt+te*it))}function Jk(it){return M*(ht(Yt)*wn(Yt+te*it)-Ft(Yt))/he}function e2(it){return 1-Math.pow(1-it,1.5)}var t2=Date.now(),B_=(Te(1)-Yt)/te,n2=h.duration?1e3*h.duration:1e3*B_*.8;function F_(){var it=(Date.now()-t2)/n2,Su=e2(it)*B_;it<=1?(this._flyToFrame=H(F_,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(Jk(Su)/Y)),k),this.getScaleZoom(M/Rs(Su),k),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),F_.call(this),this},flyToBounds:function(o,l){var h=this._getBoundsCenterZoom(o,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(o){return o=we(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var h=this.getCenter(),f=this._limitCenter(h,this._zoom,we(o));return h.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var h=$(l.paddingTopLeft||l.padding||[0,0]),f=$(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),E=this.project(o),k=this.getPixelBounds(),M=re([k.min.add(h),k.max.subtract(f)]),D=M.getSize();if(!M.contains(E)){this._enforcingBounds=!0;var Y=E.subtract(M.getCenter()),te=M.extend(E).getSize().subtract(D);g.x+=Y.x<0?-te.x:te.x,g.y+=Y.y<0?-te.y:te.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=r({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),f=l.divideBy(2).round(),g=h.divideBy(2).round(),E=f.subtract(g);return!E.x&&!E.y?this:(o.animate&&o.pan?this.panBy(E):(o.pan&&this._rawPanBy(E),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=r({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,o):navigator.geolocation.getCurrentPosition(l,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,h=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,h=o.coords.longitude,f=new me(l,h),g=f.toBounds(o.coords.accuracy*2),E=this._locateOptions;if(E.setView){var k=this.getBoundsZoom(g);this.setView(f,E.maxZoom?Math.min(k,E.maxZoom):k)}var M={latlng:f,bounds:g,timestamp:o.timestamp};for(var D in o.coords)typeof o.coords[D]=="number"&&(M[D]=o.coords[D]);this.fire("locationfound",M)}},addHandler:function(o,l){if(!l)return this;var h=this[o]=new l(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ve(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var h="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),f=Pe("div",h,l||this._mapPane);return o&&(this._panes[o]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),h=this.unproject(o.getTopRight());return new de(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,h){o=we(o),h=$(h||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),E=this.getMaxZoom(),k=o.getNorthWest(),M=o.getSouthEast(),D=this.getSize().subtract(h),Y=re(this.project(M,f),this.project(k,f)).getSize(),te=ae.any3d?this.options.zoomSnap:1,he=D.x/Y.x,Te=D.y/Y.y,Ft=l?Math.max(he,Te):Math.min(he,Te);return f=this.getScaleZoom(Ft,f),te&&(f=Math.round(f/(te/100))*(te/100),f=l?Math.ceil(f/te)*te:Math.floor(f/te)*te),Math.max(g,Math.min(E,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var h=this._getTopLeftPoint(o,l);return new ee(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(o)/h.scale(l)},getScaleZoom:function(o,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var f=h.zoom(o*h.scale(l));return isNaN(f)?1/0:f},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(oe(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng($(o),l)},layerPointToLatLng:function(o){var l=$(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(oe(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(oe(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(we(o))},distance:function(o,l){return this.options.crs.distance(oe(o),oe(l))},containerPointToLayerPoint:function(o){return $(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return $(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint($(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(o)))},mouseEventToContainerPoint:function(o){return s_(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=t_(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ye(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&ae.any3d,Ee(o,"leaflet-container"+(ae.touch?" leaflet-touch":"")+(ae.retina?" leaflet-retina":"")+(ae.ielt9?" leaflet-oldie":"")+(ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Zo(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nt(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ee(o.markerPane,"leaflet-zoom-hide"),Ee(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,h){nt(this._mapPane,new R(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,h)._move(o,l)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,h,f){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),f?h&&h.pinch&&this.fire("zoom",h):((g||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){nt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var l=o?Re:ye;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),ae.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var h=[],f,g=l==="mouseout"||l==="mouseover",E=o.target||o.srcElement,k=!1;E;){if(f=this._targets[c(E)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){k=!0;break}if(f&&f.listens(l,!0)&&(g&&!tf(E,o)||(h.push(f),g))||E===this._container)break;E=E.parentNode}return!h.length&&!k&&!g&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var h=o.type;h==="mousedown"&&Kd(l),this._fireDOMEvent(o,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,h){if(o.type==="click"){var f=r({},o);f.type="preclick",this._fireDOMEvent(f,f.type,h)}var g=this._findEventTargets(o,l);if(h){for(var E=[],k=0;k<h.length;k++)h[k].listens(l,!0)&&E.push(h[k]);g=E.concat(g)}if(g.length){l==="contextmenu"&&yt(o);var M=g[0],D={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Y=M.getLatLng&&(!M._radius||M._radius<=10);D.containerPoint=Y?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(o),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=Y?M.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(k=0;k<g.length;k++)if(g[k].fire(l,D,!0),D.originalEvent._stopped||g[k].options.bubblingMouseEvents===!1&&C(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return Rr(this._mapPane)||new R(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var h=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var h=this.getSize()._divideBy(2);return this.project(o,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return this.project(o,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return re([this.project(o.getSouthWest(),l)._subtract(f),this.project(o.getNorthWest(),l)._subtract(f),this.project(o.getSouthEast(),l)._subtract(f),this.project(o.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,h){if(!h)return o;var f=this.project(o,l),g=this.getSize().divideBy(2),E=new ee(f.subtract(g),f.add(g)),k=this._getBoundsOffset(E,h,l);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?o:this.unproject(f.add(k),l)},_limitOffset:function(o,l){if(!l)return o;var h=this.getPixelBounds(),f=new ee(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(o,l,h){var f=re(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),g=f.min.subtract(o.min),E=f.max.subtract(o.max),k=this._rebound(g.x,-E.x),M=this._rebound(g.y,-E.y);return new R(k,M)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),h=this.getMaxZoom(),f=ae.any3d?this.options.zoomSnap:1;return f&&(o=Math.round(o/f)*f),Math.max(l,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var h=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var o=this._proxy=Pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var h=jd,f=this._proxy.style[h];Or(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Or(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),g=this._getCenterOffset(o)._divideBy(1-1/f);return h.animate!==!0&&!this.getSize().contains(g)?!1:(H(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,h,f){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,Ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gk(o,l){return new Ie(o,l)}var Nn=B.extend({options:{position:"topright"},initialize:function(o){S(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),h=this.getPosition(),f=o._controlCorners[h];return Ee(l,"leaflet-control"),h.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Jo=function(o){return new Nn(o)};Ie.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",h=this._controlContainer=Pe("div",l+"control-container",this._container);function f(g,E){var k=l+g+" "+l+E;o[g+E]=Pe("div",k,h)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ve(this._controlCorners[o]);Ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var l_=Nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,h,f){return h<f?-1:f<h?1:0}},initialize:function(o,l,h){S(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in o)this._addLayer(o[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Nn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=Pe("div",o),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Xo(l),ef(l);var f=this._section=Pe("section",o+"-list");h&&(this._map.on("click",this.collapse,this),ye(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Pe("a",o+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),ye(g,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){yt(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Pe("div",o+"-base",f),this._separator=Pe("div",o+"-separator",f),this._overlaysList=Pe("div",o+"-overlays",f),l.appendChild(f)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;lu(this._baseLayersList),lu(this._overlaysList),this._layerControlInputs=[];var o,l,h,f,g=0;for(h=0;h<this._layers.length;h++)f=this._layers[h],this._addItem(f),l=l||f.overlay,o=o||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(o=o&&g>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(c(o.target)),h=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(o,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=h,f.firstChild},_addItem:function(o){var l=document.createElement("label"),h=this._map.hasLayer(o.layer),f;o.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=h):f=this._createRadioElement("leaflet-base-layers_"+c(this),h),this._layerControlInputs.push(f),f.layerId=c(o.layer),ye(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+o.name;var E=document.createElement("span");l.appendChild(E),E.appendChild(f),E.appendChild(g);var k=o.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,h,f=[],g=[];this._handlingClick=!0;for(var E=o.length-1;E>=0;E--)l=o[E],h=this._getLayer(l.layerId).layer,l.checked?f.push(h):l.checked||g.push(h);for(E=0;E<g.length;E++)this._map.hasLayer(g[E])&&this._map.removeLayer(g[E]);for(E=0;E<f.length;E++)this._map.hasLayer(f[E])||this._map.addLayer(f[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,h,f=this._map.getZoom(),g=o.length-1;g>=0;g--)l=o[g],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&f<h.options.minZoom||h.options.maxZoom!==void 0&&f>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ye(o,"click",yt),this.expand();var l=this;setTimeout(function(){Re(o,"click",yt),l._preventClick=!1})}}),vk=function(o,l,h){return new l_(o,l,h)},nf=Nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",h=Pe("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,h,f,g){var E=Pe("a",h,f);return E.innerHTML=o,E.href="#",E.title=l,E.setAttribute("role","button"),E.setAttribute("aria-label",l),Xo(E),ye(E,"click",Dr),ye(E,"click",g,this),ye(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";Je(this._zoomInButton,l),Je(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ee(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ee(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ie.mergeOptions({zoomControl:!0}),Ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new nf,this.addControl(this.zoomControl))});var yk=function(o){return new nf(o)},u_=Nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",h=Pe("div",l),f=this.options;return this._addScales(f,l+"-line",h),o.on(f.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,h){o.metric&&(this._mScale=Pe("div",l,h)),o.imperial&&(this._iScale=Pe("div",l,h))},_update:function(){var o=this._map,l=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/o)},_updateImperial:function(o){var l=o*3.2808399,h,f,g;l>5280?(h=l/5280,f=this._getRoundNum(h),this._updateScale(this._iScale,f+" mi",f/h)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(o,l,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),h=o/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),_k=function(o){return new u_(o)},wk='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',rf=Nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ae.inlineSvg?wk+" ":"")+"Leaflet</a>"},initialize:function(o){S(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Pe("div","leaflet-control-attribution"),Xo(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ie.mergeOptions({attributionControl:!0}),Ie.addInitHook(function(){this.options.attributionControl&&new rf().addTo(this)});var Ek=function(o){return new rf(o)};Nn.Layers=l_,Nn.Zoom=nf,Nn.Scale=u_,Nn.Attribution=rf,Jo.layers=vk,Jo.zoom=yk,Jo.scale=_k,Jo.attribution=Ek;var qn=B.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qn.addTo=function(o,l){return o.addHandler(l,this),this};var xk={Events:W},c_=ae.touch?"touchstart mousedown":"mousedown",$i=Z.extend({options:{clickTolerance:3},initialize:function(o,l,h,f){S(this,f),this._element=o,this._dragStartTarget=l||o,this._preventOutline=h},enable:function(){this._enabled||(ye(this._dragStartTarget,c_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($i._dragging===this&&this.finishDrag(!0),Re(this._dragStartTarget,c_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Vd(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){$i._dragging===this&&this.finishDrag();return}if(!($i._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&($i._dragging=this,this._preventOutline&&Kd(this._element),qd(),Ko(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,h=n_(this._element);this._startPoint=new R(l.clientX,l.clientY),this._startPos=Rr(this._element),this._parentScale=Yd(h);var f=o.type==="mousedown";ye(document,f?"mousemove":"touchmove",this._onMove,this),ye(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,h=new R(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,yt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ee(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),nt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Re(document,"mousemove touchmove",this._onMove,this),Re(document,"mouseup touchend touchcancel",this._onUp,this),Gd(),Yo();var l=this._moved&&this._moving;this._moving=!1,$i._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function h_(o,l,h){var f,g=[1,4,2,8],E,k,M,D,Y,te,he,Te;for(E=0,te=o.length;E<te;E++)o[E]._code=$r(o[E],l);for(M=0;M<4;M++){for(he=g[M],f=[],E=0,te=o.length,k=te-1;E<te;k=E++)D=o[E],Y=o[k],D._code&he?Y._code&he||(Te=fu(Y,D,he,l,h),Te._code=$r(Te,l),f.push(Te)):(Y._code&he&&(Te=fu(Y,D,he,l,h),Te._code=$r(Te,l),f.push(Te)),f.push(D));o=f}return o}function d_(o,l){var h,f,g,E,k,M,D,Y,te;if(!o||o.length===0)throw new Error("latlngs not passed");_n(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var he=oe([0,0]),Te=we(o),Ft=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());Ft<1700&&(he=sf(o));var ht=o.length,wn=[];for(h=0;h<ht;h++){var Yt=oe(o[h]);wn.push(l.project(oe([Yt.lat-he.lat,Yt.lng-he.lng])))}for(M=D=Y=0,h=0,f=ht-1;h<ht;f=h++)g=wn[h],E=wn[f],k=g.y*E.x-E.y*g.x,D+=(g.x+E.x)*k,Y+=(g.y+E.y)*k,M+=k*3;M===0?te=wn[0]:te=[D/M,Y/M];var Rs=l.unproject($(te));return oe([Rs.lat+he.lat,Rs.lng+he.lng])}function sf(o){for(var l=0,h=0,f=0,g=0;g<o.length;g++){var E=oe(o[g]);l+=E.lat,h+=E.lng,f++}return oe([l/f,h/f])}var Tk={__proto__:null,clipPolygon:h_,polygonCenter:d_,centroid:sf};function f_(o,l){if(!l||!o.length)return o.slice();var h=l*l;return o=Ik(o,h),o=Ck(o,h),o}function p_(o,l,h){return Math.sqrt(ea(o,l,h,!0))}function Sk(o,l,h){return ea(o,l,h)}function Ck(o,l){var h=o.length,f=typeof Uint8Array!=void 0+""?Uint8Array:Array,g=new f(h);g[0]=g[h-1]=1,of(o,g,l,0,h-1);var E,k=[];for(E=0;E<h;E++)g[E]&&k.push(o[E]);return k}function of(o,l,h,f,g){var E=0,k,M,D;for(M=f+1;M<=g-1;M++)D=ea(o[M],o[f],o[g],!0),D>E&&(k=M,E=D);E>h&&(l[k]=1,of(o,l,h,f,k),of(o,l,h,k,g))}function Ik(o,l){for(var h=[o[0]],f=1,g=0,E=o.length;f<E;f++)bk(o[f],o[g])>l&&(h.push(o[f]),g=f);return g<E-1&&h.push(o[E-1]),h}var m_;function g_(o,l,h,f,g){var E=f?m_:$r(o,h),k=$r(l,h),M,D,Y;for(m_=k;;){if(!(E|k))return[o,l];if(E&k)return!1;M=E||k,D=fu(o,l,M,h,g),Y=$r(D,h),M===E?(o=D,E=Y):(l=D,k=Y)}}function fu(o,l,h,f,g){var E=l.x-o.x,k=l.y-o.y,M=f.min,D=f.max,Y,te;return h&8?(Y=o.x+E*(D.y-o.y)/k,te=D.y):h&4?(Y=o.x+E*(M.y-o.y)/k,te=M.y):h&2?(Y=D.x,te=o.y+k*(D.x-o.x)/E):h&1&&(Y=M.x,te=o.y+k*(M.x-o.x)/E),new R(Y,te,g)}function $r(o,l){var h=0;return o.x<l.min.x?h|=1:o.x>l.max.x&&(h|=2),o.y<l.min.y?h|=4:o.y>l.max.y&&(h|=8),h}function bk(o,l){var h=l.x-o.x,f=l.y-o.y;return h*h+f*f}function ea(o,l,h,f){var g=l.x,E=l.y,k=h.x-g,M=h.y-E,D=k*k+M*M,Y;return D>0&&(Y=((o.x-g)*k+(o.y-E)*M)/D,Y>1?(g=h.x,E=h.y):Y>0&&(g+=k*Y,E+=M*Y)),k=o.x-g,M=o.y-E,f?k*k+M*M:new R(g,E)}function _n(o){return!x(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function v_(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_n(o)}function y_(o,l){var h,f,g,E,k,M,D,Y;if(!o||o.length===0)throw new Error("latlngs not passed");_n(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var te=oe([0,0]),he=we(o),Te=he.getNorthWest().distanceTo(he.getSouthWest())*he.getNorthEast().distanceTo(he.getNorthWest());Te<1700&&(te=sf(o));var Ft=o.length,ht=[];for(h=0;h<Ft;h++){var wn=oe(o[h]);ht.push(l.project(oe([wn.lat-te.lat,wn.lng-te.lng])))}for(h=0,f=0;h<Ft-1;h++)f+=ht[h].distanceTo(ht[h+1])/2;if(f===0)Y=ht[0];else for(h=0,E=0;h<Ft-1;h++)if(k=ht[h],M=ht[h+1],g=k.distanceTo(M),E+=g,E>f){D=(E-f)/g,Y=[M.x-D*(M.x-k.x),M.y-D*(M.y-k.y)];break}var Yt=l.unproject($(Y));return oe([Yt.lat+te.lat,Yt.lng+te.lng])}var kk={__proto__:null,simplify:f_,pointToSegmentDistance:p_,closestPointOnSegment:Sk,clipSegment:g_,_getEdgeIntersection:fu,_getBitCode:$r,_sqClosestPointOnSegment:ea,isFlat:_n,_flat:v_,polylineCenter:y_},af={project:function(o){return new R(o.lng,o.lat)},unproject:function(o){return new me(o.y,o.x)},bounds:new ee([-180,-90],[180,90])},lf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,h=this.R,f=o.lat*l,g=this.R_MINOR/h,E=Math.sqrt(1-g*g),k=E*Math.sin(f),M=Math.tan(Math.PI/4-f/2)/Math.pow((1-k)/(1+k),E/2);return f=-h*Math.log(Math.max(M,1e-10)),new R(o.lng*l*h,f)},unproject:function(o){for(var l=180/Math.PI,h=this.R,f=this.R_MINOR/h,g=Math.sqrt(1-f*f),E=Math.exp(-o.y/h),k=Math.PI/2-2*Math.atan(E),M=0,D=.1,Y;M<15&&Math.abs(D)>1e-7;M++)Y=g*Math.sin(k),Y=Math.pow((1-Y)/(1+Y),g/2),D=Math.PI/2-2*Math.atan(E*Y)-k,k+=D;return new me(k*l,o.x*l/h)}},Pk={__proto__:null,LonLat:af,Mercator:lf,SphericalMercator:vn},Lk=r({},Bt,{code:"EPSG:3395",projection:lf,transformation:function(){var o=.5/(Math.PI*lf.R);return Vn(o,.5,-o,.5)}()}),__=r({},Bt,{code:"EPSG:4326",projection:af,transformation:Vn(1/180,1,-1/180,.5)}),Nk=r({},Ke,{projection:af,transformation:Vn(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var h=l.lng-o.lng,f=l.lat-o.lat;return Math.sqrt(h*h+f*f)},infinite:!0});Ke.Earth=Bt,Ke.EPSG3395=Lk,Ke.EPSG3857=Md,Ke.EPSG900913=$b,Ke.EPSG4326=__,Ke.Simple=Nk;var An=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ie.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=c(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},_addLayers:function(o){o=o?x(o)?o:[o]:[];for(var l=0,h=o.length;l<h;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=c(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,h=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;o=g.minZoom===void 0?o:Math.min(o,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ps=An.extend({initialize:function(o,l){S(this,l),this._layers={};var h,f;if(o)for(h=0,f=o.length;h<f;h++)this.addLayer(o[h])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),h,f;for(h in this._layers)f=this._layers[h],f[o]&&f[o].apply(f,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),Ak=function(o,l){return new Ps(o,l)},di=Ps.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ps.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ps.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new de;for(var l in this._layers){var h=this._layers[l];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),Ok=function(o,l){return new di(o,l)},Ls=B.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){S(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var h=this._getIconUrl(o);if(!h){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(o,l){var h=this.options,f=h[l+"Size"];typeof f=="number"&&(f=[f,f]);var g=$(f),E=$(l==="shadow"&&h.shadowAnchor||h.iconAnchor||g&&g.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(h.className||""),E&&(o.style.marginLeft=-E.x+"px",o.style.marginTop=-E.y+"px"),g&&(o.style.width=g.x+"px",o.style.height=g.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return ae.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Rk(o){return new Ls(o)}var ta=Ls.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof ta.imagePath!="string"&&(ta.imagePath=this._detectIconPath()),(this.options.imagePath||ta.imagePath)+Ls.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(h,f,g){var E=f.exec(h);return E&&E[g]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Pe("div","leaflet-default-icon-path",document.body),l=Zo(o,"background-image")||Zo(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),w_=qn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new $i(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ee(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,h=l._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,E=Rr(l._icon),k=h.getPixelBounds(),M=h.getPixelOrigin(),D=re(k.min._subtract(M).add(g),k.max._subtract(M).subtract(g));if(!D.contains(E)){var Y=$((Math.max(D.max.x,E.x)-D.max.x)/(k.max.x-D.max.x)-(Math.min(D.min.x,E.x)-D.min.x)/(k.min.x-D.min.x),(Math.max(D.max.y,E.y)-D.max.y)/(k.max.y-D.max.y)-(Math.min(D.min.y,E.y)-D.min.y)/(k.min.y-D.min.y)).multiplyBy(f);h.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),nt(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=H(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,h=l._shadow,f=Rr(l._icon),g=l._map.layerPointToLatLng(f);h&&nt(h,f),l._latlng=g,o.latlng=g,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),pu=An.extend({options:{icon:new ta,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){S(this,l),this._latlng=oe(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=oe(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),f=!1;h!==this._icon&&(this._icon&&this._removeIcon(),f=!0,o.title&&(h.title=o.title),h.tagName==="IMG"&&(h.alt=o.alt||"")),Ee(h,l),o.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(h,"focus",this._panOnFocus,this);var g=o.icon.createShadow(this._shadow),E=!1;g!==this._shadow&&(this._removeShadow(),E=!0),g&&(Ee(g,l),g.alt=""),this._shadow=g,o.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&E&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(this._icon,"focus",this._panOnFocus,this),Ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ve(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&nt(this._icon,o),this._shadow&&nt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),w_)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new w_(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&yn(this._icon,o),this._shadow&&yn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,h=l.iconSize?$(l.iconSize):$(0,0),f=l.iconAnchor?$(l.iconAnchor):$(0,0);o.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:h.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Mk(o,l){return new pu(o,l)}var zi=An.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return S(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),mu=zi.extend({options:{fill:!0,radius:10},initialize:function(o,l){S(this,l),this._latlng=oe(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=oe(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return zi.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,h=this._clickTolerance(),f=[o+h,l+h];this._pxBounds=new ee(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Dk(o,l){return new mu(o,l)}var uf=mu.extend({initialize:function(o,l,h){if(typeof l=="number"&&(l=r({},h,{radius:l})),S(this,l),this._latlng=oe(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new de(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:zi.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,h=this._map,f=h.options.crs;if(f.distance===Bt.distance){var g=Math.PI/180,E=this._mRadius/Bt.R/g,k=h.project([l+E,o]),M=h.project([l-E,o]),D=k.add(M).divideBy(2),Y=h.unproject(D).lat,te=Math.acos((Math.cos(E*g)-Math.sin(l*g)*Math.sin(Y*g))/(Math.cos(l*g)*Math.cos(Y*g)))/g;(isNaN(te)||te===0)&&(te=E/Math.cos(Math.PI/180*l)),this._point=D.subtract(h.getPixelOrigin()),this._radius=isNaN(te)?0:D.x-h.project([Y,o-te]).x,this._radiusY=D.y-k.y}else{var he=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(he).x}this._updateBounds()}});function $k(o,l,h){return new uf(o,l,h)}var fi=zi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){S(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,h=null,f=ea,g,E,k=0,M=this._parts.length;k<M;k++)for(var D=this._parts[k],Y=1,te=D.length;Y<te;Y++){g=D[Y-1],E=D[Y];var he=f(o,g,E,!0);he<l&&(l=he,h=f(o,g,E))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return y_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=oe(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new de,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return _n(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],h=_n(o),f=0,g=o.length;f<g;f++)h?(l[f]=oe(o[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(o[f]);return l},_project:function(){var o=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new R(o,o);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,h){var f=o[0]instanceof me,g=o.length,E,k;if(f){for(k=[],E=0;E<g;E++)k[E]=this._map.latLngToLayerPoint(o[E]),h.extend(k[E]);l.push(k)}else for(E=0;E<g;E++)this._projectLatlngs(o[E],l,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,f,g,E,k,M,D;for(h=0,g=0,E=this._rings.length;h<E;h++)for(D=this._rings[h],f=0,k=D.length;f<k-1;f++)M=g_(D[f],D[f+1],o,f,!0),M&&(l[g]=l[g]||[],l[g].push(M[0]),(M[1]!==D[f+1]||f===k-2)&&(l[g].push(M[1]),g++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,h=0,f=o.length;h<f;h++)o[h]=f_(o[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var h,f,g,E,k,M,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,E=this._parts.length;h<E;h++)for(M=this._parts[h],f=0,k=M.length,g=k-1;f<k;g=f++)if(!(!l&&f===0)&&p_(o,M[g],M[f])<=D)return!0;return!1}});function zk(o,l){return new fi(o,l)}fi._flat=v_;var Ns=fi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return d_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=fi.prototype._convertLatLngs.call(this,o),h=l.length;return h>=2&&l[0]instanceof me&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(o){fi.prototype._setLatLngs.call(this,o),_n(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _n(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,h=new R(l,l);if(o=new ee(o.min.subtract(h),o.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,E;f<g;f++)E=h_(this._rings[f],o,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,h,f,g,E,k,M,D,Y;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(E=0,D=this._parts.length;E<D;E++)for(h=this._parts[E],k=0,Y=h.length,M=Y-1;k<Y;M=k++)f=h[k],g=h[M],f.y>o.y!=g.y>o.y&&o.x<(g.x-f.x)*(o.y-f.y)/(g.y-f.y)+f.x&&(l=!l);return l||fi.prototype._containsPoint.call(this,o,!0)}});function Bk(o,l){return new Ns(o,l)}var pi=di.extend({initialize:function(o,l){S(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=x(o)?o:o.features,h,f,g;if(l){for(h=0,f=l.length;h<f;h++)g=l[h],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var E=this.options;if(E.filter&&!E.filter(o))return this;var k=gu(o,E);return k?(k.feature=_u(o),k.defaultOptions=k.options,this.resetStyle(k),E.onEachFeature&&E.onEachFeature(o,k),this.addLayer(k)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=r({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function gu(o,l){var h=o.type==="Feature"?o.geometry:o,f=h?h.coordinates:null,g=[],E=l&&l.pointToLayer,k=l&&l.coordsToLatLng||cf,M,D,Y,te;if(!f&&!h)return null;switch(h.type){case"Point":return M=k(f),E_(E,o,M,l);case"MultiPoint":for(Y=0,te=f.length;Y<te;Y++)M=k(f[Y]),g.push(E_(E,o,M,l));return new di(g);case"LineString":case"MultiLineString":return D=vu(f,h.type==="LineString"?0:1,k),new fi(D,l);case"Polygon":case"MultiPolygon":return D=vu(f,h.type==="Polygon"?1:2,k),new Ns(D,l);case"GeometryCollection":for(Y=0,te=h.geometries.length;Y<te;Y++){var he=gu({geometry:h.geometries[Y],type:"Feature",properties:o.properties},l);he&&g.push(he)}return new di(g);case"FeatureCollection":for(Y=0,te=h.features.length;Y<te;Y++){var Te=gu(h.features[Y],l);Te&&g.push(Te)}return new di(g);default:throw new Error("Invalid GeoJSON object.")}}function E_(o,l,h,f){return o?o(l,h):new pu(h,f&&f.markersInheritOptions&&f)}function cf(o){return new me(o[1],o[0],o[2])}function vu(o,l,h){for(var f=[],g=0,E=o.length,k;g<E;g++)k=l?vu(o[g],l-1,h):(h||cf)(o[g]),f.push(k);return f}function hf(o,l){return o=oe(o),o.alt!==void 0?[_(o.lng,l),_(o.lat,l),_(o.alt,l)]:[_(o.lng,l),_(o.lat,l)]}function yu(o,l,h,f){for(var g=[],E=0,k=o.length;E<k;E++)g.push(l?yu(o[E],_n(o[E])?0:l-1,h,f):hf(o[E],f));return!l&&h&&g.length>0&&g.push(g[0].slice()),g}function As(o,l){return o.feature?r({},o.feature,{geometry:l}):_u(l)}function _u(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var df={toGeoJSON:function(o){return As(this,{type:"Point",coordinates:hf(this.getLatLng(),o)})}};pu.include(df),uf.include(df),mu.include(df),fi.include({toGeoJSON:function(o){var l=!_n(this._latlngs),h=yu(this._latlngs,l?1:0,!1,o);return As(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Ns.include({toGeoJSON:function(o){var l=!_n(this._latlngs),h=l&&!_n(this._latlngs[0]),f=yu(this._latlngs,h?2:l?1:0,!0,o);return l||(f=[f]),As(this,{type:(h?"Multi":"")+"Polygon",coordinates:f})}}),Ps.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(o).geometry.coordinates)}),As(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var h=l==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var E=g.toGeoJSON(o);if(h)f.push(E.geometry);else{var k=_u(E);k.type==="FeatureCollection"?f.push.apply(f,k.features):f.push(k)}}}),h?As(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function x_(o,l){return new pi(o,l)}var Fk=x_,wu=An.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,h){this._url=o,this._bounds=we(l),S(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&bs(this._image),this},bringToBack:function(){return this._map&&ks(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=we(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:Pe("img");if(Ee(l,"leaflet-image-layer"),this._zoomAnimated&&Ee(l,"leaflet-zoom-animated"),this.options.className&&Ee(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Or(this._image,h,l)},_reset:function(){var o=this._image,l=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();nt(o,l.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){yn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Uk=function(o,l,h){return new wu(o,l,h)},T_=wu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:Pe("video");if(Ee(l,"leaflet-image-layer"),this._zoomAnimated&&Ee(l,"leaflet-zoom-animated"),this.options.className&&Ee(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),o){for(var h=l.getElementsByTagName("source"),f=[],g=0;g<h.length;g++)f.push(h[g].src);this._url=h.length>0?f:[l.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var k=Pe("source");k.src=this._url[E],l.appendChild(k)}}});function jk(o,l,h){return new T_(o,l,h)}var S_=wu.extend({_initImage:function(){var o=this._image=this._url;Ee(o,"leaflet-image-layer"),this._zoomAnimated&&Ee(o,"leaflet-zoom-animated"),this.options.className&&Ee(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function Vk(o,l,h){return new S_(o,l,h)}var Gn=An.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof me||x(o))?(this._latlng=oe(o),S(this,l)):(S(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&yn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&yn(this._container,1),this.bringToFront(),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(yn(this._container,0),this._removeTimeout=setTimeout(a(Ve,void 0,this._container),200)):Ve(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=oe(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bs(this._container),this},bringToBack:function(){return this._map&&ks(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof di){l=null;var h=this._source._layers;for(var f in h)if(h[f]._map){l=h[f];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=$(this.options.offset),h=this._getAnchor();this._zoomAnimated?nt(this._container,o.add(h)):l=l.add(o).add(h);var f=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Ie.include({_initOverlay:function(o,l,h,f){var g=l;return g instanceof o||(g=new o(f).setContent(l)),h&&g.setLatLng(h),g}}),An.include({_initOverlay:function(o,l,h,f){var g=h;return g instanceof o?(S(g,f),g._source=this):(g=l&&!f?l:new o(f,this),g.setContent(h)),g}});var Eu=Gn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Gn.prototype.openOn.call(this,o)},onAdd:function(o){Gn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zi||this._source.on("preclick",Mr))},onRemove:function(o){Gn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zi||this._source.off("preclick",Mr))},getEvents:function(){var o=Gn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=Pe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Pe("div",o+"-content-wrapper",l);if(this._contentNode=Pe("div",o+"-content",h),Xo(l),ef(this._contentNode),ye(l,"contextmenu",Mr),this._tipContainer=Pe("div",o+"-tip-container",l),this._tip=Pe("div",o+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Pe("a",o+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ye(f,"click",function(g){yt(g),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var f=o.offsetHeight,g=this.options.maxHeight,E="leaflet-popup-scrolled";g&&f>g?(l.height=g+"px",Ee(o,E)):Je(o,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();nt(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(Zo(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,f=this._containerWidth,g=new R(this._containerLeft,-h-this._containerBottom);g._add(Rr(this._container));var E=o.layerPointToContainerPoint(g),k=$(this.options.autoPanPadding),M=$(this.options.autoPanPaddingTopLeft||k),D=$(this.options.autoPanPaddingBottomRight||k),Y=o.getSize(),te=0,he=0;E.x+f+D.x>Y.x&&(te=E.x+f-Y.x+D.x),E.x-te-M.x<0&&(te=E.x-M.x),E.y+h+D.y>Y.y&&(he=E.y+h-Y.y+D.y),E.y-he-M.y<0&&(he=E.y-M.y),(te||he)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([te,he]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Hk=function(o,l){return new Eu(o,l)};Ie.mergeOptions({closePopupOnClick:!0}),Ie.include({openPopup:function(o,l,h){return this._initOverlay(Eu,o,l,h).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),An.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Eu,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof di||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Dr(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof zi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var xu=Gn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Gn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Gn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Gn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,h,f=this._map,g=this._container,E=f.latLngToContainerPoint(f.getCenter()),k=f.layerPointToContainerPoint(o),M=this.options.direction,D=g.offsetWidth,Y=g.offsetHeight,te=$(this.options.offset),he=this._getAnchor();M==="top"?(l=D/2,h=Y):M==="bottom"?(l=D/2,h=0):M==="center"?(l=D/2,h=Y/2):M==="right"?(l=0,h=Y/2):M==="left"?(l=D,h=Y/2):k.x<E.x?(M="right",l=0,h=Y/2):(M="left",l=D+(te.x+he.x)*2,h=Y/2),o=o.subtract($(l,h,!0)).add(te).add(he),Je(g,"leaflet-tooltip-right"),Je(g,"leaflet-tooltip-left"),Je(g,"leaflet-tooltip-top"),Je(g,"leaflet-tooltip-bottom"),Ee(g,"leaflet-tooltip-"+M),nt(g,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&yn(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wk=function(o,l){return new xu(o,l)};Ie.include({openTooltip:function(o,l,h){return this._initOverlay(xu,o,l,h).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),An.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xu,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof di||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(ye(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ye(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,h,f;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),f=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var C_=Ls.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?(lu(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var f=$(h.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function qk(o){return new C_(o)}Ls.Default=ta;var na=An.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){S(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ve(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ks(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof R?o:new R(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,h=-o(-1/0,1/0),f=0,g=l.length,E;f<g;f++)E=l[f].style.zIndex,l[f]!==this._container&&E&&(h=o(h,+E));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ae.ielt9){yn(this._container,this.options.opacity);var o=+new Date,l=!1,h=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var E=Math.min(1,(o-g.loaded)/200);yn(g.el,E),E<1?l=!0:(g.active?h=!0:this._onOpaqueTile(g),g.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(U(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=l-Math.abs(o-h),this._onUpdateLevel(h)):(Ve(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var f=this._levels[o],g=this._map;return f||(f=this._levels[o]={},f.el=Pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=g.project(g.unproject(g.getPixelOrigin()),o).round(),f.zoom=o,this._setZoomTransform(f,g.getCenter(),g.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ve(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,h,f){var g=Math.floor(o/2),E=Math.floor(l/2),k=h-1,M=new R(+g,+E);M.z=+k;var D=this._tileCoordsToKey(M),Y=this._tiles[D];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),k>f?this._retainParent(g,E,k,f):!1)},_retainChildren:function(o,l,h,f){for(var g=2*o;g<2*o+2;g++)for(var E=2*l;E<2*l+2;E++){var k=new R(g,E);k.z=h+1;var M=this._tileCoordsToKey(k),D=this._tiles[M];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);h+1<f&&this._retainChildren(g,E,h+1,f)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,h,f){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var E=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||E)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,l)},_setZoomTransform:function(o,l,h){var f=this._map.getZoomScale(h,o.zoom),g=o.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,h)).round();ae.any3d?Or(o.el,g,f):nt(o.el,g)},_resetGrid:function(){var o=this._map,l=o.options.crs,h=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],f).x/h.x),Math.ceil(o.project([0,l.wrapLng[1]],f).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],f).y/h.x),Math.ceil(o.project([l.wrapLat[1],0],f).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(h,this._tileZoom),g=l.project(o,this._tileZoom).floor(),E=l.getSize().divideBy(f*2);return new ee(g.subtract(E),g.add(E))},_update:function(o){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(o),g=this._pxBoundsToTileRange(f),E=g.getCenter(),k=[],M=this.options.keepBuffer,D=new ee(g.getBottomLeft().subtract([M,-M]),g.getTopRight().add([M,-M]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var te=this._tiles[Y].coords;(te.z!==this._tileZoom||!D.contains(new R(te.x,te.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(o,h);return}for(var he=g.min.y;he<=g.max.y;he++)for(var Te=g.min.x;Te<=g.max.x;Te++){var Ft=new R(Te,he);if(Ft.z=this._tileZoom,!!this._isValidTile(Ft)){var ht=this._tiles[this._tileCoordsToKey(Ft)];ht?ht.current=!0:k.push(Ft)}}if(k.sort(function(Yt,Rs){return Yt.distanceTo(E)-Rs.distanceTo(E)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wn=document.createDocumentFragment();for(Te=0;Te<k.length;Te++)this._addTile(k[Te],wn);this._level.el.appendChild(wn)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!l.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(o);return we(this.options.bounds).overlaps(f)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,h=this.getTileSize(),f=o.scaleBy(h),g=f.add(h),E=l.unproject(f,o.z),k=l.unproject(g,o.z);return[E,k]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),h=new de(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),h=new R(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(o){var l=this._tiles[o];l&&(Ve(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ee(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=m,o.onmousemove=m,ae.ielt9&&this.options.opacity<1&&yn(o,this.options.opacity)},_addTile:function(o,l){var h=this._getTilePos(o),f=this._tileCoordsToKey(o),g=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(g),this.createTile.length<2&&H(a(this._tileReady,this,o,null,g)),nt(g,h),this._tiles[f]={el:g,coords:o,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:o})},_tileReady:function(o,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:o});var f=this._tileCoordsToKey(o);h=this._tiles[f],h&&(h.loaded=+new Date,this._map._fadeAnimated?(yn(h.el,0),U(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Ee(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ae.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new R(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new ee(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Gk(o){return new na(o)}var Os=na.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=S(this,l),l.detectRetina&&ae.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var h=document.createElement("img");return ye(h,"load",a(this._tileOnLoad,this,l,h)),ye(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(o),h},getTileUrl:function(o){var l={r:ae.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=h),l["-y"]=h}return y(this._url,r(l,this.options))},_tileOnLoad:function(o,l){ae.ielt9?setTimeout(a(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,h){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),o(h,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,f=this.options.zoomOffset;return h&&(o=l-o),o+f},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=m,l.onerror=m,!l.complete)){l.src=P;var h=this._tiles[o].coords;Ve(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",P),na.prototype._removeTile.call(this,o)},_tileReady:function(o,l,h){if(!(!this._map||h&&h.getAttribute("src")===P))return na.prototype._tileReady.call(this,o,l,h)}});function I_(o,l){return new Os(o,l)}var b_=Os.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var h=r({},this.defaultWmsParams);for(var f in l)f in this.options||(h[f]=l[f]);l=S(this,l);var g=l.detectRetina&&ae.retina?2:1,E=this.getTileSize();h.width=E.x*g,h.height=E.y*g,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Os.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),h=this._crs,f=re(h.project(l[0]),h.project(l[1])),g=f.min,E=f.max,k=(this._wmsVersion>=1.3&&this._crs===__?[g.y,g.x,E.y,E.x]:[g.x,g.y,E.x,E.y]).join(","),M=Os.prototype.getTileUrl.call(this,o);return M+I(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(o,l){return r(this.wmsParams,o),l||this.redraw(),this}});function Zk(o,l){return new b_(o,l)}Os.WMS=b_,I_.wms=Zk;var mi=An.extend({options:{padding:.1},initialize:function(o){S(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var h=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),E=f.multiplyBy(-h).add(g).subtract(this._map._getNewPixelOrigin(o,l));ae.any3d?Or(this._container,E,h):nt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new ee(h,h.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),k_=mi.extend({options:{tolerance:0},getEvents:function(){var o=mi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ye(o,"mousemove",this._onMouseMove,this),ye(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ye(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Ve(this._container),Re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mi.prototype._update.call(this);var o=this._bounds,l=this._container,h=o.getSize(),f=ae.retina?2:1;nt(l,o.min),l.width=f*h.x,l.height=f*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){mi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,h=l.next,f=l.prev;h?h.prev=f:this._drawLast=f,f?f.next=h:this._drawFirst=h,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),h=[],f,g;for(g=0;g<l.length;g++){if(f=Number(l[g]),isNaN(f))return;h.push(f)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)o=f.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var h,f,g,E,k=o._parts,M=k.length,D=this._ctx;if(M){for(D.beginPath(),h=0;h<M;h++){for(f=0,g=k[h].length;f<g;f++)E=k[h][f],D[f?"lineTo":"moveTo"](E.x,E.y);l&&D.closePath()}this._fillStroke(D,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,h=this._ctx,f=Math.max(Math.round(o._radius),1),g=(Math.max(Math.round(o._radiusY),1)||f)/f;g!==1&&(h.save(),h.scale(1,g)),h.beginPath(),h.arc(l.x,l.y/g,f,0,Math.PI*2,!1),g!==1&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,l){var h=l.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(h))&&(f=h);this._fireEvent(f?[f]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(Je(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(f=h);f!==this._hoveredLayer&&(this._handleMouseOut(o),f&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,h){this._map._fireDOMEvent(l,h||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(h)h.prev=f;else return;f?f.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(f)f.next=h;else return;h?h.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function P_(o){return ae.canvas?new k_(o):null}var ia=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Kk={_initContainer:function(){this._container=Pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=ia("shape");Ee(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=ia("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;Ve(l),o.removeInteractiveTarget(l),delete this._layers[c(o)]},_updateStyle:function(o){var l=o._stroke,h=o._fill,f=o.options,g=o._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(l||(l=o._stroke=ia("stroke")),g.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=x(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(g.removeChild(l),o._stroke=null),f.fill?(h||(h=o._fill=ia("fill")),g.appendChild(h),h.color=f.fillColor||f.color,h.opacity=f.fillOpacity):h&&(g.removeChild(h),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),h=Math.round(o._radius),f=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+f+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){bs(o._container)},_bringToBack:function(o){ks(o._container)}},Tu=ae.vml?ia:Oy,ra=mi.extend({_initContainer:function(){this._container=Tu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Tu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ve(this._container),Re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mi.prototype._update.call(this);var o=this._bounds,l=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),nt(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Tu("path");o.options.className&&Ee(l,o.options.className),o.options.interactive&&Ee(l,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ve(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,h=o.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,Ry(o._parts,l))},_updateCircle:function(o){var l=o._point,h=Math.max(Math.round(o._radius),1),f=Math.max(Math.round(o._radiusY),1)||h,g="a"+h+","+f+" 0 1,0 ",E=o._empty()?"M0 0":"M"+(l.x-h)+","+l.y+g+h*2+",0 "+g+-h*2+",0 ";this._setPath(o,E)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){bs(o._path)},_bringToBack:function(o){ks(o._path)}});ae.vml&&ra.include(Kk);function L_(o){return ae.svg||ae.vml?new ra(o):null}Ie.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&P_(o)||L_(o)}});var N_=Ns.extend({initialize:function(o,l){Ns.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=we(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Yk(o,l){return new N_(o,l)}ra.create=Tu,ra.pointsToPath=Ry,pi.geometryToLayer=gu,pi.coordsToLatLng=cf,pi.coordsToLatLngs=vu,pi.latLngToCoords=hf,pi.latLngsToCoords=yu,pi.getFeature=As,pi.asFeature=_u,Ie.mergeOptions({boxZoom:!0});var A_=qn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ko(),qd(),this._startPoint=this._map.mouseEventToContainerPoint(o),ye(document,{contextmenu:Dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Pe("div","leaflet-zoom-box",this._container),Ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new ee(this._point,this._startPoint),h=l.getSize();nt(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ve(this._box),Je(this._container,"leaflet-crosshair")),Yo(),Gd(),Re(document,{contextmenu:Dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new de(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ie.addInitHook("addHandler","boxZoom",A_),Ie.mergeOptions({doubleClickZoom:!0});var O_=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,h=l.getZoom(),f=l.options.zoomDelta,g=o.originalEvent.shiftKey?h-f:h+f;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(o.containerPoint,g)}});Ie.addInitHook("addHandler","doubleClickZoom",O_),Ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var R_=qn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new $i(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=we(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),h=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-l+h)%o+l-h,E=(f+l+h)%o-l-h,k=Math.abs(g+h)<Math.abs(E+h)?g:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(o){var l=this._map,h=l.options,f=!h.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),f)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,k=h.easeLinearity,M=g.multiplyBy(k/E),D=M.distanceTo([0,0]),Y=Math.min(h.inertiaMaxSpeed,D),te=M.multiplyBy(Y/D),he=Y/(h.inertiaDeceleration*k),Te=te.multiplyBy(-he/2).round();!Te.x&&!Te.y?l.fire("moveend"):(Te=l._limitOffset(Te,l.options.maxBounds),H(function(){l.panBy(Te,{duration:he,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Ie.addInitHook("addHandler","dragging",R_),Ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var M_=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ye(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,h=o.scrollTop||l.scrollTop,f=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},h=this.keyCodes,f,g;for(f=0,g=h.left.length;f<g;f++)l[h.left[f]]=[-1*o,0];for(f=0,g=h.right.length;f<g;f++)l[h.right[f]]=[o,0];for(f=0,g=h.down.length;f<g;f++)l[h.down[f]]=[0,o];for(f=0,g=h.up.length;f<g;f++)l[h.up[f]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},h=this.keyCodes,f,g;for(f=0,g=h.zoomIn.length;f<g;f++)l[h.zoomIn[f]]=o;for(f=0,g=h.zoomOut.length;f<g;f++)l[h.zoomOut[f]]=-o},_addHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,h=this._map,f;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(f=this._panKeys[l],o.shiftKey&&(f=$(f).multiplyBy(3)),h.options.maxBounds&&(f=h._limitOffset($(f),h.options.maxBounds)),h.options.worldCopyJump){var g=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(f)));h.panTo(g)}else h.panBy(f)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Dr(o)}}});Ie.addInitHook("addHandler","keyboard",M_),Ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var D_=qn.extend({addHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=o_(o),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var f=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),f),Dr(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,E=h?Math.ceil(g/h)*h:g,k=o._limitZoom(l+(this._delta>0?E:-E))-l;this._delta=0,this._startTime=null,k&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+k):o.setZoomAround(this._lastMousePos,l+k))}});Ie.addInitHook("addHandler","scrollWheelZoom",D_);var Qk=600;Ie.mergeOptions({tapHold:ae.touchNative&&ae.safari&&ae.mobile,tapTolerance:15});var $_=qn.extend({addHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new R(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ye(document,"touchend",yt),ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Qk),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Re(document,"touchend",yt),Re(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new R(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var h=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Ie.addInitHook("addHandler","tapHold",$_),Ie.mergeOptions({touchZoom:ae.touch,bounceAtZoomLimits:!0});var z_=qn.extend({addHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(f)._divideBy(2))),this._startDist=h.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),yt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]),g=h.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var E=h._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&E.x===0&&E.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var k=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(k,this,!0),yt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ie.addInitHook("addHandler","touchZoom",z_),Ie.BoxZoom=A_,Ie.DoubleClickZoom=O_,Ie.Drag=R_,Ie.Keyboard=M_,Ie.ScrollWheelZoom=D_,Ie.TapHold=$_,Ie.TouchZoom=z_,n.Bounds=ee,n.Browser=ae,n.CRS=Ke,n.Canvas=k_,n.Circle=uf,n.CircleMarker=mu,n.Class=B,n.Control=Nn,n.DivIcon=C_,n.DivOverlay=Gn,n.DomEvent=mk,n.DomUtil=fk,n.Draggable=$i,n.Evented=Z,n.FeatureGroup=di,n.GeoJSON=pi,n.GridLayer=na,n.Handler=qn,n.Icon=Ls,n.ImageOverlay=wu,n.LatLng=me,n.LatLngBounds=de,n.Layer=An,n.LayerGroup=Ps,n.LineUtil=kk,n.Map=Ie,n.Marker=pu,n.Mixin=xk,n.Path=zi,n.Point=R,n.PolyUtil=Tk,n.Polygon=Ns,n.Polyline=fi,n.Popup=Eu,n.PosAnimation=a_,n.Projection=Pk,n.Rectangle=N_,n.Renderer=mi,n.SVG=ra,n.SVGOverlay=S_,n.TileLayer=Os,n.Tooltip=xu,n.Transformation=Ar,n.Util=V,n.VideoOverlay=T_,n.bind=a,n.bounds=re,n.canvas=P_,n.circle=$k,n.circleMarker=Dk,n.control=Jo,n.divIcon=qk,n.extend=r,n.featureGroup=Ok,n.geoJSON=x_,n.geoJson=Fk,n.gridLayer=Gk,n.icon=Rk,n.imageOverlay=Uk,n.latLng=oe,n.latLngBounds=we,n.layerGroup=Ak,n.map=gk,n.marker=Mk,n.point=$,n.polygon=Bk,n.polyline=zk,n.popup=Hk,n.rectangle=Yk,n.setOptions=S,n.stamp=c,n.svg=L_,n.svgOverlay=Vk,n.tileLayer=I_,n.tooltip=Wk,n.transformation=Vn,n.version=i,n.videoOverlay=jk;var Xk=window.L;n.noConflict=function(){return window.L=Xk,this},window.L=n})})(sg,sg.exports);var Rd=sg.exports;function Ny(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Ay(t,e){return e==null?function(i,r){const s=O.useRef();return s.current||(s.current=t(i,r)),s}:function(i,r){const s=O.useRef();s.current||(s.current=t(i,r));const a=O.useRef(i),{instance:u}=s.current;return O.useEffect(function(){a.current!==i&&(e(u,i,a.current),a.current=i)},[u,i,r]),s}}function eB(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Mb(t){return function(n){const i=Ob(),r=t(Ly(n,i),i);return Lb(i.map,n.attribution),Rb(r.current,n.eventHandlers),eB(r.current,i),r}}function tB(t,e){const n=Ay(t,e),i=Mb(n);return Y9(i)}function nB(t,e){const n=Ay(t),i=J9(n,e);return Q9(i)}function iB(t,e){const n=Ay(t,e),i=Mb(n);return X9(i)}function rB(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function og(){return og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},og.apply(this,arguments)}function sB({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:s,placeholder:a,style:u,whenReady:c,zoom:d,...p},m){const[_]=O.useState({className:r,id:s,style:u}),[w,T]=O.useState(null);O.useImperativeHandle(m,()=>(w==null?void 0:w.map)??null,[w]);const S=O.useCallback(v=>{if(v!==null&&w===null){const y=new Rd.Map(v,p);n!=null&&d!=null?y.setView(n,d):t!=null&&y.fitBounds(t,e),c!=null&&y.whenReady(c),T(Z9(y))}},[]);O.useEffect(()=>()=>{w==null||w.map.remove()},[w]);const I=w?le.createElement(Ab,{value:w},i):a??null;return le.createElement("div",og({},_,{ref:S}),I)}const oB=O.forwardRef(sB),aB=tB(function({position:e,...n},i){const r=new Rd.Marker(e,n);return Ny(r,K9(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),lB=nB(function(e,n){const i=new Rd.Popup(e,n.overlayContainer);return Ny(i,n)},function(e,n,{position:i},r){O.useEffect(function(){const{instance:a}=e;function u(d){d.popup===a&&(a.update(),r(!0))}function c(d){d.popup===a&&r(!1)}return n.map.on({popupopen:u,popupclose:c}),n.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var p;n.map.off({popupopen:u,popupclose:c}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(a)}},[e,n,r,i])}),uB=iB(function({url:e,...n},i){const r=new Rd.TileLayer(e,Ly(n,i));return Ny(r,i)},function(e,n,i){rB(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),Db=({userRef:t,listing:e})=>{const[n,i]=O.useState(null),[r,s]=O.useState("");O.useEffect(()=>{async function u(){const c=ds(gr,"users",t),d=await xy(c);d.exists()?i(d.data()):xe.error("Could not get landloard data")}u()},[t]);const a=u=>{s(u.target.value)};return b.jsx(b.Fragment,{children:n!==null&&b.jsxs("div",{className:"flex flex-col w-full",children:[b.jsxs("p",{className:"font-semibold text-slate-500",children:["Contact ",n.name," for the ",e.name.toLowerCase()]}),b.jsx("div",{className:"mt-3 mb-6",children:b.jsx("textarea",{name:"message",id:"message",rows:"2",value:r,onChange:a,className:"w-full px-4 py-2 text-xl text-gray-700 bg-white border border-gray-300 rounded transition duration-200 ease-in-out focus:text-gray-700 focus:bg-white focus:border-slate-600 "})}),b.jsx("a",{href:`mailto:${n.email}?Subject=${e.name}&body=${r}`,children:b.jsx("button",{type:"button",className:"mb-6 px-7 py-3 bg-blue-700 text-white font-medium text-sm text-center uppercase rounded shadow-md hover:bg-blue-600 hover:shadow-lg focus:bg-blue-600 focus:shadow-lg w-full transition duration-200 ease-in-out",children:"Send Message"})})]})})};Db.propTypes={listing:fe.shape({address:fe.string,bathrooms:fe.string,bedrooms:fe.string,description:fe.string,discountedPrice:fe.string,furnished:fe.bool,geolocation:fe.shape({lat:fe.number,lng:fe.number}),imgUrls:fe.arrayOf(fe.string),name:fe.string,offer:fe.bool,parking:fe.bool,regularPrice:fe.string,timestamp:fe.objectOf(fe.number),type:fe.string,userRef:fe.string,id:fe.string}).isRequired,userRef:fe.string.isRequired};const cB=()=>{var p;const[t,e]=O.useState(null),[n,i]=O.useState(!0),[r,s]=O.useState(!1),[a,u]=O.useState(!1),c=cT(),d=Yh();return No.use([O9,N9,A9]),O.useEffect(()=>{async function m(){const _=ds(gr,"listings",c.listingId),w=await xy(_);w.exists()&&(e(w.data()),i(!1))}m()},[c.listingId]),n?b.jsx(Hh,{}):b.jsxs("main",{className:"w-full",children:[b.jsx(kb,{slidesPerView:1,navigation:!0,pagination:{type:"progressbar"},effect:"fade",modules:[$9],autoplay:{delay:3e3},children:t.imgUrls.map((m,_)=>b.jsx(Pb,{children:b.jsx("div",{className:"w-full overflow-hidden h-[300px] lg:h-[520px]",style:{background:`url(${t.imgUrls[_]}) center no-repeat`,backgroundSize:"cover"}})},_))}),b.jsx("div",{className:"fixed top-[12%] right-[3%] z-20 bg-white cursor-pointer border-2 border-gray-400 rounded-full w-12 h-12 flex justify-center items-center",onClick:()=>{navigator.clipboard.writeText(window.location.href),s(!0),setTimeout(()=>{s(!1)},2e3)},children:b.jsx(q$,{className:"text-lg text-slate-500"})}),r&&b.jsx("p",{className:"fixed z-20 top-[20%] right-[5%] p-2 font-semibold border-2 border-gray-400 rounded-md bg-white",children:"Link Copied"}),b.jsxs("div",{className:"flex flex-col md:flex-row m-4 lg:mx-auto p-4 max-w-6xl rounded-lg shadow-lg bg-white lg:space-x-5",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("p",{className:"text-2xl font-bold mb-3 text-blue-900",children:[t.name," - $",t.offer?t.discountedPrice.replace(/\B(?=(\d{3})+(?!\d))/g,","):t.regularPrice.replace(/\B(?=(\d{3})+(?!\d))/g,","),t.type==="rent"?" / month":""]}),b.jsxs("p",{className:"flex items-center mt-6 mb-3",children:[b.jsx(H$,{className:"text-green-700 mr-1"}),t.address]}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-start items-start sm:items-center sm:space-x-4 w-[75%]",children:[b.jsx("p",{className:"bg-red-800 w-full max-w-[200px] rounded-md mb-2 sm:mb-0 p-1 text-white text-center font-semibold shadow-md",children:t.type==="rent"?"Rent":"Sale"}),b.jsx("div",{children:t.offer&&b.jsxs("p",{className:"bg-green-800 w-full max-w-[200px] rounded-md p-1 text-white text-center font-semibold shadow-md",children:["$",+t.regularPrice-+t.discountedPrice," discount"]})})]}),b.jsxs("p",{className:"mt-3 mb-3",children:[b.jsx("span",{className:"font-semibold",children:"Description -"}),t.description]}),b.jsxs("ul",{className:"flex flex-col sm:flex-row justify-start items-start sm:items-center sm:space-x-2 mb-6 lg:space-x-10 text-sm font-semibold",children:[b.jsxs("li",{className:"flex items-center whitespace-nowrap",children:[b.jsx(j$,{className:"text-lg mr-1"}),+t.bedrooms>1?`${t.bedrooms} Beds`:"1 Bed"]}),b.jsxs("li",{className:"flex items-center whitespace-nowrap",children:[b.jsx(U$,{className:"text-lg mr-1"}),+t.bathrooms>1?`${t.bathrooms} Baths`:"1 Bath"]}),b.jsxs("li",{className:"flex items-center whitespace-nowrap",children:[b.jsx(W$,{className:"text-lg mr-1"}),+t.parking>1?"Parking Spot":"No Parking"]}),b.jsxs("li",{className:"flex items-center whitespace-nowrap",children:[b.jsx(V$,{className:"text-lg mr-1"}),t.furnished?"Furnished":"Not furnished"]})]}),t.userRef!==((p=d.currentUser)==null?void 0:p.uid)&&!a&&b.jsx("div",{className:"mt-6",children:b.jsx("button",{onClick:()=>u(!0),className:"px-7 py-3 bg-blue-700 text-white font-medium text-sm text-center uppercase rounded shadow-md hover:bg-blue-600 hover:shadow-lg focus:bg-blue-600 focus:shadow-lg w-full transition duration-200 ease-in-out",children:"Contact Landlord"})}),a&&b.jsx(Db,{userRef:t.userRef,listing:t})]}),b.jsx("div",{className:"mt-6 md:mt-0 md:ml-2 w-full z-10 h-[200px] md:h-[400px] overflow-x-hidden",children:b.jsxs(oB,{center:[t.geolocation.lat,t.geolocation.lng],zoom:10,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[b.jsx(uB,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),b.jsx(aB,{position:[t.geolocation.lat,t.geolocation.lng],children:b.jsx(lB,{children:t.address})})]})})]})]})},hB=O.lazy(()=>Ir(()=>import("./Layout-61df1ec5.js"),[])),dB=O.lazy(()=>Ir(()=>import("./HomePage-619569c1.js"),[])),fB=O.lazy(()=>Ir(()=>import("./SignInPage-94e6dac9.js"),["assets/SignInPage-94e6dac9.js","assets/index.esm-c74114d4.js","assets/OAuth-da48eeb0.js"])),pB=O.lazy(()=>Ir(()=>import("./SignUpPage-283498bd.js"),["assets/SignUpPage-283498bd.js","assets/index.esm-c74114d4.js","assets/OAuth-da48eeb0.js"])),mB=O.lazy(()=>Ir(()=>import("./ForgotPasswordPage-4d64eb2e.js"),["assets/ForgotPasswordPage-4d64eb2e.js","assets/OAuth-da48eeb0.js"])),gB=O.lazy(()=>Ir(()=>import("./OffersPage-b987b58f.js"),[])),vB=O.lazy(()=>Ir(()=>import("./PageNotFound-c0f13e77.js"),[])),xp=O.lazy(()=>Ir(()=>import("./PrivateRoute-21b827bd.js"),[])),yB=()=>b.jsx(O.Suspense,{fallback:b.jsx(Hh,{}),children:b.jsx(_N,{children:b.jsxs(jt,{path:"/",element:b.jsx(hB,{}),children:[b.jsx(jt,{index:!0,element:b.jsx(dB,{})}),b.jsx(jt,{path:"profile",element:b.jsx(xp,{}),children:b.jsx(jt,{path:"/profile",element:b.jsx(Z$,{})})}),b.jsx(jt,{path:"sign-in",element:b.jsx(fB,{})}),b.jsx(jt,{path:"sign-up",element:b.jsx(pB,{})}),b.jsx(jt,{path:"forgot-password",element:b.jsx(mB,{})}),b.jsx(jt,{path:"/category/:categoryName/:listingId",element:b.jsx(cB,{})}),b.jsx(jt,{path:"offers",element:b.jsx(gB,{})}),b.jsx(jt,{path:"create-listing",element:b.jsx(xp,{}),children:b.jsx(jt,{path:"/create-listing",element:b.jsx(cz,{})})}),b.jsx(jt,{path:"edit-listing",element:b.jsx(xp,{}),children:b.jsx(jt,{path:"/edit-listing/:listingId",element:b.jsx(hz,{})})}),b.jsx(jt,{path:"*",element:b.jsx(vB,{})})]})})});function _B(){return b.jsxs(b.Fragment,{children:[b.jsx(yB,{}),b.jsx(Xm,{position:"bottom-center",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}Tp.createRoot(document.getElementById("root")).render(b.jsx(SN,{basename:"/RealEstate",children:b.jsx(O.StrictMode,{children:b.jsx(_B,{})})}));export{OB as F,PI as G,av as L,xB as N,EB as O,xe as Q,Hh as S,RB as a,DB as b,MB as c,SB as d,KO as e,ds as f,Yh as g,gr as h,Kt as i,b as j,TB as k,AB as l,NB as m,qi as n,IB as o,bB as p,xy as q,O as r,CB as s,wB as t,Ml as u};
